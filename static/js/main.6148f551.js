/*! For license information please see main.6148f551.js.LICENSE.txt */
!function(){var e={318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(652)},195:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(608)),a=n(343),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},638:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(608)),a=n(343),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},608:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(750)},750:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return Lr},debounce:function(){return Mr},deprecatedPropType:function(){return Fr},isMuiElement:function(){return jr},ownerDocument:function(){return qr},ownerWindow:function(){return Br},requirePropFactory:function(){return Ur},setRef:function(){return Wr},unstable_ClassNameGenerator:function(){return li},unstable_useEnhancedEffect:function(){return Hr},unstable_useId:function(){return $r},unsupportedProp:function(){return Yr},useControlled:function(){return Zr},useEventCallback:function(){return Xr},useForkRef:function(){return ei},useIsFocusVisible:function(){return si}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},l=n(462),c=n(381),f=n.t(c,2),h=n(366);function d(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}function v(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,l.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,l.Z)({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=m(e[i],t[i],n):r[i]=t[i])})),r}var g=n(942),k=["values","unit","step"];function b(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=(0,h.Z)(e,k),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,l.Z)({},e,(0,g.Z)({},t.key,t.val))}),{})}(n),c=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return(0,l.Z)({keys:c,values:s,up:f,down:d,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):f(e)},not:function(e){var t=c.indexOf(e);return 0===t?f(c[1]):t===c.length-1?d(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var w={borderRadius:4},_=n(885),x={xs:0,sm:600,md:900,lg:1200,xl:1536},S={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(x[e],"px)")}};function E(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||S;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||S;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||x).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function C(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function T(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function I(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function N(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:I(e,n)||i,t&&(r=t(r)),r}var A=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=I(e.theme,i)||{};return E(e,n,(function(e){var n=N(u,a,e);return e===n&&"string"===typeof e&&(n=N(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,g.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var P=function(e,t){return t?m(e,t,{clone:!1}):e};var D={m:"margin",p:"padding"},R={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!O[e])return[e];e=O[e]}var t=e.split(""),n=(0,_.Z)(t,2),r=n[0],i=n[1],a=D[r],o=R[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),M=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],j=[].concat(M,F);function V(e,t,n,r){var i=I(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function q(e){return V(e,"spacing",8)}function B(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function U(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=B(t,n),e}),{})}}(L(n),r);return E(e,e[n],i)}function z(e,t){var n=q(e.theme);return Object.keys(e).map((function(r){return U(e,t,r,n)})).reduce(P,{})}function W(e){return z(e,M)}function K(e){return z(e,F)}function H(e){return z(e,j)}W.propTypes={},W.filterProps=M,K.propTypes={},K.filterProps=F,H.propTypes={},H.filterProps=j;var G=H;function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=q({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var $=["breakpoints","palette","spacing","shape"];var Y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=(0,h.Z)(e,$),c=b(n),f=Q(a),d=m({breakpoints:c,direction:"ltr",components:{},palette:(0,l.Z)({mode:"light"},i),spacing:f,shape:(0,l.Z)({},w,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),y=1;y<p;y++)v[y-1]=arguments[y];return d=v.reduce((function(e,t){return m(e,t)}),d)};var Z=c.createContext(null);function X(){return c.useContext(Z)}function J(e){return 0===Object.keys(e).length}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=X();return!t||J(t)?e:t},te=Y();var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return ee(e)};function re(e,t,n){var r;return(0,l.Z)({toolbar:(r={minHeight:56},(0,g.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,g.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function ae(e){if(e.type)return e;if("#"===e.charAt(0))return ae(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function oe(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ue(e){var t="hsl"===(e=ae(e)).type?ae(function(e){var t=(e=ae(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),oe({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function se(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return oe(e)}function le(e,t){if(e=ae(e),t=ie(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return oe(e)}var ce={black:"#000",white:"#fff"},fe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},he={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},de={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ye={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},me={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ge=["mode","contrastThreshold","tonalOffset"],ke={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ce.white,default:ce.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},be={text:{primary:ce.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ce.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function we(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=le(e.main,i):"dark"===t&&(e.dark=se(e.main,a)))}function _e(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=(0,h.Z)(e,ge),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ve[200],light:ve[50],dark:ve[400]}:{main:ve[700],light:ve[400],dark:ve[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:he[200],light:he[50],dark:he[400]}:{main:he[500],light:he[300],dark:he[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[500],light:de[300],dark:de[700]}:{main:de[700],light:de[400],dark:de[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ye[400],light:ye[300],dark:ye[700]}:{main:ye[700],light:ye[500],dark:ye[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:me[400],light:me[300],dark:me[700]}:{main:me[800],light:me[500],dark:me[900]}}(n),y=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:"#ed6c02",light:pe[500],dark:pe[900]}}(n);function g(e){var t=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,be.text.primary)>=i?be.text.primary:ke.text.primary;return t}var k=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,c=e.darkShade,f=void 0===c?700:c;if(!(t=(0,l.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return we(t,"light",s,u),we(t,"dark",f,u),t.contrastText||(t.contrastText=g(t.main)),t},b={dark:be,light:ke};return m((0,l.Z)({common:ce,mode:n,primary:k({color:c,name:"primary"}),secondary:k({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:y,name:"warning"}),info:k({color:p,name:"info"}),success:k({color:v,name:"success"}),grey:fe,contrastThreshold:i,getContrastText:g,augmentColor:k,tonalOffset:u},b[n]),s)}var xe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Se={textTransform:"uppercase"},Ee='"Roboto", "Helvetica", "Arial", sans-serif';function Ce(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ee:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,f=void 0===c?400:c,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,y=void 0===v?700:v,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,_=(0,h.Z)(n,xe);var x=o/14,S=w||function(e){return"".concat(e/k*x,"rem")},E=function(e,t,n,r,a){return(0,l.Z)({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===Ee?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},C={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,Se),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,Se)};return m((0,l.Z)({htmlFontSize:k,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:y},C),_,{clone:!1})}function Te(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ie=["none",Te(0,2,1,-1,0,1,1,0,0,1,3,0),Te(0,3,1,-2,0,2,2,0,0,1,5,0),Te(0,3,3,-2,0,3,4,0,0,1,8,0),Te(0,2,4,-1,0,4,5,0,0,1,10,0),Te(0,3,5,-1,0,5,8,0,0,1,14,0),Te(0,3,5,-1,0,6,10,0,0,1,18,0),Te(0,4,5,-2,0,7,10,1,0,2,16,1),Te(0,5,5,-3,0,8,10,1,0,3,14,2),Te(0,5,6,-3,0,9,12,1,0,3,16,2),Te(0,6,6,-3,0,10,14,1,0,4,18,3),Te(0,6,7,-4,0,11,15,1,0,4,20,3),Te(0,7,8,-4,0,12,17,2,0,5,22,4),Te(0,7,8,-4,0,13,19,2,0,5,24,4),Te(0,7,9,-4,0,14,21,2,0,5,26,4),Te(0,8,9,-5,0,15,22,2,0,6,28,5),Te(0,8,10,-5,0,16,24,2,0,6,30,5),Te(0,8,11,-5,0,17,26,2,0,6,32,5),Te(0,9,11,-5,0,18,28,2,0,7,34,6),Te(0,9,12,-6,0,19,29,2,0,7,36,6),Te(0,10,13,-6,0,20,31,3,0,8,38,7),Te(0,10,13,-6,0,21,33,3,0,8,40,7),Te(0,10,14,-6,0,22,35,3,0,8,42,7),Te(0,11,14,-7,0,23,36,3,0,9,44,8),Te(0,11,15,-7,0,24,38,3,0,9,46,8)],Ne=["duration","easing","delay"],Ae={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Pe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function De(e){return"".concat(Math.round(e),"ms")}function Re(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Oe(e){var t=(0,l.Z)({},Ae,e.easing),n=(0,l.Z)({},Pe,e.duration);return(0,l.Z)({getAutoHeightDuration:Re,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,l=void 0===s?0:s;(0,h.Z)(r,Ne);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:De(a)," ").concat(u," ").concat("string"===typeof l?l:De(l))})).join(",")}},e,{easing:t,duration:n})}var Le={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Me=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=(0,h.Z)(e,Me),f=_e(i),d=Y(e),p=m(d,{mixins:re(d.breakpoints,d.spacing,n),palette:f,shadows:Ie.slice(),typography:Ce(f,s),transitions:Oe(o),zIndex:(0,l.Z)({},Le)});p=m(p,c);for(var v=arguments.length,y=new Array(v>1?v-1:0),g=1;g<v;g++)y[g-1]=arguments[g];return p=y.reduce((function(e,t){return m(e,t)}),p)}var je=Fe();function Ve(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return v({theme:ne(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:je})}var qe=n(982);var Be=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ue=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ze=Be((function(e){return Ue.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var We=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ke=Math.abs,He=String.fromCharCode,Ge=Object.assign;function Qe(e){return e.trim()}function $e(e,t,n){return e.replace(t,n)}function Ye(e,t){return e.indexOf(t)}function Ze(e,t){return 0|e.charCodeAt(t)}function Xe(e,t,n){return e.slice(t,n)}function Je(e){return e.length}function et(e){return e.length}function tt(e,t){return t.push(e),e}var nt=1,rt=1,it=0,at=0,ot=0,ut="";function st(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:nt,column:rt,length:o,return:""}}function lt(e,t){return Ge(st("",null,null,"",null,null,0),e,{length:-e.length},t)}function ct(){return ot=at>0?Ze(ut,--at):0,rt--,10===ot&&(rt=1,nt--),ot}function ft(){return ot=at<it?Ze(ut,at++):0,rt++,10===ot&&(rt=1,nt++),ot}function ht(){return Ze(ut,at)}function dt(){return at}function pt(e,t){return Xe(ut,e,t)}function vt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yt(e){return nt=rt=1,it=Je(ut=e),at=0,[]}function mt(e){return ut="",e}function gt(e){return Qe(pt(at-1,wt(91===e?e+2:40===e?e+1:e)))}function kt(e){for(;(ot=ht())&&ot<33;)ft();return vt(e)>2||vt(ot)>3?"":" "}function bt(e,t){for(;--t&&ft()&&!(ot<48||ot>102||ot>57&&ot<65||ot>70&&ot<97););return pt(e,dt()+(t<6&&32==ht()&&32==ft()))}function wt(e){for(;ft();)switch(ot){case e:return at;case 34:case 39:34!==e&&39!==e&&wt(ot);break;case 40:41===e&&wt(e);break;case 92:ft()}return at}function _t(e,t){for(;ft()&&e+ot!==57&&(e+ot!==84||47!==ht()););return"/*"+pt(t,at-1)+"*"+He(47===e?e:ft())}function xt(e){for(;!vt(ht());)ft();return pt(e,at)}var St="-ms-",Et="-moz-",Ct="-webkit-",Tt="comm",It="rule",Nt="decl",At="@keyframes";function Pt(e,t){for(var n="",r=et(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Dt(e,t,n,r){switch(e.type){case"@import":case Nt:return e.return=e.return||e.value;case Tt:return"";case At:return e.return=e.value+"{"+Pt(e.children,r)+"}";case It:e.value=e.props.join(",")}return Je(n=Pt(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rt(e,t){switch(function(e,t){return(((t<<2^Ze(e,0))<<2^Ze(e,1))<<2^Ze(e,2))<<2^Ze(e,3)}(e,t)){case 5103:return Ct+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ct+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ct+e+Et+e+St+e+e;case 6828:case 4268:return Ct+e+St+e+e;case 6165:return Ct+e+St+"flex-"+e+e;case 5187:return Ct+e+$e(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Ct+e+St+"flex-item-"+$e(e,/flex-|-self/,"")+e;case 4675:return Ct+e+St+"flex-line-pack"+$e(e,/align-content|flex-|-self/,"")+e;case 5548:return Ct+e+St+$e(e,"shrink","negative")+e;case 5292:return Ct+e+St+$e(e,"basis","preferred-size")+e;case 6060:return Ct+"box-"+$e(e,"-grow","")+Ct+e+St+$e(e,"grow","positive")+e;case 4554:return Ct+$e(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return $e($e($e(e,/(zoom-|grab)/,Ct+"$1"),/(image-set)/,Ct+"$1"),e,"")+e;case 5495:case 3959:return $e(e,/(image-set\([^]*)/,Ct+"$1$`$1");case 4968:return $e($e(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ct+e+e;case 4095:case 3583:case 4068:case 2532:return $e(e,/(.+)-inline(.+)/,Ct+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Je(e)-1-t>6)switch(Ze(e,t+1)){case 109:if(45!==Ze(e,t+4))break;case 102:return $e(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Et+(108==Ze(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ye(e,"stretch")?Rt($e(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ze(e,t+1))break;case 6444:switch(Ze(e,Je(e)-3-(~Ye(e,"!important")&&10))){case 107:return $e(e,":",":"+Ct)+e;case 101:return $e(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ct+(45===Ze(e,14)?"inline-":"")+"box$3$1"+Ct+"$2$3$1"+St+"$2box$3")+e}break;case 5936:switch(Ze(e,t+11)){case 114:return Ct+e+St+$e(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ct+e+St+$e(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ct+e+St+$e(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ct+e+St+e+e}return e}function Ot(e){return mt(Lt("",null,null,null,[""],e=yt(e),0,[0],e))}function Lt(e,t,n,r,i,a,o,u,s){for(var l=0,c=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,k="",b=i,w=a,_=r,x=k;y;)switch(p=g,g=ft()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=Ye(x+=$e(gt(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:x+=gt(g);break;case 9:case 10:case 13:case 32:x+=kt(p);break;case 92:x+=bt(dt()-1,7);continue;case 47:switch(ht()){case 42:case 47:tt(Ft(_t(ft(),dt()),t,n),s);break;default:x+="/"}break;case 123*v:u[l++]=Je(x)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+c:d>0&&Je(x)-f&&tt(d>32?jt(x+";",r,n,f-1):jt($e(x," ","")+";",r,n,f-2),s);break;case 59:x+=";";default:if(tt(_=Mt(x,t,n,l,c,i,u,k,b=[],w=[],f),a),123===g)if(0===c)Lt(x,t,_,_,b,a,f,u,w);else switch(h){case 100:case 109:case 115:Lt(e,_,_,r&&tt(Mt(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:Lt(x,_,_,_,[""],w,0,u,w)}}l=c=d=0,v=m=1,k=x="",f=o;break;case 58:f=1+Je(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==ct())continue;switch(x+=He(g),g*v){case 38:m=c>0?1:(x+="\f",-1);break;case 44:u[l++]=(Je(x)-1)*m,m=1;break;case 64:45===ht()&&(x+=gt(ft())),h=ht(),c=f=Je(k=x+=xt(dt())),g++;break;case 45:45===p&&2==Je(x)&&(v=0)}}return a}function Mt(e,t,n,r,i,a,o,u,s,l,c){for(var f=i-1,h=0===i?a:[""],d=et(h),p=0,v=0,y=0;p<r;++p)for(var m=0,g=Xe(e,f+1,f=Ke(v=o[p])),k=e;m<d;++m)(k=Qe(v>0?h[m]+" "+g:$e(g,/&\f/g,h[m])))&&(s[y++]=k);return st(e,t,n,0===i?It:u,s,l,c)}function Ft(e,t,n){return st(e,t,n,Tt,He(ot),Xe(e,2,-2),0)}function jt(e,t,n,r){return st(e,t,n,Nt,Xe(e,0,r),Xe(e,r+1,-1),r)}var Vt=function(e,t,n){for(var r=0,i=0;r=i,i=ht(),38===r&&12===i&&(t[n]=1),!vt(i);)ft();return pt(e,at)},qt=function(e,t){return mt(function(e,t){var n=-1,r=44;do{switch(vt(r)){case 0:38===r&&12===ht()&&(t[n]=1),e[n]+=Vt(at-1,t,n);break;case 2:e[n]+=gt(r);break;case 4:if(44===r){e[++n]=58===ht()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=He(r)}}while(r=ft());return e}(yt(e),t))},Bt=new WeakMap,Ut=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Bt.get(n))&&!r){Bt.set(e,!0);for(var i=[],a=qt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var l=0;l<o.length;l++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[l]):o[l]+" "+a[u]}}},zt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Wt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Nt:e.return=Rt(e.value,e.length);break;case At:return Pt([lt(e,{value:$e(e.value,"@","@"+Ct)})],r);case It:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Pt([lt(e,{props:[$e(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Pt([lt(e,{props:[$e(t,/:(plac\w+)/,":-webkit-input-$1")]}),lt(e,{props:[$e(t,/:(plac\w+)/,":-moz-$1")]}),lt(e,{props:[$e(t,/:(plac\w+)/,St+"input-$1")]})],r)}return""}))}}],Kt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Wt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,l,c=[Dt,(l=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],f=function(e){var t=et(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Ut,zt].concat(r,c));a=function(e,t,n,r){s=n,Pt(Ot(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new We({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Ht=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Gt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qt=/[A-Z]|^ms/g,$t=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yt=function(e){return 45===e.charCodeAt(1)},Zt=function(e){return null!=e&&"boolean"!==typeof e},Xt=Be((function(e){return Yt(e)?e:e.replace(Qt,"-$&").toLowerCase()})),Jt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace($t,(function(e,t,n){return tn={name:t,styles:n,next:tn},t}))}return 1===Gt[e]||Yt(e)||"number"!==typeof t||0===t?t:t+"px"};function en(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return tn={name:n.name,styles:n.styles,next:tn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)tn={name:r.name,styles:r.styles,next:tn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=en(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Zt(o)&&(r+=Xt(a)+":"+Jt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=en(e,t,o);switch(a){case"animation":case"animationName":r+=Xt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Zt(o[s])&&(r+=Xt(a)+":"+Jt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=tn,a=n(e);return tn=i,en(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var tn,nn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var rn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";tn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=en(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=en(n,t,e[o]),r&&(i+=a[o]);nn.lastIndex=0;for(var u,s="";null!==(u=nn.exec(i));)s+="-"+u[1];return{name:Ht(i)+s,styles:i,next:tn}},an=(0,c.createContext)("undefined"!==typeof HTMLElement?Kt({key:"css"}):null);an.Provider;var on=function(e){return(0,c.forwardRef)((function(t,n){var r=(0,c.useContext)(an);return e(t,r,n)}))},un=(0,c.createContext)({});f.useInsertionEffect&&f.useInsertionEffect;function sn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var ln=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},cn=ze,fn=function(e){return"theme"!==e},hn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?cn:fn},dn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},pn=f.useInsertionEffect?f.useInsertionEffect:function(e){e()};var vn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;ln(t,n,r);var i;i=function(){return function(e,t,n){ln(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},pn(i);return null},yn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=dn(t,n,a),s=u||hn(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var y=on((function(e,t,n){var r=f&&e.as||o,a="",l=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,c.useContext)(un)}"string"===typeof e.className?a=sn(t.registered,l,e.className):null!=e.className&&(a=e.className+" ");var v=rn(d.concat(l),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var y=f&&void 0===u?hn(r):s,m={};for(var g in e)f&&"as"===g||y(g)&&(m[g]=e[g]);return m.className=a,m.ref=n,(0,c.createElement)(c.Fragment,null,(0,c.createElement)(vn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,c.createElement)(r,m))}));return y.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=o,y.__emotion_styles=d,y.__emotion_forwardProp=u,Object.defineProperty(y,"toString",{value:function(){return"."+i}}),y.withComponent=function(t,r){return e(t,(0,l.Z)({},n,r,{shouldForwardProp:dn(y,r,!0)})).apply(void 0,d)},y}},mn=yn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){mn[e]=mn(e)}));var gn=mn;function kn(e,t){return gn(e,t)}var bn=["variant"];function wn(e){return 0===e.length}function _n(e){var t=e.variant,n=(0,h.Z)(e,bn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?wn(r)?e[t]:o(e[t]):"".concat(wn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var xn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?P(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Sn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var En=A({prop:"border",themeKey:"borders",transform:Sn}),Cn=A({prop:"borderTop",themeKey:"borders",transform:Sn}),Tn=A({prop:"borderRight",themeKey:"borders",transform:Sn}),In=A({prop:"borderBottom",themeKey:"borders",transform:Sn}),Nn=A({prop:"borderLeft",themeKey:"borders",transform:Sn}),An=A({prop:"borderColor",themeKey:"palette"}),Pn=A({prop:"borderTopColor",themeKey:"palette"}),Dn=A({prop:"borderRightColor",themeKey:"palette"}),Rn=A({prop:"borderBottomColor",themeKey:"palette"}),On=A({prop:"borderLeftColor",themeKey:"palette"}),Ln=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=V(e.theme,"shape.borderRadius",4);return E(e,e.borderRadius,(function(e){return{borderRadius:B(t,e)}}))}return null};Ln.propTypes={},Ln.filterProps=["borderRadius"];var Mn=xn(En,Cn,Tn,In,Nn,An,Pn,Dn,Rn,On,Ln),Fn=xn(A({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),A({prop:"display"}),A({prop:"overflow"}),A({prop:"textOverflow"}),A({prop:"visibility"}),A({prop:"whiteSpace"})),jn=xn(A({prop:"flexBasis"}),A({prop:"flexDirection"}),A({prop:"flexWrap"}),A({prop:"justifyContent"}),A({prop:"alignItems"}),A({prop:"alignContent"}),A({prop:"order"}),A({prop:"flex"}),A({prop:"flexGrow"}),A({prop:"flexShrink"}),A({prop:"alignSelf"}),A({prop:"justifyItems"}),A({prop:"justifySelf"})),Vn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=V(e.theme,"spacing",8);return E(e,e.gap,(function(e){return{gap:B(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["gap"];var qn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=V(e.theme,"spacing",8);return E(e,e.columnGap,(function(e){return{columnGap:B(t,e)}}))}return null};qn.propTypes={},qn.filterProps=["columnGap"];var Bn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=V(e.theme,"spacing",8);return E(e,e.rowGap,(function(e){return{rowGap:B(t,e)}}))}return null};Bn.propTypes={},Bn.filterProps=["rowGap"];var Un=xn(Vn,qn,Bn,A({prop:"gridColumn"}),A({prop:"gridRow"}),A({prop:"gridAutoFlow"}),A({prop:"gridAutoColumns"}),A({prop:"gridAutoRows"}),A({prop:"gridTemplateColumns"}),A({prop:"gridTemplateRows"}),A({prop:"gridTemplateAreas"}),A({prop:"gridArea"})),zn=xn(A({prop:"position"}),A({prop:"zIndex",themeKey:"zIndex"}),A({prop:"top"}),A({prop:"right"}),A({prop:"bottom"}),A({prop:"left"})),Wn=xn(A({prop:"color",themeKey:"palette"}),A({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),A({prop:"backgroundColor",themeKey:"palette"})),Kn=A({prop:"boxShadow",themeKey:"shadows"});function Hn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Gn=A({prop:"width",transform:Hn}),Qn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return E(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||x[t]||Hn(t)}}))}return null};Qn.filterProps=["maxWidth"];var $n=A({prop:"minWidth",transform:Hn}),Yn=A({prop:"height",transform:Hn}),Zn=A({prop:"maxHeight",transform:Hn}),Xn=A({prop:"minHeight",transform:Hn}),Jn=(A({prop:"size",cssProperty:"width",transform:Hn}),A({prop:"size",cssProperty:"height",transform:Hn}),xn(Gn,Qn,$n,Yn,Zn,Xn,A({prop:"boxSizing"}))),er=A({prop:"fontFamily",themeKey:"typography"}),tr=A({prop:"fontSize",themeKey:"typography"}),nr=A({prop:"fontStyle",themeKey:"typography"}),rr=A({prop:"fontWeight",themeKey:"typography"}),ir=A({prop:"letterSpacing"}),ar=A({prop:"textTransform"}),or=A({prop:"lineHeight"}),ur=A({prop:"textAlign"}),sr=xn(A({prop:"typography",cssProperty:!1,themeKey:"typography"}),er,tr,nr,rr,ir,or,ur,ar),lr={borders:Mn.filterProps,display:Fn.filterProps,flexbox:jn.filterProps,grid:Un.filterProps,positions:zn.filterProps,palette:Wn.filterProps,shadows:Kn.filterProps,sizing:Jn.filterProps,spacing:G.filterProps,typography:sr.filterProps},cr={borders:Mn,display:Fn,flexbox:jn,grid:Un,positions:zn,palette:Wn,shadows:Kn,sizing:Jn,spacing:G,typography:sr};Object.keys(lr).reduce((function(e,t){return lr[t].forEach((function(n){e[n]=cr[t]})),e}),{});function fr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function hr(e,t){return"function"===typeof e?e(t):e}var dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,g.Z)(i,e,n),(0,g.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,g.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=C(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=hr(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=P(s,n(e,a,u));else{var o=E({theme:u},a,(function(t){return(0,g.Z)({},e,t)}));fr(o,a)?s[e]=r({sx:a,theme:u}):s=P(s,o)}else s=P(s,n(e,a,u))})),T(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();dr.filterProps=["sx"];var pr=dr,vr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],yr=["theme"],mr=["theme"];function gr(e){return 0===Object.keys(e).length}var kr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},br=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=_n(e.props);r[t]=e.style})),r},wr=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],l=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[_n(n.props)])})),s};function _r(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var xr=Y();var Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?xr:t,r=e.rootShouldForwardProp,i=void 0===r?_r:r,a=e.slotShouldForwardProp,o=void 0===a?_r:a,u=e.styleFunctionSx,s=void 0===u?pr:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,c=r.skipVariantsResolver,f=r.skipSx,d=r.overridesResolver,p=(0,h.Z)(r,vr),v=void 0!==c?c:u&&"Root"!==u||!1,y=f||!1;var m=_r;"Root"===u?m=i:u&&(m=o);var g=kn(e,(0,l.Z)({shouldForwardProp:m,label:t},p)),k=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,h.Z)(t,yr);return e((0,l.Z)({theme:gr(r)?n:r},i))}:e})):[],u=e;a&&d&&o.push((function(e){var t=gr(e.theme)?n:e.theme,r=kr(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=(0,_.Z)(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),d(e,i)}return null})),a&&!v&&o.push((function(e){var t=gr(e.theme)?n:e.theme;return wr(e,br(a,t),t,a)})),y||o.push((function(e){var t=gr(e.theme)?n:e.theme;return s((0,l.Z)({},e,{theme:t}))}));var c=o.length-r.length;if(Array.isArray(e)&&c>0){var f=new Array(c).fill("");(u=[].concat((0,qe.Z)(e),(0,qe.Z)(f))).raw=[].concat((0,qe.Z)(e.raw),(0,qe.Z)(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=(0,h.Z)(t,mr);return e((0,l.Z)({theme:gr(r)?n:r},i))});var p=g.apply(void 0,[u].concat((0,qe.Z)(o)));return p};return g.withConfig&&(k.withConfig=g.withConfig),k}}({defaultTheme:je,rootShouldForwardProp:function(e){return _r(e)&&"classes"!==e}}),Er=Sr,Cr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Tr(e,t){return Cr[t]||"".concat(i.generate(e),"-").concat(t)}function Ir(e){return Tr("MuiSvgIcon",e)}!function(e,t){var n={};t.forEach((function(t){n[t]=Tr(e,t)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Nr=n(343),Ar=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Pr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},Ir,r)},Dr=Er("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,l,c,f,h,d,p,v,y,m,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(l=g.typography)||null==(c=l.pxToRem)?void 0:c.call(l,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(y=g.palette)||null==(m=y.action)?void 0:m.disabled,inherit:void 0}[k.color]}})),Rr=c.forwardRef((function(e,t){var n=Ve({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,f=void 0===c?"medium":c,d=n.htmlColor,v=n.inheritViewBox,y=void 0!==v&&v,m=n.titleAccess,g=n.viewBox,k=void 0===g?"0 0 24 24":g,b=(0,h.Z)(n,Ar),w=(0,l.Z)({},n,{color:o,component:s,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:k}),_={};y||(_.viewBox=k);var x=Pr(w);return(0,Nr.jsxs)(Dr,(0,l.Z)({as:s,className:p(x.root,i),ownerState:w,focusable:"false",color:d,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},_,b,{children:[r,m?(0,Nr.jsx)("title",{children:m}):null]}))}));Rr.muiName="SvgIcon";var Or=Rr;function Lr(e,t){var n=function(n,r){return(0,Nr.jsx)(Or,(0,l.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Or.muiName,c.memo(c.forwardRef(n))}var Mr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var Fr=function(e,t){return function(){return null}};var jr=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Vr(e){return e&&e.ownerDocument||document}var qr=Vr;var Br=function(e){return Vr(e).defaultView||window};var Ur=function(e,t){return function(){return null}};function zr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Wr=zr,Kr="undefined"!==typeof window?c.useLayoutEffect:c.useEffect,Hr=Kr,Gr=0;var Qr=f.useId;var $r=function(e){if(void 0!==Qr){var t=Qr();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,_.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(Gr+=1))}),[r]),a}(e)};var Yr=function(e,t,n,r,i){return null};var Zr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,c.useRef(void 0!==t).current),i=c.useState(n),a=(0,_.Z)(i,2),o=a[0],u=a[1];return[r?t:o,c.useCallback((function(e){r||u(e)}),[])]};var Xr=function(e){var t=c.useRef(e);return Kr((function(){t.current=e})),c.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var Jr,ei=function(e,t){return c.useMemo((function(){return null==e&&null==t?null:function(n){zr(e,n),zr(t,n)}}),[e,t])},ti=!0,ni=!1,ri={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ii(e){e.metaKey||e.altKey||e.ctrlKey||(ti=!0)}function ai(){ti=!1}function oi(){"hidden"===this.visibilityState&&ni&&(ti=!0)}function ui(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ti||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ri[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var si=function(){var e=c.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ii,!0),t.addEventListener("mousedown",ai,!0),t.addEventListener("pointerdown",ai,!0),t.addEventListener("touchstart",ai,!0),t.addEventListener("visibilitychange",oi,!0))}),[]),t=c.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!ui(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ni=!0,window.clearTimeout(Jr),Jr=window.setTimeout((function(){ni=!1}),100),t.current=!1,!0)},ref:e}},li={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.configure(e)}}},954:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},804:function(e,t,n){"use strict";var r=n(55),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{l(t,m,g)}catch(k){}}}}return t}},899:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},55:function(e,t,n){"use strict";e.exports=n(899)},37:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},651:function(e,t,n){"use strict";var r=n(870);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},860:function(e,t,n){e.exports=n(651)()},870:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},166:function(e,t,n){"use strict";var r=n(381),i=n(46);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function q(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=yi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),_e(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ve=null,qe={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(qe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ze=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,_t,xt,St,Et=!1,Ct=[],Tt=null,It=null,Nt=null,At=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(jt),Pt.forEach(jt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&qt(Tt,e),null!==It&&qt(It,e),null!==Nt&&qt(Nt,e),At.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Ut=b.ReactCurrentBatchConfig;function zt(e,t,n,r){var i=gt,a=Ut.transition;Ut.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Ut.transition=a}}function Wt(e,t,n,r){var i=gt,a=Ut.transition;Ut.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Ut.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)Ur(e,t,r,Ht,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&bt(a),null===(a=Gt(e,t,n,r))&&Ur(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}var Ht=null;function Gt(e,t,n,r){if(Ht=null,null!==(e=vi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Zt=null;function Xt(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),ln=F({},un,{view:0,detail:0}),cn=nn(ln),fn=F({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},ln,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mn=nn(yn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function xn(){return _n}var Sn=F({},ln,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(Sn),Cn=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),In=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Nn),Pn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var On=c&&"TextEvent"in window&&!Rn,Ln=c&&(!Dn||Rn&&8<Rn&&11>=Rn),Mn=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function zn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Hn(e){Mr(e,0)}function Gn(e){if(G(mi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(c){var Yn;if(c){var Zn="oninput"in document;if(!Zn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Zn="function"===typeof Xn.oninput}Yn=Zn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Jn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];zn(t,Kn,e,we(e)),Pe(Hn,t)}}function tr(e,t,n){"focusin"===e?(Jn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Jn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=c&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,yr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},_r={};function xr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return wr[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=xr("animationend"),Er=xr("animationiteration"),Cr=xr("animationstart"),Tr=xr("transitionend"),Ir=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),s(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Dr=Nr[Pr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(Er,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=zt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Ir.get(e);if(void 0!==u){var s=sn,l=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":l="focus",s=pn;break;case"focusout":l="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Sr:case Er:case Cr:s=vn;break;case Tr:s=In;break;case"scroll":s=cn;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&c.push(zr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(f=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:mi(s),d=null==l?u:mi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==s&&Hr(o,u,s,c,!1),null!==l&&null!==f&&Hr(o,f,l,c,!0)}if("select"===(s=(u=r?mi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Qn;else if(Un(u))if($n)y=ir;else{y=nr;var m=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=rr);switch(y&&(y=y(e,r))?zn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?mi(r):window,e){case"focusin":(Un(m)||"true"===m.contentEditable)&&(pr=m,vr=r,yr=null);break;case"focusout":yr=vr=pr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=Xt()):(Yt="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(m=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&jn(e,t)?(e=Xt(),Zt=Yt=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(zr(e,a,i)),null!=(a=De(e,t))&&r.push(zr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=De(n,a))&&o.unshift(zr(n,s,u)):i||null!=(s=De(n,a))&&o.push(zr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var Xr=null;function Jr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),li="__reactFiber$"+si,ci="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[li])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[li]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[ci]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function _i(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function xi(e,t){bi++,ki[bi]=e.current,e.current=t}var Si={},Ei=wi(Si),Ci=wi(!1),Ti=Si;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){_i(Ci),_i(Ei)}function Pi(e,t,n){if(Ei.current!==Si)throw Error(a(168));xi(Ei,t),xi(Ci,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ei.current,xi(Ei,e),xi(Ci,Ci.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,_i(Ci),_i(Ei),xi(Ei,e)):_i(Ci),xi(Ci,n)}var Li=null,Mi=!1,Fi=!1;function ji(e){null===Li?Li=[e]:Li.push(e)}function Vi(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Je,Vi),i}finally{gt=t,Fi=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Bi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ui=wi(null),zi=null,Wi=null,Ki=null;function Hi(){Ki=Wi=zi=null}function Gi(e){var t=Ui.current;_i(Ui),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){zi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(mu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===zi)throw Error(a(308));Wi=e,zi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Zi=null,Xi=!1;function Ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ms)?(null===(e=n.interleaved)?(t.next=t,null===Zi?Zi=[n]:Zi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Xi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Xi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var la={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Us(),i=zs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Us(),i=zs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Us(),r=zs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function ca(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ti:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=la,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Ji(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ti:Ei.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&la.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ya=null,ma=0,ga=[],ka=0,ba=null,wa=1,_a="";function xa(e,t){pa[va++]=ma,pa[va++]=ya,ya=e,ma=t}function Sa(e,t,n){ga[ka++]=wa,ga[ka++]=_a,ga[ka++]=ba,ba=e;var r=wa;e=_a;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,_a=a+e}else wa=1<<a|n<<i|r,_a=e}function Ea(e){null!==e.return&&(xa(e,1),Sa(e,1,0))}function Ca(e){for(;e===ya;)ya=pa[--va],pa[va]=null,ma=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,_a=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ta=null,Ia=null,Na=!1,Aa=null;function Pa(e,t){var n=bl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Da(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ia=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:_a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ia=null,!0);default:return!1}}function Ra(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Na){var t=Ia;if(t){var n=t;if(!Da(e,t)){if(Ra(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Da(e,t)?Pa(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ta=e)}}else{if(Ra(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Na)return La(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Jr(e.type,e.memoizedProps)),t&&(t=Ia)){if(Ra(e)){for(e=Ia;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Pa(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ia=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ia=null}}else Ia=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ia=Ta=null,Na=!1}function ja(e){null===Aa?Aa=[e]:Aa.push(e)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ba(e){return(0,e._init)(e._payload)}function Ua(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_l(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Cl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ba(a)===t.type)?((r=i(t,n.props)).ref=Va(e,t,n),r.return=e,r):((r=xl(n.type,n.key,n.props,null,e.mode,r)).ref=Va(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Cl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=xl(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case _:return(t=Tl(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Sl(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=y}if(v===u.length)return n(i,f),Na&&xa(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return Na&&xa(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),Na&&xa(i,v),l}function y(i,u,s,l){var c=L(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?c=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),Na&&xa(i,y),c;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,l))&&(u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return Na&&xa(i,y),c}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Na&&xa(i,y),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Ba(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Va(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Sl(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=xl(o.type,o.key,o.props,null,r.mode,s)).ref=Va(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tl(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Cl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var za=Ua(!0),Wa=Ua(!1),Ka={},Ha=wi(Ka),Ga=wi(Ka),Qa=wi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(xi(Qa,t),xi(Ga,e),xi(Ha,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ha),xi(Ha,t)}function Za(){_i(Ha),_i(Ga),_i(Qa)}function Xa(e){$a(Qa.current);var t=$a(Ha.current),n=se(t,e.type);t!==n&&(xi(Ga,e),xi(Ha,n))}function Ja(e){Ga.current===e&&(_i(Ha),_i(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,lo=null,co=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Jo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Xo,t=null!==so&&null!==so.next,oo=0,lo=so=uo=null,co=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?uo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?uo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?uo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((oo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,uo.lanes|=f,Es|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ar(r,t.memoizedState)||(mu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Es|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(mu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,mu=!0),r=r.queue,Mo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Ws(e,1,-1)}function Io(e,t,n){return n((function(){No(t)&&Ws(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,uo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return bo().memoizedState}function Ro(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&yo(r,o.deps))return void(i.memoizedState=Po(t,n,a,r))}uo.flags|=e,i.memoizedState=Po(1|t,n,a,r)}function Lo(e,t){return Ro(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function Fo(e,t){return Oo(4,2,e,t)}function jo(e,t){return Oo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Vo.bind(null,t,e),n)}function Bo(){}function Uo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Ho(e,t,n){var r=zs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Us()))&&Zo(e,t,r))}function Go(e,t,n){var r=zs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Us()))&&Zo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ms)?(null===(e=t.interleaved)?(n.next=n,null===Zi?Zi=[t]:Zi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Xo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Jo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){var t=Ao(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ao(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Io.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Na){var n=_a;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Uo,useContext:Yi,useEffect:Mo,useImperativeHandle:qo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:zo,useReducer:_o,useRef:Do,useState:function(){return _o(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Uo,useContext:Yi,useEffect:Mo,useImperativeHandle:qo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:zo,useReducer:xo,useRef:Do,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ds||(Ds=!0,Rs=r),ru(0,t)},n}function lu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Os?Os=new Set([this]):Os.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pl.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ni(t.type)&&Ai(),pu(t),null;case 3:return r=t.stateNode,Za(),_i(Ci),_i(Ei),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Aa&&($s(Aa),Aa=null))),pu(t),null;case 5:Ja(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=$a(Ha.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[li]=t,r[ci]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(Yr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(Yr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":H(r),J(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[li]=t,e[ci]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&k(e,o,c,s))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Ha.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return pu(t),null;case 13:if(_i(eo),r=t.memoizedState,Na&&null!==Ia&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ia;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[li]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Aa&&($s(Aa),Aa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===xs&&(xs=3):il())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Za(),null===e&&qr(t.stateNode.containerInfo),pu(t),null;case 10:return Gi(t.type._context),pu(t),null;case 19:if(_i(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==xs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Ps&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Na)return pu(t),null}else 2*Ze()-o.renderingStartTime>Ps&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=eo.current,xi(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return el(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ha.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var yu=b.ReactCurrentOwner,mu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):za(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=mo(e,t,n,r,a,i),n=go(),null===e||mu?(Na&&n&&Ea(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Vu(e,t,i)}return t.flags|=1,(e=_l(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(mu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Vu(e,t,i);0!==(131072&e.flags)&&(mu=!0)}return Su(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},xi(_s,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,xi(_s,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,xi(_s,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(_s,ws),ws|=r;return gu(e,t,i,n),t.child}function xu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ni(n)?Ti:Ei.current;return a=Ii(t,a),$i(t,i),n=mo(e,t,n,r,a,i),r=go(),null===e||mu?(Na&&r&&Ea(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function Eu(e,t,n,r,i){if(Ni(n)){var a=!0;Ri(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Yi(l):l=Ii(t,l=Ni(n)?Ti:Ei.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&ha(t,o,r,l),Xi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Xi?("function"===typeof c&&(sa(t,n,c,r),s=t.memoizedState),(u=Xi||ca(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Bi(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ii(t,s=Ni(n)?Ti:Ei.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Xi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Xi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(l=Xi||ca(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){xu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Vu(e,t,a);r=t.stateNode,yu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=za(t,e.child,null,a),t.child=za(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Ya(e,t.containerInfo)}function Iu(e,t,n,r,i){return Fa(),ja(i),t.flags|=256,gu(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null}}function Pu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(eo,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=El(o,i,0,null),e=Sl(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Au(n),t.memoizedState=Nu,e):Du(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=El({mode:"visible",children:i.children},o,0,null),(u=Sl(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&za(t,e.child,null,n),t.child.memoizedState=Au(n),t.memoizedState=Nu,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),mu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}il(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=yl.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ia=oi(r.nextSibling),Ta=t,Na=!0,Aa=null,null!==n&&(ga[ka++]=wa,ga[ka++]=_a,ga[ka++]=ba,wa=n.id,_a=n.overflow,ba=t),(t=Du(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Ru(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Ru(e,t,i.children,n),t.memoizedState=null,n)}function Du(e,t){return(t=El({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ru(e,t,n,r){var i=e.child;return e=i.sibling,n=_l(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ou(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=_l(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=_l(o,r):(r=Sl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&ja(r),za(t,e.child,null,n),(e=Du(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ju(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_l(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_l(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qu(e,t){switch(Ca(t),t.tag){case 1:return Ni(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Za(),_i(Ci),_i(Ei),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(_i(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(eo),null;case 4:return Za(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return el(),null;default:return null}}var Bu=!1,Uu=!1,zu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dl(e,t,r)}else n.current=null}function Hu(e,t,n){try{n()}catch(r){dl(e,t,r)}}var Gu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Hu(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Zu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Hu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dl(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ci],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ju(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Ju(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=n,f=l;;)if(Zu(s,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,l=o.stateNode,8===s.nodeType?ai(s.parentNode,l):1===s.nodeType&&ai(s,l),Bt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Zu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),$u(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&Z(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?ye(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":X(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[ci]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Bt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new zu),t.forEach((function(t){var r=ml.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Bu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Uu;u=Bu;var l=Uu;if(Bu=o,(Uu=s)&&!l)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,Bu=u,Uu=l}ls(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):ls(e)}}function ls(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Uu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Uu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Uu||512&t.flags&&Yu(t)}catch(d){dl(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function cs(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){dl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dl(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dl(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dl(t,o,s)}}}catch(s){dl(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ys=b.ReactCurrentBatchConfig,ms=0,gs=null,ks=null,bs=0,ws=0,_s=wi(0),xs=0,Ss=null,Es=0,Cs=0,Ts=0,Is=null,Ns=null,As=0,Ps=1/0,Ds=!1,Rs=null,Os=null,Ls=!1,Ms=null,Fs=0,js=0,Vs=null,qs=-1,Bs=0;function Us(){return 0!==(6&ms)?Ze():-1!==qs?qs:qs=Ze()}function zs(e){return 0===(1&e.mode)?1:0!==(2&ms)&&0!==bs?bs&-bs:null!==qi.transition?(0===Bs&&(e=lt,0===(4194240&(lt<<=1))&&(lt=64),Bs=e),Bs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Ws(e,t,n){if(50<js)throw js=0,Vs=null,Error(a(185));var r=Ks(e,t);return null===r?null:(yt(r,t,n),0!==(2&ms)&&r===gs||(r===gs&&(0===(2&ms)&&(Cs|=t),4===xs&&Ys(r,bs)),Hs(r,n),1===t&&0===ms&&0===(1&e.mode)&&(Ps=Ze()+500,Mi&&Vi())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Hs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,ji(e)}(Zs.bind(null,e)):ji(Zs.bind(null,e)),ri((function(){0===ms&&Vi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gl(n,Gs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gs(e,t){if(qs=-1,Bs=0,0!==(6&ms))throw Error(a(327));var n=e.callbackNode;if(fl()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=al(e,r);else{t=r;var i=ms;ms|=2;var o=rl();for(gs===e&&bs===t||(Ps=Ze()+500,tl(e,t));;)try{ul();break}catch(s){nl(e,s)}Hi(),ps.current=o,ms=i,null!==ks?t=0:(gs=null,bs=0,t=xs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=Ss,tl(e,0),Ys(e,r),Hs(e,Ze()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=al(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=Ss,tl(e,0),Ys(e,r),Hs(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:cl(e,Ns);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=As+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Us(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(cl.bind(null,e,Ns),t);break}cl(e,Ns);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(cl.bind(null,e,Ns),r);break}cl(e,Ns);break;default:throw Error(a(329))}}}return Hs(e,Ze()),e.callbackNode===n?Gs.bind(null,e):null}function Qs(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(tl(e,t).flags|=256),2!==(e=al(e,t))&&(t=Ns,Ns=n,null!==t&&$s(t)),e}function $s(e){null===Ns?Ns=e:Ns.push.apply(Ns,e)}function Ys(e,t){for(t&=~Ts,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Zs(e){if(0!==(6&ms))throw Error(a(327));fl();var t=ht(e,0);if(0===(1&t))return Hs(e,Ze()),null;var n=al(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=Ss,tl(e,0),Ys(e,t),Hs(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cl(e,Ns),Hs(e,Ze()),null}function Xs(e,t){var n=ms;ms|=1;try{return e(t)}finally{0===(ms=n)&&(Ps=Ze()+500,Mi&&Vi())}}function Js(e){null!==Ms&&0===Ms.tag&&0===(6&ms)&&fl();var t=ms;ms|=1;var n=ys.transition,r=gt;try{if(ys.transition=null,gt=1,e)return e()}finally{gt=r,ys.transition=n,0===(6&(ms=t))&&Vi()}}function el(){ws=_s.current,_i(_s)}function tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ca(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Za(),_i(Ci),_i(Ei),ro();break;case 5:Ja(r);break;case 4:Za();break;case 13:case 19:_i(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:el()}n=n.return}if(gs=e,ks=e=_l(e.current,null),bs=ws=t,xs=0,Ss=null,Ts=Cs=Es=0,Ns=Is=null,null!==Zi){for(t=0;t<Zi.length;t++)if(null!==(r=(n=Zi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Zi=null}return e}function nl(e,t){for(;;){var n=ks;try{if(Hi(),io.current=Xo,co){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(oo=0,lo=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){xs=1,Ss=t,ks=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=bs,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&cu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){cu(o,c,t),il();break e}l=Error(a(426))}else if(Na&&1&s.mode){var m=fu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),hu(m,u,s,0,t),ja(l);break e}}o=l,4!==xs&&(xs=2),null===Is?Is=[o]:Is.push(o),l=nu(l,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,l,t));break e;case 1:o=l;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Os||!Os.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,lu(s,o,t));break e}}s=s.return}while(null!==s)}ll(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rl(){var e=ps.current;return ps.current=Xo,null===e?Xo:e}function il(){0!==xs&&3!==xs&&2!==xs||(xs=4),null===gs||0===(268435455&Es)&&0===(268435455&Cs)||Ys(gs,bs)}function al(e,t){var n=ms;ms|=2;var r=rl();for(gs===e&&bs===t||tl(e,t);;)try{ol();break}catch(i){nl(e,i)}if(Hi(),ms=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,xs}function ol(){for(;null!==ks;)sl(ks)}function ul(){for(;null!==ks&&!$e();)sl(ks)}function sl(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?ll(e):ks=t,vs.current=null}function ll(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=qu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return xs=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===xs&&(xs=5)}function cl(e,t){var n=gt,r=ys.transition;try{ys.transition=null,gt=1,function(e,t,n){do{fl()}while(null!==Ms);if(0!==(6&ms))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gl(tt,(function(){return fl(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ys.transition,ys.transition=null;var u=gt;gt=1;var s=ms;ms|=4,vs.current=null,function(e,t){if(fr(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Bi(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(_){dl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Gu,Gu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dl(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var l=t.alternate;null!==l&&null!==l.memoizedState||(As=Ze())}break;case 22:var c=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=c;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var y=v.style;"function"===typeof y.setProperty?y.setProperty("display","none","important"):y.display="none"}else{var m=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;m.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!h&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Ku(r,r.return);var _=r.stateNode;if("function"===typeof _.componentWillUnmount){var x=r.return;try{_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(S){dl(r,x,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){cs(n);continue}}null!==w?(w.return=r,Wu=w):cs(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dl(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Xr),Xr=null,e.current=r,us(r,e,i),Ye(),ms=s,gt=u,ys.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Os=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Hs(e,Ze()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ds)throw Ds=!1,e=Rs,Rs=null,e;0!==(1&Fs)&&0!==e.tag&&fl(),0!==(1&(o=e.pendingLanes))?e===Vs?js++:(js=0,Vs=e):js=0,Vi()}(e,t,n)}finally{ys.transition=r,gt=n}return null}function fl(){if(null!==Ms){var e=kt(Fs),t=ys.transition,n=gt;try{if(ys.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ms))throw Error(a(331));var i=ms;for(ms|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Wu=c;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Xu(f),f===c){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(_){dl(s,s.return,_)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ms=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{gt=n,ys.transition=t}}return!1}function hl(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Us(),null!==(e=Ks(e,1))&&(yt(e,1,t),Hs(e,t))}function dl(e,t,n){if(3===e.tag)hl(e,e,n);else for(;null!==t;){if(3===t.tag){hl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Os||!Os.has(r))){na(t,e=lu(t,e=nu(n,e),1)),e=Us(),null!==(t=Ks(t,1))&&(yt(t,1,e),Hs(t,e));break}}t=t.return}}function pl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Us(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===xs||3===xs&&(130023424&bs)===bs&&500>Ze()-As?tl(e,0):Ts|=n),Hs(e,t)}function vl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Us();null!==(e=Ks(e,t))&&(yt(e,t,n),Hs(e,n))}function yl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vl(e,n)}function ml(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vl(e,n)}function gl(e,t){return Ge(e,t)}function kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bl(e,t,n,r){return new kl(e,t,n,r)}function wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _l(e,t){var n=e.alternate;return null===n?((n=bl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Sl(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=bl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=bl(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=bl(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return El(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case T:u=9;break e;case I:u=11;break e;case P:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sl(e,t,n,r){return(e=bl(7,e,r,t)).lanes=n,e}function El(e,t,n,r){return(e=bl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Cl(e,t,n){return(e=bl(6,e,null,t)).lanes=n,e}function Tl(e,t,n){return(t=bl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Il(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nl(e,t,n,r,i,a,o,u,s){return e=new Il(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Ji(a),e}function Al(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Pl(e){if(!e)return Si;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Di(e,n,t)}return t}function Dl(e,t,n,r,i,a,o,u,s){return(e=Nl(n,r,!0,e,0,a,0,u,s)).context=Pl(null),n=e.current,(a=ta(r=Us(),i=zs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,yt(e,i,r),Hs(e,r),e}function Rl(e,t,n,r){var i=t.current,a=Us(),o=zs(i);return n=Pl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Ol(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ll(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ml(e,t){Ll(e,t),(e=e.alternate)&&Ll(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)mu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return mu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Xa(t);break;case 1:Ni(t.type)&&Ri(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Ui,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pu(e,t,n):(xi(eo,1&eo.current),null!==(e=Vu(e,t,n))?e.sibling:null);xi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ju(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Vu(e,t,n)}(e,t,n);mu=0!==(131072&e.flags)}else mu=!1,Na&&0!==(1048576&t.flags)&&Sa(t,ma,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ii(t,Ei.current);$i(t,n),i=mo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ji(t),i.updater=la,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Ea(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=Bi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Eu(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,Bi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Iu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Iu(e,t,r,n,i=Error(a(424)));break e}for(Ia=oi(t.stateNode.containerInfo.firstChild),Ta=t,Na=!0,Aa=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Vu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Jr(r,i)?u=null:null!==o&&Jr(r,o)&&(t.flags|=32),xu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Pu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=za(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,xi(Ui,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ci.current){t=Vu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ta(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=Bi(r=t.type,t.pendingProps),bu(e,t,r,i=Bi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Ri(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return ju(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Fl="function"===typeof reportError?reportError:function(e){console.error(e)};function jl(e){this._internalRoot=e}function Vl(e){this._internalRoot=e}function ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ul(){}function zl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Ol(o);u.call(e)}}Rl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Ol(o);a.call(e)}}var o=Dl(t,r,e,0,null,!1,0,"",Ul);return e._reactRootContainer=o,e[fi]=o.current,qr(8===e.nodeType?e.parentNode:e),Js(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Ol(s);u.call(e)}}var s=Nl(e,0,!1,null,0,!1,0,"",Ul);return e._reactRootContainer=s,e[fi]=s.current,qr(8===e.nodeType?e.parentNode:e),Js((function(){Rl(t,s,n,r)})),s}(n,t,e,i,r);return Ol(o)}Vl.prototype.render=jl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Rl(e,t,null,null)},Vl.prototype.unmount=jl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Js((function(){Rl(null,e,null,null)})),t[fi]=null}},Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),Hs(t,Ze()),0===(6&ms)&&(Ps=Ze()+500,Vi()))}break;case 13:var r=Us();Js((function(){return Ws(e,1,r)})),Ml(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Us()),Ml(e,134217728))},_t=function(e){if(13===e.tag){var t=Us(),n=zs(e);Ws(e,n,t),Ml(e,n)}},xt=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=Xs,Ne=Js;var Wl={usingClientEntryPoint:!1,Events:[yi,mi,gi,Ce,Te,Xs]},Kl={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Hl={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{it=Gl.inject(Hl),at=Gl}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ql(t))throw Error(a(200));return Al(e,t,null,n)},t.createRoot=function(e,t){if(!ql(e))throw Error(a(299));var n=!1,r="",i=Fl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nl(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,qr(8===e.nodeType?e.parentNode:e),new jl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Js(e)},t.hydrate=function(e,t,n){if(!Bl(t))throw Error(a(200));return zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ql(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Dl(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vl(t)},t.render=function(e,t,n){if(!Bl(t))throw Error(a(200));return zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(a(40));return!!e._reactRootContainer&&(Js((function(){zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Xs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return zl(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},781:function(e,t,n){"use strict";var r=n(412);t.s=r.createRoot,r.hydrateRoot},412:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(166)},258:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var u,s,l,c;if(Array.isArray(e)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;for(c=e.entries();!(s=c.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((u=(l=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,l[s]))return!1;if(t&&e instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==l[s]&&"__v"!==l[s]&&"__o"!==l[s]||!e.$$typeof)&&!a(e[l[s]],o[l[s]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},74:function(e,t,n){"use strict";var r,i=n(381),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var s,l=[];function c(){s=e(l.map((function(e){return e.props}))),f.canUseDOM?t(s):n&&(s=n(s))}var f=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return s},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=s;return s=void 0,l=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){l.push(this),c()},o.componentDidUpdate=function(){c()},o.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),c()},o.render=function(){return a.createElement(r,this.props)},i}(i.PureComponent);return o(f,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(f,"canUseDOM",u),f}}},977:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},961:function(e,t,n){var r=n(977);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,S=n[2]||c,E=m||g;r.push({name:y||a++,prefix:v||"",delimiter:S,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:E?l(E):b?".*":"[^"+s(S)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var f,h=u[c.name];if(null==h){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[l].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[l].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');a+=c.prefix+f}}else a+=c}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var l=e[u];if("string"===typeof l)o+=s(l);else{var h=s(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+h+d+")*"),o+=d=l.optional?l.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",c(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},141:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},821:function(e,t,n){"use strict";n(141)},853:function(e,t,n){"use strict";var r=n(381),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},113:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=N(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},381:function(e,t,n){"use strict";e.exports=n(113)},343:function(e,t,n){"use strict";e.exports=n(853)},652:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,s(_,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},22:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(y=!1,b(e),!v)if(null!==r(l))v=!0,R(_);else{var t=r(c);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(C),C=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function A(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,x=function(){D.postMessage(null)}}else x=function(){m(A,0)};function R(e){E=e,S||(S=!0,x())}function O(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(C),C=-1):y=!0,O(w,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},46:function(e,t,n){"use strict";e.exports=n(22)},483:function(e){"use strict";var t=function(){};e.exports=t},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return jr},SDK_VERSION:function(){return Ki},_DEFAULT_ENTRY_NAME:function(){return Di},_addComponent:function(){return Mi},_addOrOverwriteComponent:function(){return Fi},_apps:function(){return Oi},_clearComponents:function(){return Bi},_components:function(){return Li},_getProvider:function(){return Vi},_registerComponent:function(){return ji},_removeServiceInstance:function(){return qi},deleteApp:function(){return $i},getApp:function(){return Gi},getApps:function(){return Qi},initializeApp:function(){return Hi},onLog:function(){return Xi},registerVersion:function(){return Zi},setLogLevel:function(){return Ji}});var t=n(381);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function d(e){var t=l();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}var p=n(343),v=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,p.jsxs)("main",{children:[(0,p.jsx)("nav",{children:(0,p.jsx)("h2",{children:(0,p.jsx)("strong",{children:(0,p.jsx)("u",{children:"Basmulla's Portfolio"})})})}),(0,p.jsx)("nav",{children:(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Achievements, Project and Work history"})})}),(0,p.jsx)("p",{class:"secondary",children:" This website is created to showcase the work created by Basmulla Atekulla. This will include Projects, Work History and loads of fun content created."}),(0,p.jsxs)("p",{id:"special",children:[" Here is a link to a Google sites which showcases other skills and projects I worked on. ",(0,p.jsx)("a",{href:"https://sites.google.com/d/1y0TNT5q55bQJhtzRi7swEjLJRahs3Dtt/p/1dDrQ3IHppHEmJkaGqK-\r Opi9VXhzNjFw5/edit",children:"Work Portfolio"})]}),(0,p.jsx)("img",{align:"right",src:"https://www.globalgiving.org/pfil/organ/89556/orglogo.png",alt:"TNO",width:"250",height:"150"}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Work History"})}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Volunteered in ... "})}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:" TNO "}),"\xa0",(0,p.jsx)("li",{children:" The Neighbourhood Group "})]}),(0,p.jsx)("img",{align:"right",src:"/Website/images/MGCI Jr Boys 2019.JPG",alt:"Soccer Team",width:"250",height:"150"}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Extracirriculars"})}),(0,p.jsxs)("ol",{children:[(0,p.jsx)("li",{children:" Member of the MGCI Boys Senior Soccer team "}),"\xa0",(0,p.jsx)("li",{children:" Member of the MGCI CodeHers Collective club "})]}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Coding Projects"})}),(0,p.jsx)("h4",{children:(0,p.jsx)("u",{children:"JavaScript & ReactJS"})}),(0,p.jsx)("p",{children:(0,p.jsx)("u",{children:"Here are some mobile apps I created using JavaScript and ReactJS."})}),(0,p.jsxs)("ol",{children:[(0,p.jsxs)("li",{children:["Calculator App: I created a Calculator app using HTML, CSS, and JavaScript. It has many functions such as the Multiplication, Division, Addition, Sqaure Root and more. It does not have the functions of a scientific calculator. Here is the link to the app.",(0,p.jsx)("a",{href:"https://basmulla.github.io/calculate-app/",children:" Calculator App"})]}),"\xa0",(0,p.jsxs)("li",{children:["Todo-List App: I created a todo-list app where you can add tasks to remind of events that will occur in the near future. You can also delete them or double click on them to turn them green when completed. I used HTML, CSS, JavaScript and ReactJS to make the app. ",(0,p.jsx)("a",{href:"https://basmulla.github.io/todo-list/",children:" Todo-List App"})]}),"\xa0",(0,p.jsxs)("li",{children:["Book-Directory Website: I created a book directory website where you can update or delete a list of books that I have stored in an api. I fetch that api using HTTP verbs from the website and created functions to update the title, page count, description of the book, aswell as another function to delete the book. I used ReactJS, node.JS and CSS to build the book directory website.",(0,p.jsx)("a",{href:"https://basmulla.github.io/book-directory-client/",children:" Book Directory API Website"})]})]}),(0,p.jsx)("img",{align:"right",src:"/Website/images/Python.png",alt:"Python logo",width:"250",height:"200"}),(0,p.jsx)("h4",{children:(0,p.jsx)("u",{children:"Python:"})}),(0,p.jsx)("p",{children:(0,p.jsx)("u",{children:"Here are some Python Coding Projects I worked on my free time."})}),(0,p.jsxs)("ol",{children:[(0,p.jsxs)("li",{children:[" SolveIt: A Math Program that solves Addition, Subtraction, Multiplication, Division and Exponents problems.",(0,p.jsx)("a",{href:"https://replit.com/@BasmullaAtekull/Review-Practice#main.py",children:"SolveIt"})]})," \xa0",(0,p.jsxs)("li",{children:[" Prime Numbers: A Program that figures out whether a number is a composite or prime number.",(0,p.jsx)("a",{href:"https://replit.com/@BasmullaAtekull/Prime-Numbers#main.py",children:" Prime Numbers"})]})," \xa0",(0,p.jsxs)("li",{children:[" Average-Ator: A program that helps find the average of any set of numbers that you input.",(0,p.jsx)("a",{href:"https://replit.com/@BasmullaAtekull/For-Loops-Assignment#main.py",children:" Average-Ator"})]})]}),"\xa0",(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:(0,p.jsx)("strong",{children:"Here are some cool GitHub statistics of my account."})})}),"\xa0",(0,p.jsx)("img",{align:"right",src:"https://github-readme-streak-stats.herokuapp.com?user=Basmulla",alt:"GitHub Streak","data-canonical-src":"https://git.io/streak-stats",style:{width:"50%;"}}),(0,p.jsx)("img",{src:"https://github-readme-stats.vercel.app/api?username=Basmulla",alt:"My GitHub stats","data-canonical-src":"https://git.io/streak-stats",style:{width:"50%;"}}),(0,p.jsx)("p",{children:"Thank you for reading this quick overview on my work history, achievements and projects I have created."}),(0,p.jsx)("div",{class:"row"}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Contact Information"})}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:" Social Media Accounts"})}),(0,p.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),(0,p.jsx)("ol",{}),(0,p.jsxs)("li",{children:["Instagram \xa0 ",(0,p.jsx)("a",{href:"https://www.instagram.com/basmulla_7/","alt-":"Instagram",class:"fa fa-instagram"})]}),"\xa0",(0,p.jsxs)("li",{children:["Facebook \xa0 ",(0,p.jsx)("a",{href:"https://www.facebook.com/bismullah.atekulla/",alt:"Facebook",class:"fa fa-facebook"})]}),"\xa0",(0,p.jsxs)("li",{children:["Twitter \xa0 ",(0,p.jsx)("a",{href:"https://twitter.com/7Basmulla/",alt:"Twitter",class:"fa fa-twitter"})]}),(0,p.jsx)("ol",{}),(0,p.jsx)("div",{}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Email Information"})}),(0,p.jsx)("ol",{}),(0,p.jsx)("li",{children:"Personal Email: basmulla1087@gmail.com"}),"\xa0",(0,p.jsx)("li",{children:"Work Email: basmulla.atekulla@student.tdsb.on.ca"}),(0,p.jsx)("ol",{}),(0,p.jsx)("div",{class:"col",children:" Author: Basmulla Atekulla "}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{class:"col",children:"Created on Febraury 2022 "}),"\xa0"]})}}]),n}(t.Component),y=v,m=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,p.jsxs)("main",{children:[(0,p.jsx)("nav",{children:(0,p.jsx)("h2",{children:(0,p.jsx)("strong",{children:(0,p.jsx)("u",{children:"Basmulla's Portfolio"})})})}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:" Personal and Work Information"})})," ",(0,p.jsx)("img",{align:"right",src:"https://upload.wikimedia.org/wikipedia/en/d/dc/MGCI_Emblem2.png",alt:"MGCI Logo",width:"150",height:"150"}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"School Information"})}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:" Am currently attending Marc Garneau Collegiate Institute "}),(0,p.jsx)("li",{children:" Started in Sept 2019 and will graduate in June 2023 "}),(0,p.jsx)("li",{children:" In Grade 11 "}),(0,p.jsx)("li",{children:" Notable Achievements: "}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:" Achieved a 100% average in Grade 10 Computer Engineering "}),(0,p.jsx)("li",{children:" Achieved a 93% average in Grade 10 "})]})]}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Personal Life"})}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:" Was born in Almaty, Kazakhstan "}),(0,p.jsx)("li",{children:" Grew up in Toronto, Ontario for the majority of my life time "}),(0,p.jsx)("li",{children:" Dreams: "}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:" Want to go in the fields of Software Engineering"}),(0,p.jsx)("li",{children:" Learn Advanced Web Development"}),(0,p.jsx)("li",{children:" Want to go to University of Waterloo and complete my post-secondary years there"}),(0,p.jsx)("li",{children:" Become a successful Web Developer and create new innovative inventions that will society will benefit from. "})]})]}),(0,p.jsx)("h3",{children:(0,p.jsx)("u",{children:"Background:"})}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:" My background is Afghan."}),(0,p.jsx)("li",{children:" Even though I was born in Kazakhstan, both my parents were born and raised in Afghanistan. "}),(0,p.jsx)("li",{children:" I can speak two languages fluently. "}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:" English "}),(0,p.jsx)("li",{children:" Farsi/Dari "})]})]}),(0,p.jsx)("p",{children:"Thank you for reading this quick overview talking about my personal life and background."}),(0,p.jsxs)("div",{class:"row",children:[(0,p.jsx)("div",{class:"col",children:" Author: Basmulla Atekulla "}),"\xa0",(0,p.jsx)("div",{class:"col",children:"Created on Febraury 2022 "}),"\xa0"]})]})}}]),n}(t.Component),g=m,k=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,p.jsx)("main",{style:{backgroundColor:"#f1f1f1",boxSizing:"border-box",padding:"6px",fontFamily:"Arial",margin:"auto"},children:(0,p.jsxs)("div",{class:"secondary",children:[(0,p.jsx)("nav",{children:(0,p.jsx)("h1",{style:{fontSize:"50px",wordBreak:"break-all"},children:(0,p.jsx)("strong",{children:(0,p.jsx)("u",{children:"Basmulla's Portfolio"})})})}),(0,p.jsx)("hr",{}),(0,p.jsx)("h2",{children:"Software Applications"}),(0,p.jsx)("p",{children:"This tab will showcase the different Languages and SoftWare Applications I use to incorporate in my work"}),(0,p.jsxs)("div",{class:"row",style:{content:"",display:"table",clear:"both",margin:"8px"},children:[(0,p.jsx)("div",{class:"column",style:{},children:(0,p.jsxs)("div",{class:"content",style:{backgroundColor:"white",padding:"8px",float:"left",width:"25%"},children:[(0,p.jsx)("img",{src:"/Website/images/ReactJS.png",alt:"React",style:{width:"100%"}}),(0,p.jsx)("h3",{children:"ReactJS Application"}),(0,p.jsx)("p",{children:"ReactJS is a front-end JavaScript Library used for building userinterfaces and helps handle the view layer of the web or mobile app. I used ReactJS to build my todo-list app."})]})}),(0,p.jsx)("div",{class:"column",children:(0,p.jsxs)("div",{class:"content",style:{backgroundColor:"white",padding:"8px",float:"left",width:"25%"},children:[(0,p.jsx)("img",{src:"/Website/images/JavaScript.jpg",alt:"JavaScript",style:{width:"100%"}}),(0,p.jsx)("h3",{children:"JavaScript"}),(0,p.jsx)("p",{children:"JavaScript is a programming language that is used in mobile and app development. I used JavaScript in many of my web apps such as the Calculator app and the todo-list app."})]})}),(0,p.jsx)("div",{class:"column",children:(0,p.jsxs)("div",{class:"content",style:{backgroundColor:"white",padding:"8px",float:"left",width:"25%"},children:[(0,p.jsx)("img",{src:"/Website/images/CSS.jpeg",alt:"CSS",style:{width:"100%"}}),(0,p.jsx)("h3",{children:"CSS"}),(0,p.jsx)("p",{children:"CSS is a style sheets programming language that is used for styling and formating the written documents in the markup languages such as HTML. I used CSS in all of my web app such as my portfolio, Calculator and more."})]})}),(0,p.jsx)("div",{class:"column",children:(0,p.jsxs)("div",{class:"content",style:{backgroundColor:"white",padding:"8px",float:"left",width:"20%"},children:[(0,p.jsx)("img",{src:"/Website/images/HTML.png",alt:"HTML",style:{width:"100%"}}),(0,p.jsx)("h3",{children:"HTML"}),(0,p.jsx)("p",{children:"HTML is a programming language that is used to build and construct web pages and its content. I used HTML in all of my web apps that I constructed."})]})})]}),(0,p.jsxs)("div",{class:"content",style:{backgroundColor:"white",padding:"8px",float:"left",width:"100%"},children:[(0,p.jsx)("img",{src:"/Website/images/WebDev.jpeg",alt:"Back-end",style:{width:"100%"}}),(0,p.jsx)("h3",{children:"Back-End Programming Languages"}),(0,p.jsx)("p",{children:"These are some back-end programming languages that I want to learn as I believe I have some knowlegde with Front-end Apllications but not with Back-End. Learning Back-end languages would be great because it would help with functionality and logic code powering your working on. It would a great quality to have in this day and age."})]})]})})}}]),n}(t.Component),b=k;function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}var _=n(462);function x(e){return"/"===e.charAt(0)}function S(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var E=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&x(e),o=t&&x(t),u=a||o;if(e&&x(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var l=0,c=i.length;c>=0;c--){var f=i[c];"."===f?S(i,c):".."===f?(S(i,c),l++):l&&(S(i,c),l--)}if(!u)for(;l--;l)i.unshift("..");!u||""===i[0]||i[0]&&x(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function C(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var T=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=C(t),i=C(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},I="Invariant failed";function N(e,t){if(!e)throw new Error(I)}function A(e){return"/"===e.charAt(0)?e:"/"+e}function P(e){return"/"===e.charAt(0)?e.substr(1):e}function D(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function R(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function O(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function L(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,_.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=E(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function M(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var F=!("undefined"===typeof window||!window.document||!window.document.createElement);function j(e,t){t(window.confirm(e))}var V="popstate",q="hashchange";function B(){try{return window.history.state||{}}catch(e){return{}}}function U(e){void 0===e&&{},F||N(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?j:u,l=i.keyLength,c=void 0===l?6:l,f=e.basename?R(A(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&D(a,f),L(a,r,n)}function d(){return Math.random().toString(36).substr(2,c)}var p=M();function v(e){(0,_.Z)(I,e),I.length=t.length,p.notifyListeners(I.location,I.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(h(e.state))}function m(){k(h(B()))}var g=!1;function k(e){if(g)!1,v();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=I.location,n=w.indexOf(t.key);-1===n&&0;var r=w.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,S(i))}(e)}))}}var b=h(B()),w=[b.key];function x(e){return f+O(e)}function S(e){t.go(e)}var E=0;function C(e){1===(E+=e)&&1===e?(window.addEventListener(V,y),r&&window.addEventListener(q,m)):0===E&&(window.removeEventListener(V,y),r&&window.removeEventListener(q,m))}var T=!1;var I={length:t.length,action:"POP",location:b,createHref:x,push:function(e,r){var i="PUSH",a=L(e,r,d(),I.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var l=w.indexOf(I.location.key),c=w.slice(0,l+1);c.push(a.key),c,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=L(e,r,d(),I.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var l=w.indexOf(I.location.key);-1!==l&&(w[l]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return T||(C(1),!0),function(){return T&&(!1,C(-1)),t()}},listen:function(e){var t=p.appendListener(e);return C(1),function(){C(-1),t()}}};return I}var z="hashchange",W={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+P(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:P,decodePath:A},slash:{encodePath:A,decodePath:A}};function K(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function H(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function G(e){window.location.replace(K(window.location.href)+"#"+e)}function Q(e){void 0===e&&(e={}),F||N(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?j:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?R(A(e.basename)):"",s=W[o],l=s.encodePath,c=s.decodePath;function f(){var e=c(H());return u&&(e=D(e,u)),L(e)}var h=M();function d(e){(0,_.Z)(C,e),C.length=t.length,h.notifyListeners(C.location,C.action)}var p=!1,v=null;function y(){var e,t,n=H(),r=l(n);if(n!==r)G(r);else{var a=f(),o=C.location;if(!p&&(t=a,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===O(a))return;v=null,function(e){if(p)p=!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=C.location,n=b.lastIndexOf(O(t));-1===n&&(n=0);var r=b.lastIndexOf(O(e));-1===r&&(r=0);var i=n-r;i&&(p=!0,w(i))}(e)}))}}(a)}}var m=H(),g=l(m);m!==g&&G(g);var k=f(),b=[O(k)];function w(e){t.go(e)}var x=0;function S(e){1===(x+=e)&&1===e?window.addEventListener(z,y):0===x&&window.removeEventListener(z,y)}var E=!1;var C={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=K(window.location.href)),n+"#"+l(u+O(e))},push:function(e,t){var n="PUSH",r=L(e,void 0,void 0,C.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=O(r),i=l(u+t);if(H()!==i){v=t,function(e){window.location.hash=e}(i);var a=b.lastIndexOf(O(C.location)),o=b.slice(0,a+1);o.push(t),b=o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=L(e,void 0,void 0,C.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=O(r),i=l(u+t);H()!==i&&(v=t,G(i));var a=b.indexOf(O(C.location));-1!==a&&(b[a]=t),d({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return E||(S(1),E=!0),function(){return E&&(E=!1,S(-1)),t()}},listen:function(e){var t=h.appendListener(e);return S(1),function(){S(-1),t()}}};return C}function $(e,t,n){return Math.min(Math.max(e,t),n)}function Y(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,l=M();function c(e){(0,_.Z)(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=$(o,0,i.length-1),d=i.map((function(e){return L(e,void 0,"string"===typeof e?f():e.key||f())})),p=O;function v(e){var t=$(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?c({action:"POP",location:r,index:t}):c()}))}var y={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=L(e,t,f(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),c({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=L(e,t,f(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,c({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var Z=n(860),X=n.n(Z),J=1073741823,ee="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function te(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var ne=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return ee[e]=(ee[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=te(t.props.value),t}w(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):J,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=X().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}w(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?J:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?J:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=X().object,i),{Provider:o,Consumer:u}},re=ne,ie=n(961),ae=n.n(ie),oe=(n(821),n(366)),ue=(n(804),function(e){var t=re();return t.displayName=e,t}),se=ue("Router-History"),le=function(e){var t=re();return t.displayName=e,t},ce=le("Router"),fe=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}w(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(ce.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(se.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var he=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var de={},pe=0;function ve(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(de[e])return de[e];var t=ae().compile(e);return pe<1e4&&(de[e]=t,pe++),t}(e)(t,{pretty:!0})}function ye(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(ce.Consumer,null,(function(e){e||N(!1);var i=e.history,o=e.staticContext,u=a?i.push:i.replace,s=L(n?"string"===typeof r?ve(r,n.params):(0,_.Z)({},r,{pathname:ve(r.pathname,n.params)}):r);return o?(u(s),null):t.createElement(he,{onMount:function(){u(s)},onUpdate:function(e,t){var n,r,i=L(t.to);n=i,r=(0,_.Z)({},s,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&T(n.state,r.state)||u(s)},to:r})}))}var me={},ge=0;function ke(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,l=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=me[n]||(me[n]={});if(r[e])return r[e];var i=[],a={regexp:ae()(e,i,t),keys:i};return ge<1e4&&(r[e]=a,ge++),a}(n,{end:a,strict:u,sensitive:l}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var c=s[0],f=s.slice(1),h=e===c;return a&&!h?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var be=function(e){function n(){return e.apply(this,arguments)||this}return w(n,e),n.prototype.render=function(){var e=this;return t.createElement(ce.Consumer,null,(function(n){n||N(!1);var r=e.props.location||n.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?ke(r.pathname,e.props):n.match,a=(0,_.Z)({},n,{location:r,match:i}),o=e.props,u=o.children,s=o.component,l=o.render;return Array.isArray(u)&&0===u.length&&(u=null),t.createElement(ce.Provider,{value:a},a.match?u?"function"===typeof u?u(a):u:s?t.createElement(s,a):l?l(a):null:"function"===typeof u?u(a):null)}))},n}(t.Component);function we(e){return"/"===e.charAt(0)?e:"/"+e}function _e(e,t){if(!e)return t;var n=we(e);return 0!==t.pathname.indexOf(n)?t:(0,_.Z)({},t,{pathname:t.pathname.substr(n.length)})}function xe(e){return"string"===typeof e?e:O(e)}function Se(e){return function(){N(!1)}}function Ee(){}t.Component;var Ce=function(e){function n(){return e.apply(this,arguments)||this}return w(n,e),n.prototype.render=function(){var e=this;return t.createElement(ce.Consumer,null,(function(n){n||N(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?ke(a.pathname,(0,_.Z)({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);t.useContext;t.Component;var Te=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Q(t.props),t}return w(n,e),n.prototype.render=function(){return t.createElement(fe,{history:this.history,children:this.props.children})},n}(t.Component);var Ie=function(e,t){return"function"===typeof e?e(t):e},Ne=function(e,t){return"string"===typeof e?L(e,null,null,t):e},Ae=function(e){return e},Pe=t.forwardRef;"undefined"===typeof Pe&&(Pe=Ae);var De=Pe((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=(0,oe.Z)(e,["innerRef","navigate","onClick"]),u=o.target,s=(0,_.Z)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=Ae!==Pe&&n||r,t.createElement("a",s)}));var Re=Pe((function(e,n){var r=e.component,i=void 0===r?De:r,a=e.replace,o=e.to,u=e.innerRef,s=(0,oe.Z)(e,["component","replace","to","innerRef"]);return t.createElement(ce.Consumer,null,(function(e){e||N(!1);var r=e.history,l=Ne(Ie(o,e.location),e.location),c=l?r.createHref(l):"",f=(0,_.Z)({},s,{href:c,navigate:function(){var t=Ie(o,e.location);(a?r.replace:r.push)(t)}});return Ae!==Pe?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),Oe=function(e){return e},Le=t.forwardRef;"undefined"===typeof Le&&(Le=Oe);var Me=Le((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,l=e.exact,c=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,y=e.innerRef,m=(0,oe.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(ce.Consumer,null,(function(e){e||N(!1);var r=f||e.location,a=Ne(Ie(v,r),r),g=a.pathname,k=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=k?ke(r.pathname,{path:k,exact:l,sensitive:h,strict:d}):null,w=!!(c?c(b,r):b),x=w?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,o):s,S=w?(0,_.Z)({},p,{},u):p,E=(0,_.Z)({"aria-current":w&&i||null,className:x,style:S,to:a},m);return Oe!==Le?E.ref=n||y:E.innerRef=y,t.createElement(Re,E)}))})),Fe=n(885),je=n(638),Ve=n(195);var qe=function(e){var n=e.placeholder,r=e.data,i=(0,t.useState)([]),a=(0,Fe.Z)(i,2),o=a[0],u=a[1],s=(0,t.useState)(""),l=(0,Fe.Z)(s,2),c=l[0],f=l[1];return(0,p.jsxs)("div",{className:"search",children:[(0,p.jsxs)("div",{className:"searchInputs",children:[(0,p.jsx)("input",{type:"text",placeholder:n,value:c,onChange:function(e){var t=e.target.value;f(t);var n=r.filter((function(e){return e.text.toLowerCase().includes(t.toLowerCase())}));u(""===t?[]:n)}}),(0,p.jsx)("div",{className:"searchIcon",children:0===o.length?(0,p.jsx)(je.Z,{}):(0,p.jsx)(Ve.Z,{id:"clearBtn",onClick:function(){u([]),f("")}})})]}),0!==o.length&&(0,p.jsx)("div",{className:"dataResult",children:o.slice(0,15).map((function(e){return(0,p.jsx)("a",{className:"dataItem",href:e.link,target:"_blank rel=noreferrer",children:(0,p.jsxs)("p",{children:[e.text," "]})})}))})]})},Be=n(74),Ue=n.n(Be),ze=n(258),We=n.n(ze),Ke=n(37),He=n.n(Ke),Ge="bodyAttributes",Qe="htmlAttributes",$e="titleAttributes",Ye={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},Ze=(Object.keys(Ye).map((function(e){return Ye[e]})),"charset"),Xe="cssText",Je="href",et="http-equiv",tt="innerHTML",nt="itemprop",rt="name",it="property",at="rel",ot="src",ut="target",st={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lt="defaultTitle",ct="defer",ft="encodeSpecialCharacters",ht="onChangeClientState",dt="titleTemplate",pt=Object.keys(st).reduce((function(e,t){return e[st[t]]=t,e}),{}),vt=[Ye.NOSCRIPT,Ye.SCRIPT,Ye.STYLE],yt="data-react-helmet",mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},_t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},xt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},St=function(e){var t=Nt(e,Ye.TITLE),n=Nt(e,dt);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=Nt(e,lt);return t||r||void 0},Et=function(e){return Nt(e,ht)||function(){}},Ct=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return bt({},e,t)}),{})},Tt=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[Ye.BASE]})).map((function(e){return e[Ye.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t}),[])},It=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&Ot("Helmet: "+e+' should be of type "Array". Instead found type "'+mt(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var u=a[o],s=u.toLowerCase();-1===t.indexOf(s)||n===at&&"canonical"===e[n].toLowerCase()||s===at&&"stylesheet"===e[s].toLowerCase()||(n=s),-1===t.indexOf(u)||u!==tt&&u!==Xe&&u!==nt||(n=u)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o++){var u=a[o],s=He()({},r[u],i[u]);r[u]=s}return e}),[]).reverse()},Nt=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},At=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){At(t)}),0)}}(),Pt=function(e){return clearTimeout(e)},Dt="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||At:n.g.requestAnimationFrame||At,Rt="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Pt:n.g.cancelAnimationFrame||Pt,Ot=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},Lt=null,Mt=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,u=e.noscriptTags,s=e.onChangeClientState,l=e.scriptTags,c=e.styleTags,f=e.title,h=e.titleAttributes;Vt(Ye.BODY,r),Vt(Ye.HTML,i),jt(f,h);var d={baseTag:qt(Ye.BASE,n),linkTags:qt(Ye.LINK,a),metaTags:qt(Ye.META,o),noscriptTags:qt(Ye.NOSCRIPT,u),scriptTags:qt(Ye.SCRIPT,l),styleTags:qt(Ye.STYLE,c)},p={},v={};Object.keys(d).forEach((function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(v[e]=d[e].oldTags)})),t&&t(),s(e,p,v)},Ft=function(e){return Array.isArray(e)?e.join(""):e},jt=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=Ft(e)),Vt(Ye.TITLE,t)},Vt=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(yt),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),u=0;u<o.length;u++){var s=o[u],l=t[s]||"";n.getAttribute(s)!==l&&n.setAttribute(s,l),-1===i.indexOf(s)&&i.push(s);var c=a.indexOf(s);-1!==c&&a.splice(c,1)}for(var f=a.length-1;f>=0;f--)n.removeAttribute(a[f]);i.length===a.length?n.removeAttribute(yt):n.getAttribute(yt)!==o.join(",")&&n.setAttribute(yt,o.join(","))}},qt=function(e,t){var n=document.head||document.querySelector(Ye.HEAD),r=n.querySelectorAll(e+"["+"data-react-helmet]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===tt)n.innerHTML=t.innerHTML;else if(r===Xe)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var u="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,u)}n.setAttribute(yt,"true"),i.some((function(e,t){return o=t,n.isEqualNode(e)}))?i.splice(o,1):a.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:a}},Bt=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},Ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[st[n]||n]=e[n],t}),t)},zt=function(e,n,r){switch(e){case Ye.TITLE:return{toComponent:function(){return function(e,n,r){var i,a=((i={key:n})[yt]=!0,i),o=Ut(r,a);return[t.createElement(Ye.TITLE,o,n)]}(0,n.title,n.titleAttributes)},toString:function(){return function(e,t,n,r){var i=Bt(n),a=Ft(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+xt(a,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+xt(a,r)+"</"+e+">"}(e,n.title,n.titleAttributes,r)}};case Ge:case Qe:return{toComponent:function(){return Ut(n)},toString:function(){return Bt(n)}};default:return{toComponent:function(){return function(e,n){return n.map((function(n,r){var i,a=((i={key:r})[yt]=!0,i);return Object.keys(n).forEach((function(e){var t=st[e]||e;if(t===tt||t===Xe){var r=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:r}}else a[t]=n[e]})),t.createElement(e,a)}))}(e,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===tt||e===Xe)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+xt(r[t],n)+'"';return e?e+" "+i:i}),""),a=r.innerHTML||r.cssText||"",o=-1===vt.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(e,n,r)}}}},Wt=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,u=e.noscriptTags,s=e.scriptTags,l=e.styleTags,c=e.title,f=void 0===c?"":c,h=e.titleAttributes;return{base:zt(Ye.BASE,t,r),bodyAttributes:zt(Ge,n,r),htmlAttributes:zt(Qe,i,r),link:zt(Ye.LINK,a,r),meta:zt(Ye.META,o,r),noscript:zt(Ye.NOSCRIPT,u,r),script:zt(Ye.SCRIPT,s,r),style:zt(Ye.STYLE,l,r),title:zt(Ye.TITLE,{title:f,titleAttributes:h},r)}},Kt=function(e){var n,r;return r=n=function(n){function r(){return gt(this,r),_t(this,n.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.shouldComponentUpdate=function(e){return!We()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Ye.SCRIPT:case Ye.NOSCRIPT:return{innerHTML:t};case Ye.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return bt({},r,((t={})[n.type]=[].concat(r[n.type]||[],[bt({},i,this.mapNestedChildrenToProps(n,a))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case Ye.TITLE:return bt({},i,((t={})[r.type]=o,t.titleAttributes=bt({},a),t));case Ye.BODY:return bt({},i,{bodyAttributes:bt({},a)});case Ye.HTML:return bt({},i,{htmlAttributes:bt({},a)})}return bt({},i,((n={})[r.type]=bt({},a),n))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=bt({},t);return Object.keys(e).forEach((function(t){var r;n=bt({},n,((r={})[t]=e[t],r))})),n},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,n){var r=this,i={};return t.Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,a=t.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[pt[n]||n]=e[n],t}),t)}(wt(t,["children"]));switch(r.warnOnInvalidChildren(e,a),e.type){case Ye.LINK:case Ye.META:case Ye.NOSCRIPT:case Ye.SCRIPT:case Ye.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:a});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:o,nestedChildren:a})}}})),n=this.mapArrayTypeChildrenToProps(i,n)},r.prototype.render=function(){var n=this.props,r=n.children,i=wt(n,["children"]),a=bt({},i);return r&&(a=this.mapChildrenToProps(r,a)),t.createElement(e,a)},kt(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(t.Component),n.propTypes={base:X().object,bodyAttributes:X().object,children:X().oneOfType([X().arrayOf(X().node),X().node]),defaultTitle:X().string,defer:X().bool,encodeSpecialCharacters:X().bool,htmlAttributes:X().object,link:X().arrayOf(X().object),meta:X().arrayOf(X().object),noscript:X().arrayOf(X().object),onChangeClientState:X().func,script:X().arrayOf(X().object),style:X().arrayOf(X().object),title:X().string,titleAttributes:X().object,titleTemplate:X().string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var t=e.rewind();return t||(t=Wt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r}(Ue()((function(e){return{baseTag:Tt([Je,ut],e),bodyAttributes:Ct(Ge,e),defer:Nt(e,ct),encode:Nt(e,ft),htmlAttributes:Ct(Qe,e),linkTags:It(Ye.LINK,[at,Je],e),metaTags:It(Ye.META,[rt,Ze,et,it,nt],e),noscriptTags:It(Ye.NOSCRIPT,[tt],e),onChangeClientState:Et(e),scriptTags:It(Ye.SCRIPT,[ot,tt],e),styleTags:It(Ye.STYLE,[Xe],e),title:St(e),titleAttributes:Ct($e,e)}}),(function(e){Lt&&Rt(Lt),e.defer?Lt=Dt((function(){Mt(e,(function(){Lt=null}))})):(Mt(e),Lt=null)}),Wt)((function(){return null})));Kt.renderStatic=Kt.rewind;var Ht=Kt,Gt=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,p.jsxs)("header",{children:[(0,p.jsx)("script",{crossorigin:!0,src:"https://unpkg.com/react@18/umd/react.development.js"}),(0,p.jsx)("script",{crossorigin:!0,src:"https://unpkg.com/react-dom@18/umd/react-dom.development.js"}),(0,p.jsx)("script",{src:"https://unpkg.com/babel-standalone@6/babel.min.js"}),(0,p.jsx)("sidebar",{children:(0,p.jsxs)("div",{class:"topnav",children:[(0,p.jsx)("img",{src:"/Website/images/Atekulla_Basmulla Avatar.png",width:"45",height:"45",alt:"Avatar"}),"\xa0",(0,p.jsx)("a",{children:(0,p.jsx)(Me,{to:"/Home",exact:!0,activeClassName:"active",children:"Home"})}),"\xa0",(0,p.jsx)("a",{children:(0,p.jsx)(Me,{to:"/About",activeClassName:"active",children:"About"})}),"\xa0",(0,p.jsx)("a",{children:(0,p.jsx)(Me,{to:"/SWK",activeClassName:"active",children:"S W K"})}),"\xa0",(0,p.jsx)("a",{children:(0,p.jsx)(Me,{to:"/SearchBar",activeClassName:"active",children:"Browser"})}),"\xa0",(0,p.jsx)("a",{children:(0,p.jsx)(Me,{to:"/SignupForm",activeClassName:"active",children:"Sign Up"})}),"\xa0",(0,p.jsx)("div",{class:"searchbox",children:(0,p.jsx)(Ht,{children:(0,p.jsx)("script",{src:"SearchBar.js",type:"text/babel"})})})]})}),(0,p.jsx)("br",{})]})}}]),n}(t.Component),Qt=Gt,$t=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,p.jsx)("footer",{children:" @ 2022 My Site "})}}]),n}(t.Component),Yt=$t,Zt=JSON.parse('[{"text":"Home","link":"https://basmulla.github.io/Website/#/Home"},{"text":"About","link":"https://basmulla.github.io/Website/#/About"},{"text":"Dictionary","link":"https://www.dictionary.com/"},{"text":"Thesaurus","link":"https://www.thesaurus.com/"},{"text":"SWK","link":"https://basmulla.github.io/Website/#/SWK"},{"text":"Sign Up","link":"https://basmulla.github.io/Website/#/SignupForm"},{"text":"GitHub","link":"https://github.com/"},{"text":"Calculator","link":"https://basmulla.github.io/calculate-app/"},{"text":"Real Madrid","link":"https://www.google.com/search?q=real+madrid&rlz=1C1CHBF_enCA992CA992&sxsrf=APq-WBvT9FP9LS8dc4_Rl0tcQeUCMgj2Vg%3A1649436571400&ei=m2dQYquHGIvJtQbnhIOoCA&ved=0ahUKEwjrwKuH9oT3AhWLZM0KHWfCAIUQ4dUDCA4&uact=5&oq=real+madrid&gs_lcp=Cgdnd3Mtd2l6EAMyCwguEIAEELEDEIMBMgcIABCxAxBDMggIABCxAxCDATILCAAQgAQQsQMQgwEyCAgAEIAEELEDMgsIABCABBCxAxCDATIFCAAQgAQyBQgAEIAEMggIABCABBCxAzILCAAQgAQQsQMQgwE6BwgAEEcQsANKBAhBGABKBAhGGABQnQRYnQRg8wVoAXABeACAAX6IAX6SAQMwLjGYAQCgAQHIAQjAAQE&sclient=gws-wiz"},{"text":"Aw","link":"https://aw.tdsb.on.ca/sites/awsupport"},{"text":"Email","link":"https://mail.google.com/mail/u/0/?tab=rm&ogbl#inbox"},{"text":"Youtube","link":"https://www.youtube.com/"},{"text":"Google","link":"https://www.google.ca/"},{"text":"Brightspace","link":"https://tdsb.elearningontario.ca/d2l/login"},{"text":"Instagram","link":"https://www.instagram.com/basmulla_7/"},{"text":"Facebook","link":"https://www.facebook.com/bismullah.atekulla/"},{"text":"Twitter","link":"https://twitter.com/7Basmulla/"}]');function Xt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(I_){return void n(I_)}u.done?t(s):Promise.resolve(s).then(r,i)}function Jt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xt(a,r,i,o,u,"next",e)}function u(e){Xt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var en=n(757),tn=n.n(en),nn=n(942);function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){(0,nn.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t){if(null==e)return{};var n,r,i=(0,oe.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var un=n(954),sn=n.n(un),ln=["xxl","xl","lg","md","sm","xs"],cn=t.createContext({prefixes:{},breakpoints:ln});cn.Consumer,cn.Provider;function fn(e,n){var r=(0,t.useContext)(cn).prefixes;return e||r[n]||n}function hn(){return(0,t.useContext)(cn).breakpoints}var dn=["bsPrefix","fluid","as","className"],pn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=on(e,dn),s=fn(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,p.jsx)(a,an(an({ref:t},u),{},{className:sn()(o,r?"".concat(s).concat(l):s)}))}));pn.displayName="Container",pn.defaultProps={fluid:!1};var vn=pn,yn=["as","className","type","tooltip"],mn={type:X().string,tooltip:X().bool,as:X().elementType},gn=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,l=on(e,yn);return(0,p.jsx)(r,an(an({},l),{},{ref:t,className:sn()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));gn.displayName="Feedback",gn.propTypes=mn;var kn=gn,bn=t.createContext({}),wn=["id","bsPrefix","className","type","isValid","isInvalid","as"],_n=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,l=void 0!==s&&s,c=e.isInvalid,f=void 0!==c&&c,h=e.as,d=void 0===h?"input":h,v=on(e,wn),y=(0,t.useContext)(bn).controlId;return i=fn(i,"form-check-input"),(0,p.jsx)(d,an(an({},v),{},{ref:n,type:u,id:r||y,className:sn()(a,i,l&&"is-valid",f&&"is-invalid")}))}));_n.displayName="FormCheckInput";var xn=_n,Sn=["bsPrefix","className","htmlFor"],En=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=on(e,Sn),u=(0,t.useContext)(bn).controlId;return r=fn(r,"form-check-label"),(0,p.jsx)("label",an(an({},o),{},{ref:n,htmlFor:a||u,className:sn()(i,r)}))}));En.displayName="FormCheckLabel";var Cn=En;var Tn=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],In=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.disabled,l=void 0!==s&&s,c=e.isValid,f=void 0!==c&&c,h=e.isInvalid,d=void 0!==h&&h,v=e.feedbackTooltip,y=void 0!==v&&v,m=e.feedback,g=e.feedbackType,k=e.className,b=e.style,w=e.title,_=void 0===w?"":w,x=e.type,S=void 0===x?"checkbox":x,E=e.label,C=e.children,T=e.as,I=void 0===T?"input":T,N=on(e,Tn);i=fn(i,"form-check"),a=fn(a,"form-switch");var A=(0,t.useContext)(bn).controlId,P=(0,t.useMemo)((function(){return{controlId:r||A}}),[A,r]),D=!C&&null!=E&&!1!==E||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(C,Cn),R=(0,p.jsx)(xn,an(an({},N),{},{type:"switch"===S?"checkbox":S,ref:n,isValid:f,isInvalid:d,disabled:l,as:I}));return(0,p.jsx)(bn.Provider,{value:P,children:(0,p.jsx)("div",{style:b,className:sn()(k,D&&i,u&&"".concat(i,"-inline"),"switch"===S&&a),children:C||(0,p.jsxs)(p.Fragment,{children:[R,D&&(0,p.jsx)(Cn,{title:_,children:E}),m&&(0,p.jsx)(kn,{type:g,tooltip:y,children:m})]})})})}));In.displayName="FormCheck";var Nn=Object.assign(In,{Input:xn,Label:Cn}),An=(n(483),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),Pn=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,l=e.id,c=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,v=void 0!==d&&d,y=e.plaintext,m=e.readOnly,g=e.as,k=void 0===g?"input":g,b=on(e,An),w=(0,t.useContext)(bn).controlId;(a=fn(a,"form-control"),y)?r=(0,nn.Z)({},"".concat(a,"-plaintext"),!0):(i={},(0,nn.Z)(i,a,!0),(0,nn.Z)(i,"".concat(a,"-").concat(u),u),r=i);return(0,p.jsx)(k,an(an({},b),{},{type:o,size:s,ref:n,readOnly:m,id:l||w,className:sn()(c,r,h&&"is-valid",v&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));Pn.displayName="FormControl";var Dn=Object.assign(Pn,{Feedback:kn}),Rn=/-(.)/g;var On=["className","bsPrefix","as"],Ln=function(e){return e[0].toUpperCase()+(t=e,t.replace(Rn,(function(e,t){return t.toUpperCase()}))).slice(1);var t};var Mn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Ln(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=on(t,On),l=fn(i,e);return(0,p.jsx)(u,an({ref:n,className:sn()(r,l)},s))}));return u.defaultProps=o,u.displayName=i,u}("form-floating"),Fn=["controlId","as"],jn=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=on(e,Fn),u=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,p.jsx)(bn.Provider,{value:u,children:(0,p.jsx)(a,an(an({},o),{},{ref:n}))})}));jn.displayName="FormGroup";var Vn=jn,qn=["as","bsPrefix","className"],Bn=["className"];var Un=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=on(e,qn);n=fn(n,"col");var a=hn(),o=[],u=[];return a.forEach((function(e){var t,r,a,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,a=s.order):t=s;var l="xs"!==e?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&u.push("order".concat(l,"-").concat(a)),null!=r&&u.push("offset".concat(l,"-").concat(r))})),[an(an({},i),{},{className:sn().apply(void 0,[r].concat(o,u))}),{as:t,bsPrefix:n,spans:o}]}(e),r=(0,Fe.Z)(n,2),i=r[0],a=i.className,o=on(i,Bn),u=r[1],s=u.as,l=void 0===s?"div":s,c=u.bsPrefix,f=u.spans;return(0,p.jsx)(l,an(an({},o),{},{ref:t,className:sn()(a,!f.length&&c)}))}));Un.displayName="Col";var zn=Un,Wn=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Kn=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,l=e.htmlFor,c=on(e,Wn),f=(0,t.useContext)(bn).controlId;a=fn(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=sn()(s,a,u&&"visually-hidden",o&&h);return l=l||f,o?(0,p.jsx)(zn,an({ref:n,as:"label",className:d,htmlFor:l},c)):(0,p.jsx)(i,an({ref:n,className:d,htmlFor:l},c))}));Kn.displayName="FormLabel",Kn.defaultProps={column:!1,visuallyHidden:!1};var Hn=Kn,Gn=["bsPrefix","className","id"],Qn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=on(e,Gn),u=(0,t.useContext)(bn).controlId;return r=fn(r,"form-range"),(0,p.jsx)("input",an(an({},o),{},{type:"range",ref:n,className:sn()(i,r),id:a||u}))}));Qn.displayName="FormRange";var $n=Qn,Yn=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Zn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,l=e.isInvalid,c=void 0!==l&&l,f=e.id,h=on(e,Yn),d=(0,t.useContext)(bn).controlId;return r=fn(r,"form-select"),(0,p.jsx)("select",an(an({},h),{},{size:a,ref:n,className:sn()(o,r,i&&"".concat(r,"-").concat(i),s&&"is-valid",c&&"is-invalid"),id:f||d}))}));Zn.displayName="FormSelect";var Xn=Zn,Jn=["bsPrefix","className","as","muted"],er=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=on(e,Jn);return n=fn(n,"form-text"),(0,p.jsx)(a,an(an({},u),{},{ref:t,className:sn()(r,n,o&&"text-muted")}))}));er.displayName="FormText";var tr=er,nr=t.forwardRef((function(e,t){return(0,p.jsx)(Nn,an(an({},e),{},{ref:t,type:"switch"}))}));nr.displayName="Switch";var rr=Object.assign(nr,{Input:Nn.Input,Label:Nn.Label}),ir=["bsPrefix","className","children","controlId","label"],ar=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=on(e,ir);return n=fn(n,"form-floating"),(0,p.jsxs)(Vn,an(an({ref:t,className:sn()(r,n),controlId:a},u),{},{children:[i,(0,p.jsx)("label",{htmlFor:a,children:o})]}))}));ar.displayName="FloatingLabel";var or=ar,ur=["className","validated","as"],sr={_ref:X().any,validated:X().bool,as:X().elementType},lr=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=on(e,ur);return(0,p.jsx)(a,an(an({},o),{},{ref:t,className:sn()(n,r&&"was-validated")}))}));lr.displayName="Form",lr.propTypes=sr;var cr=Object.assign(lr,{Group:Vn,Control:Dn,Floating:Mn,Check:Nn,Switch:rr,Label:Hn,Text:tr,Range:$n,Select:Xn,FloatingLabel:or}),fr=["bsPrefix","className","as"],hr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=on(e,fr),u=fn(n,"row"),s=hn(),l="".concat(u,"-cols"),c=[];return s.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&c.push("".concat(l).concat(r,"-").concat(t))})),(0,p.jsx)(a,an(an({ref:t},o),{},{className:sn().apply(void 0,[r,u].concat(c))}))}));hr.displayName="Row";var dr=hr,pr=n(181);function vr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,pr.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function yr(e,t,n){return yr=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},yr.apply(null,arguments)}function mr(e){var t="function"===typeof Map?new Map:void 0;return mr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return yr(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},mr(e)}var gr=!1,kr=!1,br="${JSCORE_VERSION}",wr=function(e,t){if(!e)throw _r(t)},_r=function(e){return new Error("Firebase Database ("+br+") INTERNAL ASSERT FAILED: "+e)},xr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Er=function(e){var t=xr(e);return Sr.encodeByteArray(t,!0)},Cr=function(e){return Er(e).replace(/\./g,"")},Tr=function(e){try{return Sr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ir(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Nr(n)&&(e[n]=Ir(e[n],t[n]));return e}function Nr(e){return"__proto__"!==e}var Ar=function(){function e(){var t=this;r(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return a(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cr(JSON.stringify({alg:"none",type:"JWT"})),Cr(JSON.stringify(a)),""].join(".")}function Dr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function Or(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Lr(){return!0===gr||!0===kr}function Mr(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fr(){return"object"===typeof indexedDB}var jr=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,i)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(f(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(f(o),Vr.prototype.create),o}return a(n)}(mr(Error)),Vr=function(){function e(t,n,i){r(this,e),this.service=t,this.serviceName=n,this.errors=i}return a(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?qr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new jr(n,a,t);return o}}]),e}();function qr(e,t){return e.replace(Br,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Br=/\{\$([^}]+)}/g;function Ur(e){return JSON.parse(e)}function zr(e){return JSON.stringify(e)}var Wr=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ur(Tr(a[0])||""),n=Ur(Tr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Kr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Gr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function $r(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Yr(u)&&Yr(s)){if(!$r(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Yr(e){return null!==e&&"object"===typeof e}function Zr(e){for(var t=[],n=function(){var e=(0,Fe.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}var Xr=function(){function e(){r(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return a(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^c&(f^h),s=1518500249):(u=c^f^h,s=1859775393):p<60?(u=c&f|h&(c|f),s=2400959708):(u=c^f^h,s=3395469782);var v=(l<<5|l>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Jr(e,t){var n=new ei(e,t);return n.subscribe.bind(n)}var ei=function(){function e(t,n){var i=this;r(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(i)})).catch((function(e){i.error(e)}))}return a(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=vr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ti),void 0===r.error&&(r.error=ti),void 0===r.complete&&(r.complete=ti);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ti(){}var ni=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ri(e,t){return"".concat(e," failed: ").concat(t," argument ")}function ii(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ri(e,t)+"must be a valid function.")}function ai(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ri(e,t)+"must be a valid context object.")}var oi=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ui(e){return e&&e._delegate?e._delegate:e}function si(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var li=function(){function e(t){r(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return a(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new ci(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new fi(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),ci=function(){function e(t){var n=this;r(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return a(e,[{key:"objectStore",value:function(e){return new fi(this._transaction.objectStore(e))}}]),e}(),fi=function(){function e(t){r(this,e),this._store=t}return a(e,[{key:"index",value:function(e){return new hi(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new hi(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return si(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return si(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return si(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return si(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),hi=function(){function e(t){r(this,e),this._index=t}return a(e,[{key:"get",value:function(e){return si(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var di=n(982),pi=function(){function e(t,n,i){r(this,e),this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return a(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),vi="[DEFAULT]",yi=function(){function e(t,n){r(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return a(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ar;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch(s){}var t,n=vr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,Fe.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Jt(en.mark((function e(){var t;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,di.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,di.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=vr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,Fe.Z)(i.value,2),s=u[0],l=u[1],c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(qg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===vi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(qg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi;return this.component?this.component.multipleInstances?e:vi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var mi,gi,ki=function(){function e(t){r(this,e),this.name=t,this.providers=new Map}return a(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),bi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gi||(gi={}));var wi,_i,xi={debug:gi.DEBUG,verbose:gi.VERBOSE,info:gi.INFO,warn:gi.WARN,error:gi.ERROR,silent:gi.SILENT},Si=gi.INFO,Ei=(mi={},(0,nn.Z)(mi,gi.DEBUG,"log"),(0,nn.Z)(mi,gi.VERBOSE,"log"),(0,nn.Z)(mi,gi.INFO,"info"),(0,nn.Z)(mi,gi.WARN,"warn"),(0,nn.Z)(mi,gi.ERROR,"error"),mi),Ci=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ei[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ti=function(){function e(t){r(this,e),this.name=t,this._logLevel=Si,this._logHandler=Ci,this._userLogHandler=null,bi.push(this)}return a(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in gi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?xi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gi.DEBUG].concat(t)),this._logHandler.apply(this,[this,gi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,gi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gi.INFO].concat(t)),this._logHandler.apply(this,[this,gi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gi.WARN].concat(t)),this._logHandler.apply(this,[this,gi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gi.ERROR].concat(t)),this._logHandler.apply(this,[this,gi.ERROR].concat(t))}}]),e}();var Ii=function(){function e(t){r(this,e),this.container=t}return a(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ni="@firebase/app",Ai="0.7.21",Pi=new Ti("@firebase/app"),Di="[DEFAULT]",Ri=(wi={},(0,nn.Z)(wi,Ni,"fire-core"),(0,nn.Z)(wi,"@firebase/app-compat","fire-core-compat"),(0,nn.Z)(wi,"@firebase/analytics","fire-analytics"),(0,nn.Z)(wi,"@firebase/analytics-compat","fire-analytics-compat"),(0,nn.Z)(wi,"@firebase/app-check","fire-app-check"),(0,nn.Z)(wi,"@firebase/app-check-compat","fire-app-check-compat"),(0,nn.Z)(wi,"@firebase/auth","fire-auth"),(0,nn.Z)(wi,"@firebase/auth-compat","fire-auth-compat"),(0,nn.Z)(wi,"@firebase/database","fire-rtdb"),(0,nn.Z)(wi,"@firebase/database-compat","fire-rtdb-compat"),(0,nn.Z)(wi,"@firebase/functions","fire-fn"),(0,nn.Z)(wi,"@firebase/functions-compat","fire-fn-compat"),(0,nn.Z)(wi,"@firebase/installations","fire-iid"),(0,nn.Z)(wi,"@firebase/installations-compat","fire-iid-compat"),(0,nn.Z)(wi,"@firebase/messaging","fire-fcm"),(0,nn.Z)(wi,"@firebase/messaging-compat","fire-fcm-compat"),(0,nn.Z)(wi,"@firebase/performance","fire-perf"),(0,nn.Z)(wi,"@firebase/performance-compat","fire-perf-compat"),(0,nn.Z)(wi,"@firebase/remote-config","fire-rc"),(0,nn.Z)(wi,"@firebase/remote-config-compat","fire-rc-compat"),(0,nn.Z)(wi,"@firebase/storage","fire-gcs"),(0,nn.Z)(wi,"@firebase/storage-compat","fire-gcs-compat"),(0,nn.Z)(wi,"@firebase/firestore","fire-fst"),(0,nn.Z)(wi,"@firebase/firestore-compat","fire-fst-compat"),(0,nn.Z)(wi,"fire-js","fire-js"),(0,nn.Z)(wi,"firebase","fire-js-all"),wi),Oi=new Map,Li=new Map;function Mi(e,t){try{e.container.addComponent(t)}catch(n){Pi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Fi(e,t){e.container.addOrOverwriteComponent(t)}function ji(e){var t=e.name;if(Li.has(t))return Pi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Li.set(t,e);var n,r=vr(Oi.values());try{for(r.s();!(n=r.n()).done;){Mi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Vi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Di;Vi(e,t).clearInstance(n)}function Bi(){Li.clear()}var Ui=(_i={},(0,nn.Z)(_i,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,nn.Z)(_i,"bad-app-name","Illegal App name: '{$appName}"),(0,nn.Z)(_i,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,nn.Z)(_i,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,nn.Z)(_i,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,nn.Z)(_i,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,nn.Z)(_i,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,nn.Z)(_i,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,nn.Z)(_i,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,nn.Z)(_i,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),_i),zi=new Vr("app","Firebase",Ui),Wi=function(){function e(t,n,i){var a=this;r(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pi("app",(function(){return a}),"PUBLIC"))}return a(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}]),e}(),Ki="9.6.11";function Hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Di,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zi.create("bad-app-name",{appName:String(i)});var a=Oi.get(i);if(a){if($r(e,a.options)&&$r(r,a.config))return a;throw zi.create("duplicate-app",{appName:i})}var o,u=new ki(i),s=vr(Li.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new Wi(e,r,u);return Oi.set(i,c),c}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di,t=Oi.get(e);if(!t)throw zi.create("no-app",{appName:e});return t}function Qi(){return Array.from(Oi.values())}function $i(e){return Yi.apply(this,arguments)}function Yi(){return(Yi=Jt(en.mark((function e(t){var n;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Oi.has(n)){e.next=6;break}return Oi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t,n){var r,i=null!==(r=Ri[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pi.warn(u.join(" "))}ji(new pi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Xi(e,t){if(null!==e&&"function"!==typeof e)throw zi.create("invalid-log-argument");!function(e,t){var n,r=vr(bi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=xi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:gi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ji(e){var t;t=e,bi.forEach((function(e){e.setLogLevel(t)}))}var ea="firebase-heartbeat-store",ta=null;function na(){var e,t,n;return ta||(ta=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(ea)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new li(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new li(a.result),e.oldVersion,e.newVersion,new ci(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw zi.create("storage-open",{originalErrorMessage:e.message})}))),ta}function ra(e){return ia.apply(this,arguments)}function ia(){return ia=Jt(en.mark((function e(t){var n;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,na();case 3:return n=e.sent,e.abrupt("return",n.transaction(ea).objectStore(ea).get(ua(t)));case 7:throw e.prev=7,e.t0=e.catch(0),zi.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=Jt(en.mark((function e(t,n){var r,i,a;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,na();case 3:return r=e.sent,i=r.transaction(ea,"readwrite"),a=i.objectStore(ea),e.next=8,a.put(n,ua(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),zi.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),oa.apply(this,arguments)}function ua(e){return"".concat(e.name,"!").concat(e.options.appId)}var sa=function(){function e(t){var n=this;r(this,e),this.container=t,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new da(i),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return a(e,[{key:"triggerHeartbeat",value:function(){var e=Jt(en.mark((function e(){var t,n,r;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=la(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Jt(en.mark((function e(){var t,n,r,i,a;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=la(),n=ca(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Cr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function la(){return(new Date).toISOString().substring(0,10)}function ca(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=vr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),pa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var fa,ha,da=function(){function e(t){r(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return a(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Jt(en.mark((function e(){return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(I_){t(I_)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Jt(en.mark((function e(){var t;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ra(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Jt(en.mark((function e(t){var n,r;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",aa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Jt(en.mark((function e(t){var n,r;return en.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",aa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,di.Z)(r.heartbeats),(0,di.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pa(e){return Cr(JSON.stringify({version:2,heartbeats:e})).length}fa="",ji(new pi("platform-logger",(function(e){return new Ii(e)}),"PRIVATE")),ji(new pi("heartbeat",(function(e){return new sa(e)}),"PRIVATE")),Zi(Ni,Ai,fa),Zi(Ni,Ai,"esm2017"),Zi("fire-js","");var va=function(){function e(t,n){var i=this;r(this,e),this._delegate=t,this.firebase=n,Mi(t,new pi("app-compat",(function(){return i}),"PUBLIC")),this.container=t.container}return a(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),$i(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Mi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Fi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ya=(ha={},(0,nn.Z)(ha,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,nn.Z)(ha,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ha),ma=new Vr("app-compat","Firebase",ya);var ga=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Hi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Kr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Zi,setLogLevel:Ji,onLog:Xi,apps:null,SDK_VERSION:Ki,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ji(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ma.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ir(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Kr(n,e=e||Di))throw ma.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(va);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ir(n,e)},createSubscribe:Jr,ErrorFactory:Vr,deepExtend:Ir}),n}(),ka=new Ti("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ka.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ba=self.firebase.SDK_VERSION;ba&&ba.indexOf("LITE")>=0&&ka.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var wa=ga;!function(e){Zi("@firebase/app-compat","0.1.22",e)}();function _a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function xa(){return xa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xa.apply(this,arguments)}wa.registerVersion("firebase","9.6.11","app-compat");var Sa,Ea="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ca={},Ta=Ta||{},Ia=Ea||self;function Na(){}function Aa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Da="closure_uid_"+(1e9*Math.random()>>>0),Ra=0;function Oa(e,t,n){return e.call.apply(e.bind,arguments)}function La(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ma(e,t,n){return(Ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oa:La).apply(null,arguments)}function Fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ja(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Va(){this.s=this.s,this.o=this.o}var qa={};Va.prototype.s=!1,Va.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Da)&&e[Da]||(e[Da]=++Ra)}(this);delete qa[e]}},Va.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ba=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ua=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function za(e){return Array.prototype.concat.apply([],arguments)}function Wa(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ka(e){return/^[\s\xa0]*$/.test(e)}var Ha,Ga=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Qa(e,t){return-1!=e.indexOf(t)}function $a(e,t){return e<t?-1:e>t?1:0}e:{var Ya=Ia.navigator;if(Ya){var Za=Ya.userAgent;if(Za){Ha=Za;break e}}Ha=""}function Xa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ja(e){var t={};for(var n in e)t[n]=e[n];return t}var eo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function to(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<eo.length;a++)n=eo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function no(e){return no[" "](e),e}no[" "]=Na;var ro,io=Qa(Ha,"Opera"),ao=Qa(Ha,"Trident")||Qa(Ha,"MSIE"),oo=Qa(Ha,"Edge"),uo=oo||ao,so=Qa(Ha,"Gecko")&&!(Qa(Ha.toLowerCase(),"webkit")&&!Qa(Ha,"Edge"))&&!(Qa(Ha,"Trident")||Qa(Ha,"MSIE"))&&!Qa(Ha,"Edge"),lo=Qa(Ha.toLowerCase(),"webkit")&&!Qa(Ha,"Edge");function co(){var e=Ia.document;return e?e.documentMode:void 0}e:{var fo="",ho=function(){var e=Ha;return so?/rv:([^\);]+)(\)|;)/.exec(e):oo?/Edge\/([\d\.]+)/.exec(e):ao?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):lo?/WebKit\/(\S+)/.exec(e):io?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ho&&(fo=ho?ho[1]:""),ao){var po=co();if(null!=po&&po>parseFloat(fo)){ro=String(po);break e}}ro=fo}var vo,yo={};function mo(){return function(e){var t=yo;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ga(String(ro)).split("."),n=Ga("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=$a(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||$a(0==a[2].length,0==o[2].length)||$a(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ia.document&&ao){var go=co();vo=go||(parseInt(ro,10)||void 0)}else vo=void 0;var ko=vo,bo=function(){if(!Ia.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ia.addEventListener("test",Na,t),Ia.removeEventListener("test",Na,t)}catch(n){}return e}();function wo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function _o(e,t){if(wo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(so){e:{try{no(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_o.Z.h.call(this)}}wo.prototype.h=function(){this.defaultPrevented=!0},ja(_o,wo);var xo={2:"touch",3:"pen",4:"mouse"};_o.prototype.h=function(){_o.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var So="closure_listenable_"+(1e6*Math.random()|0),Eo=0;function Co(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Eo,this.ca=this.fa=!1}function To(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Io(e){this.src=e,this.g={},this.h=0}function No(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ba(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(To(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ao(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Io.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ao(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Co(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Po="closure_lm_"+(1e6*Math.random()|0),Do={};function Ro(e,t,n,r,i){if(r&&r.once)return Lo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ro(e,t[a],n,r,i);return null}return n=Uo(n),e&&e[So]?e.N(t,n,Pa(r)?!!r.capture:!!r,i):Oo(e,t,n,!1,r,i)}function Oo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Pa(i)?!!i.capture:!!i,u=qo(e);if(u||(e[Po]=u=new Io(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Vo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Lo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Lo(e,t[a],n,r,i);return null}return n=Uo(n),e&&e[So]?e.O(t,n,Pa(r)?!!r.capture:!!r,i):Oo(e,t,n,!0,r,i)}function Mo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Mo(e,t[a],n,r,i);else r=Pa(r)?!!r.capture:!!r,n=Uo(n),e&&e[So]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ao(a=e.g[t],n,r,i))&&(To(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=qo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ao(t,n,r,i)),(n=-1<e?t[e]:null)&&Fo(n))}function Fo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[So])No(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qo(t))?(No(n,e),0==n.h&&(n.src=null,t[Po]=null)):To(e)}}}function jo(e){return e in Do?Do[e]:Do[e]="on"+e}function Vo(e,t){if(e.ca)e=!0;else{t=new _o(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Fo(e),e=n.call(r,t)}return e}function qo(e){return(e=e[Po])instanceof Io?e:null}var Bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uo(e){return"function"===typeof e?e:(e[Bo]||(e[Bo]=function(t){return e.handleEvent(t)}),e[Bo])}function zo(){Va.call(this),this.i=new Io(this),this.P=this,this.I=null}function Wo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new wo(t,e);else if(t instanceof wo)t.target=t.target||e;else{var i=t;to(t=new wo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ko(o,r,!0,t)&&i}if(i=Ko(o=t.g=e,r,!0,t)&&i,i=Ko(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ko(o=t.g=n[a],r,!1,t)&&i}function Ko(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&No(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ja(zo,Va),zo.prototype[So]=!0,zo.prototype.removeEventListener=function(e,t,n,r){Mo(this,e,t,n,r)},zo.prototype.M=function(){if(zo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)To(n[r]);delete t.g[e],t.h--}}this.I=null},zo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ho=Ia.JSON.stringify;function Go(){var e=tu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qo,$o=function(){function e(){r(this,e),this.h=this.g=null}return a(e,[{key:"add",value:function(e,t){var n=Yo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Yo=new(function(){function e(t,n){r(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return a(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Zo}),(function(e){return e.reset()})),Zo=function(){function e(){r(this,e),this.next=this.g=this.h=null}return a(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Xo(e){Ia.setTimeout((function(){throw e}),0)}function Jo(e,t){Qo||function(){var e=Ia.Promise.resolve(void 0);Qo=function(){e.then(nu)}}(),eu||(Qo(),eu=!0),tu.add(e,t)}var eu=!1,tu=new $o;function nu(){for(var e;e=Go();){try{e.h.call(e.g)}catch(n){Xo(n)}var t=Yo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}eu=!1}function ru(e,t){zo.call(this),this.h=e||1,this.g=t||Ia,this.j=Ma(this.kb,this),this.l=Date.now()}function iu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function au(e,t,n){if("function"===typeof e)n&&(e=Ma(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ma(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ia.setTimeout(e,t||0)}function ou(e){e.g=au((function(){e.g=null,e.i&&(e.i=!1,ou(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ja(ru,zo),(Sa=ru.prototype).da=!1,Sa.S=null,Sa.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wo(this,"tick"),this.da&&(iu(this),this.start()))}},Sa.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sa.M=function(){ru.Z.M.call(this),iu(this),delete this.g};var uu=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).m=e,a.j=i,a.h=null,a.i=!1,a.g=null,a}return a(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ou(this)}},{key:"M",value:function(){xa(s(n.prototype),"M",this).call(this),this.g&&(Ia.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Va);function su(e){Va.call(this),this.h=e,this.g={}}ja(su,Va);var lu=[];function cu(e,t,n,r){Array.isArray(n)||(n&&(lu[0]=n.toString()),n=lu);for(var i=0;i<n.length;i++){var a=Ro(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function fu(e){Xa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fo(e)}),e),e.g={}}function hu(){this.g=!0}function du(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ho(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}su.prototype.M=function(){su.Z.M.call(this),fu(this)},su.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hu.prototype.Aa=function(){this.g=!1},hu.prototype.info=function(){};var pu={},vu=null;function yu(){return vu=vu||new zo}function mu(e){wo.call(this,pu.Ma,e)}function gu(e){var t=yu();Wo(t,new mu(t,e))}function ku(e,t){wo.call(this,pu.STAT_EVENT,e),this.stat=t}function bu(e){var t=yu();Wo(t,new ku(t,e))}function wu(e,t){wo.call(this,pu.Na,e),this.size=t}function _u(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ia.setTimeout((function(){e()}),t)}pu.Ma="serverreachability",ja(mu,wo),pu.STAT_EVENT="statevent",ja(ku,wo),pu.Na="timingevent",ja(wu,wo);var xu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Su={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Eu(){}function Cu(e){return e.h||(e.h=e.i())}function Tu(){}Eu.prototype.h=null;var Iu,Nu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Au(){wo.call(this,"d")}function Pu(){wo.call(this,"c")}function Du(){}function Ru(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new su(this),this.P=Lu,e=uo?125:void 0,this.W=new ru(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ou}function Ou(){this.i=null,this.g="",this.h=!1}ja(Au,wo),ja(Pu,wo),ja(Du,Eu),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},Iu=new Du;var Lu=45e3,Mu={},Fu={};function ju(e,t,n){e.K=1,e.v=us(ts(t)),e.s=n,e.U=!0,Vu(e,null)}function Vu(e,t){e.F=Date.now(),zu(e),e.A=ts(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bs(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ou,e.g=_l(e.l,n?t:null,!e.s),0<e.O&&(e.L=new uu(Ma(e.Ia,e,e.g),e.O)),cu(e.V,e.g,"readystatechange",e.gb),t=e.H?Ja(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function qu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Bu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Uu(e,n))==Fu){4==t&&(e.o=4,bu(14),i=!1),du(e.j,e.m,null,"[Incomplete Response]");break}if(r==Mu){e.o=4,bu(15),du(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}du(e.j,e.m,r,null),Qu(e,r)}qu(e)&&r!=Fu&&r!=Mu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),pl(t),t.L=!0,bu(11))):(du(e.j,e.m,n,"[Invalid Chunked Response]"),Gu(e),Hu(e))}function Uu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fu:(n=Number(t.substring(n,r)),isNaN(n)?Mu:(r+=1)+n>t.length?Fu:(t=t.substr(r,n),e.C=r+n,t))}function zu(e){e.Y=Date.now()+e.P,Wu(e,e.P)}function Wu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_u(Ma(e.eb,e),t)}function Ku(e){e.B&&(Ia.clearTimeout(e.B),e.B=null)}function Hu(e){0==e.l.G||e.I||ml(e.l,e)}function Gu(e){Ku(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,iu(e.W),fu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Qu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Is(n.i,e)))if(n.I=e.N,!e.J&&Is(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yl(n),al(n)}dl(n),bu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=_u(Ma(n.ab,n),6e3));if(1>=Ts(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else kl(n,11)}else if((e.J||n.g==e)&&yl(n),!Ka(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(Qa(c,"spdy")||Qa(c,"quic")||Qa(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ns(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,os(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=wl(r,r.H?r.la:null,r.W),d.J){As(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ku(p),zu(p)),r.g=d}else hl(r);0<n.l.length&&sl(n)}else"stop"!=a[0]&&"close"!=a[0]||kl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?kl(n,7):il(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}gu(4)}catch(a){}}function $u(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Aa(e)||"string"===typeof e)Ua(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Aa(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Aa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Yu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Yu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Zu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Xu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Xu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Xu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Sa=Ru.prototype).setTimeout=function(e){this.P=e},Sa.gb=function(e){e=e.target;var t=this.L;t&&3==Js(e)?t.l():this.Ia(e)},Sa.Ia=function(e){try{if(e==this.g)e:{var t=Js(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||uo||this.g&&(this.h.h||this.g.ga()||el(this.g)))){this.I||4!=t||7==n||gu(8==n||0>=r?3:2),Ku(this);var i=this.g.ba();this.N=i;t:if(qu(this)){var a=el(this.g);e="";var o=a.length,u=4==Js(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gu(this),Hu(this);var s="";break t}this.h.i=new Ia.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ka(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,bu(12),Gu(this),Hu(this);break e}du(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qu(this,i)}this.U?(Bu(this,t,s),uo&&this.i&&3==t&&(cu(this.V,this.W,"tick",this.fb),this.W.start())):(du(this.j,this.m,s,null),Qu(this,s)),4==t&&Gu(this),this.i&&!this.I&&(4==t?ml(this.l,this):(this.i=!1,zu(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,bu(12)):(this.o=0,bu(13)),Gu(this),Hu(this)}}}catch(t){}},Sa.fb=function(){if(this.g){var e=Js(this.g),t=this.g.ga();this.C<t.length&&(Ku(this),Bu(this,e,t),this.i&&4!=e&&zu(this))}},Sa.cancel=function(){this.I=!0,Gu(this)},Sa.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(gu(3),bu(17)),Gu(this),this.o=2,Hu(this)):Wu(this,this.Y-e)},(Sa=Yu.prototype).R=function(){Zu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Sa.T=function(){return Zu(this),this.g.concat()},Sa.get=function(e,t){return Xu(this.h,e)?this.h[e]:t},Sa.set=function(e,t){Xu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Sa.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ju=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function es(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof es){this.g=void 0!==t?t:e.g,ns(this,e.j),this.s=e.s,rs(this,e.i),is(this,e.m),this.l=e.l,t=e.h;var n=new ys;n.i=t.i,t.g&&(n.g=new Yu(t.g),n.h=t.h),as(this,n),this.o=e.o}else e&&(n=String(e).match(Ju))?(this.g=!!t,ns(this,n[1]||"",!0),this.s=ss(n[2]||""),rs(this,n[3]||"",!0),is(this,n[4]),this.l=ss(n[5]||"",!0),as(this,n[6]||"",!0),this.o=ss(n[7]||"")):(this.g=!!t,this.h=new ys(null,this.g))}function ts(e){return new es(e)}function ns(e,t,n){e.j=n?ss(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rs(e,t,n){e.i=n?ss(t,!0):t}function is(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function as(e,t,n){t instanceof ys?(e.h=t,function(e,t){t&&!e.j&&(ms(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gs(this,t),bs(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ls(t,ps)),e.h=new ys(t,e.g))}function os(e,t,n){e.h.set(t,n)}function us(e){return os(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ss(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ls(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}es.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ls(t,fs,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ls(t,fs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ls(n,"/"==n.charAt(0)?ds:hs,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ls(n,vs)),e.join("")};var fs=/[#\/\?@]/g,hs=/[#\?:]/g,ds=/[#\?]/g,ps=/[#\?@]/g,vs=/#/g;function ys(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ms(e){e.g||(e.g=new Yu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gs(e,t){ms(e),t=ws(e,t),Xu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Xu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Zu(e)))}function ks(e,t){return ms(e),t=ws(e,t),Xu(e.g.h,t)}function bs(e,t,n){gs(e,t),0<n.length&&(e.i=null,e.g.set(ws(e,t),Wa(n)),e.h+=n.length)}function ws(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Sa=ys.prototype).add=function(e,t){ms(this),this.i=null,e=ws(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Sa.forEach=function(e,t){ms(this),this.g.forEach((function(n,r){Ua(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Sa.T=function(){ms(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Sa.R=function(e){ms(this);var t=[];if("string"===typeof e)ks(this,e)&&(t=za(t,this.g.get(ws(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=za(t,e[n])}return t},Sa.set=function(e,t){return ms(this),this.i=null,ks(this,e=ws(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Sa.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Sa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var _s=a((function e(t,n){r(this,e),this.h=t,this.g=n}));function xs(e){this.l=e||Es,Ia.PerformanceNavigationTiming?e=0<(e=Ia.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ia.g&&Ia.g.Ea&&Ia.g.Ea()&&Ia.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ss,Es=10;function Cs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ts(e){return e.h?1:e.g?e.g.size:0}function Is(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ns(e,t){e.g?e.g.add(t):e.h=t}function As(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ps(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=vr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Wa(e.i)}function Ds(){}function Rs(){this.g=new Ds}function Os(e,t,n){var r=n||"";try{$u(e,(function(e,n){var i=e;Pa(e)&&(i=Ho(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ls(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ms(e){this.l=e.$b||null,this.j=e.ib||!1}function Fs(e,t){zo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xs.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=vr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ds.prototype.stringify=function(e){return Ia.JSON.stringify(e,void 0)},Ds.prototype.parse=function(e){return Ia.JSON.parse(e,void 0)},ja(Ms,Eu),Ms.prototype.g=function(){return new Fs(this.l,this.j)},Ms.prototype.i=(Ss={},function(){return Ss}),ja(Fs,zo);var js=0;function Vs(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function qs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bs(e)}function Bs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Sa=Fs.prototype).open=function(e,t){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bs(this)},Sa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ia).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Sa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qs(this)),this.readyState=js},Sa.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ia.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vs(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Sa.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qs(this):Bs(this),3==this.readyState&&Vs(this)}},Sa.Ua=function(e){this.g&&(this.response=this.responseText=e,qs(this))},Sa.Ta=function(e){this.g&&(this.response=e,qs(this))},Sa.ha=function(){this.g&&qs(this)},Sa.setRequestHeader=function(e,t){this.v.append(e,t)},Sa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Sa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Us=Ia.JSON.parse;function zs(e){zo.call(this),this.headers=new Yu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ws,this.K=this.L=!1}ja(zs,zo);var Ws="",Ks=/^https?$/i,Hs=["POST","PUT"];function Gs(e){return"content-type"==e.toLowerCase()}function Qs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,$s(e),Zs(e)}function $s(e){e.D||(e.D=!0,Wo(e,"complete"),Wo(e,"error"))}function Ys(e){if(e.h&&"undefined"!=typeof Ta&&(!e.C[1]||4!=Js(e)||2!=e.ba()))if(e.v&&4==Js(e))au(e.Fa,0,e);else if(Wo(e,"readystatechange"),4==Js(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ju)[1]||null;if(!a&&Ia.self&&Ia.self.location){var o=Ia.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ks.test(a?a.toLowerCase():"")}t=i}if(t)Wo(e,"complete"),Wo(e,"success");else{e.m=6;try{var u=2<Js(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",$s(e)}}finally{Zs(e)}}}function Zs(e,t){if(e.g){Xs(e);var n=e.g,r=e.C[0]?Na:null;e.g=null,e.C=null,t||Wo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Xs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ia.clearTimeout(e.A),e.A=null)}function Js(e){return e.g?e.g.readyState:0}function el(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ws:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function tl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Xa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):os(e,t,n))}function nl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rl(e){this.za=0,this.l=[],this.h=new hu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nl("baseRetryDelayMs",5e3,e),this.$a=nl("retryDelaySeedMs",1e4,e),this.Ya=nl("forwardChannelMaxRetries",2,e),this.ra=nl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new xs(e&&e.concurrentRequestLimit),this.Ca=new Rs,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function il(e){if(ol(e),3==e.G){var t=e.V++,n=ts(e.F);os(n,"SID",e.J),os(n,"RID",t),os(n,"TYPE","terminate"),cl(e,n),(t=new Ru(e,e.h,t,void 0)).K=2,t.v=us(ts(n)),n=!1,Ia.navigator&&Ia.navigator.sendBeacon&&(n=Ia.navigator.sendBeacon(t.v.toString(),"")),!n&&Ia.Image&&((new Image).src=t.v,n=!0),n||(t.g=_l(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zu(t)}bl(e)}function al(e){e.g&&(pl(e),e.g.cancel(),e.g=null)}function ol(e){al(e),e.u&&(Ia.clearTimeout(e.u),e.u=null),yl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ia.clearTimeout(e.m),e.m=null)}function ul(e,t){e.l.push(new _s(e.Za++,t)),3==e.G&&sl(e)}function sl(e){Cs(e.i)||e.m||(e.m=!0,Jo(e.Ha,e),e.C=0)}function ll(e,t){var n;n=t?t.m:e.V++;var r=ts(e.F);os(r,"SID",e.J),os(r,"RID",n),os(r,"AID",e.U),cl(e,r),e.o&&e.s&&tl(r,e.o,e.s),n=new Ru(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=fl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ns(e.i,n),ju(n,r,t)}function cl(e,t){e.j&&$u({},(function(e,n){os(t,n,e)}))}function fl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ma(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Os(c,o,"req"+l+"_")}catch(Yl){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function hl(e){e.g||e.u||(e.Y=1,Jo(e.Ga,e),e.A=0)}function dl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=_u(Ma(e.Ga,e),gl(e,e.A)),e.A++,!0)}function pl(e){null!=e.B&&(Ia.clearTimeout(e.B),e.B=null)}function vl(e){e.g=new Ru(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ts(e.oa);os(t,"RID","rpc"),os(t,"SID",e.J),os(t,"CI",e.N?"0":"1"),os(t,"AID",e.U),cl(e,t),os(t,"TYPE","xmlhttp"),e.o&&e.s&&tl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=us(ts(t)),n.s=null,n.U=!0,Vu(n,e)}function yl(e){null!=e.v&&(Ia.clearTimeout(e.v),e.v=null)}function ml(e,t){var n=null;if(e.g==t){yl(e),pl(e),e.g=null;var r=2}else{if(!Is(e.i,t))return;n=t.D,As(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Wo(r=yu(),new wu(r,n,t,i)),sl(e)}else hl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ts(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=_u(Ma(e.Ha,e,t),gl(e,e.C)),e.C++,!0))}(e,t)||2==r&&dl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:kl(e,5);break;case 4:kl(e,10);break;case 3:kl(e,6);break;default:kl(e,2)}}function gl(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function kl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ma(e.jb,e);n||(n=new es("//www.google.com/images/cleardot.gif"),Ia.location&&"http"==Ia.location.protocol||ns(n,"https"),us(n)),function(e,t){var n=new hu;if(Ia.Image){var r=new Image;r.onload=Fa(Ls,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fa(Ls,n,r,"TestLoadImage: error",!1,t),r.onabort=Fa(Ls,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fa(Ls,n,r,"TestLoadImage: timeout",!1,t),Ia.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bu(2);e.G=0,e.j&&e.j.va(t),bl(e),ol(e)}function bl(e){e.G=0,e.I=-1,e.j&&(0==Ps(e.i).length&&0==e.l.length||(e.i.i.length=0,Wa(e.l),e.l.length=0),e.j.ua())}function wl(e,t,n){var r=function(e){return e instanceof es?ts(e):new es(e,void 0)}(n);if(""!=r.i)t&&rs(r,t+"."+r.i),is(r,r.m);else{var i=Ia.location;r=function(e,t,n,r){var i=new es(null,void 0);return e&&ns(i,e),t&&rs(i,t),n&&is(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Xa(e.aa,(function(e,t){os(r,t,e)})),t=e.D,n=e.sa,t&&n&&os(r,t,n),os(r,"VER",e.ma),cl(e,r),r}function _l(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new zs(new Ms({ib:!0})):new zs(e.qa)).L=e.H,t}function xl(){}function Sl(){if(ao&&!(10<=Number(ko)))throw Error("Environmental error: no available transport.")}function El(e,t){zo.call(this),this.g=new rl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ka(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ka(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Il(this)}function Cl(e){Au.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tl(){Pu.call(this),this.status=1}function Il(e){this.g=e}(Sa=zs.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Iu.g(),this.C=this.u?Cu(this.u):Cu(Iu),this.g.onreadystatechange=Ma(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Qs(this,a)}e=n||"";var i=new Yu(this.headers);r&&$u(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Gs,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ia.FormData&&e instanceof Ia.FormData,!(0<=Ba(Hs,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xs(this),0<this.B&&((this.K=function(e){return ao&&mo()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ma(this.pa,this)):this.A=au(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Qs(this,a)}},Sa.pa=function(){"undefined"!=typeof Ta&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wo(this,"timeout"),this.abort(8))},Sa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wo(this,"complete"),Wo(this,"abort"),Zs(this))},Sa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zs(this,!0)),zs.Z.M.call(this)},Sa.Fa=function(){this.s||(this.F||this.v||this.l?Ys(this):this.cb())},Sa.cb=function(){Ys(this)},Sa.ba=function(){try{return 2<Js(this)?this.g.status:-1}catch(Ss){return-1}},Sa.ga=function(){try{return this.g?this.g.responseText:""}catch(Ss){return""}},Sa.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Us(t)}},Sa.Da=function(){return this.m},Sa.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Sa=rl.prototype).ma=8,Sa.G=1,Sa.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Sa.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ru(this,this.h,e,void 0),n=this.s;if(this.P&&(n?to(n=Ja(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=fl(this,t,r),os(i=ts(this.F),"RID",e),os(i,"CVER",22),this.D&&os(i,"X-HTTP-Session-Id",this.D),cl(this,i),this.o&&n&&tl(i,this.o,n),Ns(this.i,t),this.Ra&&os(i,"TYPE","init"),this.ja?(os(i,"$req",r),os(i,"SID","null"),t.$=!0,ju(t,i,null)):ju(t,i,r),this.G=2}}else 3==this.G&&(e?ll(this,e):0==this.l.length||Cs(this.i)||ll(this))},Sa.Ga=function(){if(this.u=null,vl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=_u(Ma(this.bb,this),e)}},Sa.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bu(10),al(this),vl(this))},Sa.ab=function(){null!=this.v&&(this.v=null,al(this),dl(this),bu(19))},Sa.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bu(2)):(this.h.info("Failed to ping google.com"),bu(1))},(Sa=xl.prototype).xa=function(){},Sa.wa=function(){},Sa.va=function(){},Sa.ua=function(){},Sa.Oa=function(){},Sl.prototype.g=function(e,t){return new El(e,t)},ja(El,zo),El.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Jo(Ma(e.hb,e,t))),bu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=wl(e,null,e.W),sl(e)},El.prototype.close=function(){il(this.g)},El.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ul(this.g,t)}else this.v?((t={}).__data__=Ho(e),ul(this.g,t)):ul(this.g,e)},El.prototype.M=function(){this.g.j=null,delete this.j,il(this.g),delete this.g,El.Z.M.call(this)},ja(Cl,Au),ja(Tl,Pu),ja(Il,xl),Il.prototype.xa=function(){Wo(this.g,"a")},Il.prototype.wa=function(e){Wo(this.g,new Cl(e))},Il.prototype.va=function(e){Wo(this.g,new Tl(e))},Il.prototype.ua=function(){Wo(this.g,"b")},Sl.prototype.createWebChannel=Sl.prototype.g,El.prototype.send=El.prototype.u,El.prototype.open=El.prototype.m,El.prototype.close=El.prototype.close,xu.NO_ERROR=0,xu.TIMEOUT=8,xu.HTTP_ERROR=6,Su.COMPLETE="complete",Tu.EventType=Nu,Nu.OPEN="a",Nu.CLOSE="b",Nu.ERROR="c",Nu.MESSAGE="d",zo.prototype.listen=zo.prototype.N,zs.prototype.listenOnce=zs.prototype.O,zs.prototype.getLastError=zs.prototype.La,zs.prototype.getLastErrorCode=zs.prototype.Da,zs.prototype.getStatus=zs.prototype.ba,zs.prototype.getResponseJson=zs.prototype.Qa,zs.prototype.getResponseText=zs.prototype.ga,zs.prototype.send=zs.prototype.ea;var Nl=Ca.createWebChannelTransport=function(){return new Sl},Al=Ca.getStatEventTarget=function(){return yu()},Pl=Ca.ErrorCode=xu,Dl=Ca.EventType=Su,Rl=Ca.Event=pu,Ol=Ca.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ll=Ca.FetchXmlHttpFactory=Ms,Ml=Ca.WebChannel=Tu,Fl=Ca.XhrIo=zs,jl="@firebase/firestore",Vl=function(){function e(t){r(this,e),this.uid=t}return a(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Vl.UNAUTHENTICATED=new Vl(null),Vl.GOOGLE_CREDENTIALS=new Vl("google-credentials-uid"),Vl.FIRST_PARTY=new Vl("first-party-uid"),Vl.MOCK_USER=new Vl("mock-user");var ql="9.6.11",Bl=new Ti("@firebase/firestore");function Ul(){return Bl.logLevel}function zl(e){if(Bl.logLevel<=gi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Hl);Bl.debug.apply(Bl,["Firestore (".concat(ql,"): ").concat(e)].concat((0,di.Z)(i)))}}function Wl(e){if(Bl.logLevel<=gi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Hl);Bl.error.apply(Bl,["Firestore (".concat(ql,"): ").concat(e)].concat((0,di.Z)(i)))}}function Kl(e){if(Bl.logLevel<=gi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Hl);Bl.warn.apply(Bl,["Firestore (".concat(ql,"): ").concat(e)].concat((0,di.Z)(i)))}}function Hl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ql,") INTERNAL ASSERTION FAILED: ")+e;throw Wl(t),new Error(t)}function Ql(e,t){e||Gl()}function $l(e,t){return e}var Yl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zl=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i)).code=e,a.message=i,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return a(n)}(jr),Xl=a((function e(){var t=this;r(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Jl=a((function e(t,n){r(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ec=function(){function e(){r(this,e)}return a(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),tc=function(){function e(t){r(this,e),this.token=t,this.changeListener=null}return a(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),nc=function(){function e(t){r(this,e),this.t=t,this.currentUser=Vl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Xl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Xl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){zl("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(zl("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(zl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ql("string"==typeof n.accessToken),new Jl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ql(null===e||"string"==typeof e),new Vl(e)}}]),e}(),rc=a((function e(t,n,i){r(this,e),this.type="FirstParty",this.user=Vl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)})),ic=function(){function e(t,n,i){r(this,e),this.h=t,this.l=n,this.m=i}return a(e,[{key:"getToken",value:function(){return Promise.resolve(new rc(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Vl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ac=a((function e(t){r(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),oc=function(){function e(t){r(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&zl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,zl("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){zl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):zl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ql("string"==typeof t.token),e.p=t.token,new ac(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),uc=function(){function e(t,n){var i=this;r(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return i.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return a(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function sc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}uc.A=-1;var lc=function(){function e(){r(this,e)}return a(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=sc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function cc(e,t){return e<t?-1:e>t?1:0}function fc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function hc(e){return e+"\0"}var dc=function(){function e(t,n){if(r(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Zl(Yl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Zl(Yl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Zl(Yl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zl(Yl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return a(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?cc(this.nanoseconds,e.nanoseconds):cc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),pc=function(){function e(t){r(this,e),this.timestamp=t}return a(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new dc(0,0))}},{key:"max",value:function(){return new e(new dc(253402300799,999999999))}}]),e}();function vc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var gc=function(){function e(t,n,i){r(this,e),void 0===n?n=0:n>t.length&&Gl(),void 0===i?i=t.length-n:i>t.length-n&&Gl(),this.segments=t,this.offset=n,this.len=i}return a(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),kc=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,di.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gc),bc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wc=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return bc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Zl(Yl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Zl(Yl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Zl(Yl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(gc),_c=function(){function e(t){r(this,e),this.fields=t,t.sort(wc.comparator)}return a(e,[{key:"covers",value:function(e){var t,n=vr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return fc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var xc=function(e){function t(e){r(this,t),this.binaryString=e}return a(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return cc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();xc.EMPTY_BYTE_STRING=new xc("");var Sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(e){if(Ql(!!e),"string"==typeof e){var t=0,n=Sc.exec(e);if(Ql(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Cc(e.seconds),nanos:Cc(e.nanos)}}function Cc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tc(e){return"string"==typeof e?xc.fromBase64String(e):xc.fromUint8Array(e)}function Ic(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nc(e){var t=e.mapValue.fields.__previous_value__;return Ic(t)?Nc(t):t}function Ac(e){var t=Ec(e.mapValue.fields.__local_write_time__.timestampValue);return new dc(t.seconds,t.nanos)}var Pc=a((function e(t,n,i,a,o,u,s,l){r(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=s,this.useFetchStreams=l})),Dc=function(){function e(t,n){r(this,e),this.projectId=t,this.database=n||"(default)"}return a(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Rc(e){return null==e}function Oc(e){return 0===e&&1/e==-1/0}function Lc(e){return"number"==typeof e&&Number.isInteger(e)&&!Oc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Mc=function(){function e(t){r(this,e),this.path=t}return a(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===kc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(kc.fromString(t))}},{key:"fromName",value:function(t){return new e(kc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(kc.emptyPath())}},{key:"comparator",value:function(e,t){return kc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new kc(t.slice()))}}]),e}(),Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jc={nullValue:"NULL_VALUE"};function Vc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ic(e)?4:Jc(e)?9:10:Gl()}function qc(e,t){if(e===t)return!0;var n=Vc(e);if(n!==Vc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ac(e).isEqual(Ac(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ec(e.timestampValue),r=Ec(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tc(e.bytesValue).isEqual(Tc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cc(e.geoPointValue.latitude)===Cc(t.geoPointValue.latitude)&&Cc(e.geoPointValue.longitude)===Cc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cc(e.integerValue)===Cc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Cc(e.doubleValue),r=Cc(t.doubleValue);return n===r?Oc(n)===Oc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fc(e.arrayValue.values||[],t.arrayValue.values||[],qc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vc(n)!==vc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qc(n[i],r[i])))return!1;return!0}(e,t);default:return Gl()}}function Bc(e,t){return void 0!==(e.values||[]).find((function(e){return qc(e,t)}))}function Uc(e,t){if(e===t)return 0;var n=Vc(e),r=Vc(t);if(n!==r)return cc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Cc(e.integerValue||e.doubleValue),r=Cc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zc(e.timestampValue,t.timestampValue);case 4:return zc(Ac(e),Ac(t));case 5:return cc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Tc(e),r=Tc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=cc(n[i],r[i]);if(0!==a)return a}return cc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=cc(Cc(e.latitude),Cc(t.latitude));return 0!==n?n:cc(Cc(e.longitude),Cc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Uc(n[i],r[i]);if(a)return a}return cc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=cc(r[o],a[o]);if(0!==u)return u;var s=Uc(n[r[o]],i[a[o]]);if(0!==s)return s}return cc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Gl()}}function zc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return cc(e,t);var n=Ec(e),r=Ec(t),i=cc(n.seconds,r.seconds);return 0!==i?i:cc(n.nanos,r.nanos)}function Wc(e){return Kc(e)}function Kc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ec(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Tc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=vr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=vr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Gl();var t,n}function Hc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gc(e){return!!e&&"integerValue"in e}function Qc(e){return!!e&&"arrayValue"in e}function $c(e){return!!e&&"nullValue"in e}function Yc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zc(e){return!!e&&"mapValue"in e}function Xc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return yc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ef(e){return"nullValue"in e?jc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Hc(Dc.empty(),Mc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Gl()}function tf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Hc(Dc.empty(),Mc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Fc:Gl()}function nf(e,t){return void 0===e?t:void 0===t||Uc(e,t)>0?e:t}function rf(e,t){return void 0===e?t:void 0===t||Uc(e,t)<0?e:t}var af=function(){function e(t){r(this,e),this.value=t}return a(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(t)}},{key:"setAll",value:function(e){var t=this,n=wc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Zc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return qc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){yc(t,(function(t,n){return e[t]=n}));var r,i=vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function of(e){var t=[];return yc(e.fields,(function(e,n){var r=new wc([e]);if(Zc(n)){var i=of(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=vr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new _c(t)}var uf=function(){function e(t,n,i,a,o,u){r(this,e),this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.data=o,this.documentState=u}return a(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=af.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=af.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,pc.min(),pc.min(),af.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,pc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,pc.min(),af.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,pc.min(),af.empty(),2)}}]),e}(),sf=a((function e(t,n,i,a){r(this,e),this.indexId=t,this.collectionGroup=n,this.fields=i,this.indexState=a}));function lf(e){return e.fields.find((function(e){return 2===e.kind}))}function cf(e){return e.fields.filter((function(e){return 2!==e.kind}))}sf.UNKNOWN_ID=-1;var ff=a((function e(t,n){r(this,e),this.fieldPath=t,this.kind=n})),hf=function(){function e(t,n){r(this,e),this.sequenceNumber=t,this.offset=n}return a(e,null,[{key:"empty",value:function(){return new e(0,vf.min())}}]),e}();function df(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pc.fromTimestamp(1e9===r?new dc(n+1,0):new dc(n,r));return new vf(i,Mc.empty(),t)}function pf(e){return new vf(e.readTime,e.key,-1)}var vf=function(){function e(t,n,i){r(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=i}return a(e,null,[{key:"min",value:function(){return new e(pc.min(),Mc.empty(),-1)}},{key:"max",value:function(){return new e(pc.max(),Mc.empty(),-1)}}]),e}();function yf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Mc.comparator(e.documentKey,t.documentKey))?n:cc(e.largestBatchId,t.largestBatchId)}var mf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;r(this,e),this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=s,this.P=null}));function gf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new mf(e,t,n,r,i,a,o)}function kf(e){var t=$l(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Wc(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Rc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Wc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Wc(e)})).join(",")),t.P=n}return t.P}function bf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Mf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!qc(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jf(e.startAt,t.startAt)&&jf(e.endAt,t.endAt)}function wf(e){return Mc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function _f(e,t){return e.filters.filter((function(e){return e instanceof Ef&&e.field.isEqual(t)}))}function xf(e,t,n){var r,i,a=!0,o=vr(_f(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,l=!0;switch(u.op){case"<":case"<=":s=ef(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,l=!1;break;case"!=":case"not-in":s=jc}nf(r,s)===s&&(r=s,a=l)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var f=n.position[c];nf(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function Sf(e,t,n){var r,i,a=!0,o=vr(_f(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,l=!0;switch(u.op){case">=":case">":s=tf(u.value),l=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,l=!1;break;case"!=":case"not-in":s=Fc}rf(r,s)===s&&(r=s,a=l)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var f=n.position[c];rf(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var Ef=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).field=e,o.op=i,o.value=a,o}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Uc(t,this.value)):null!==t&&Vc(this.value)===Vc(t)&&this.v(Uc(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gl()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Cf(e,t,r):"array-contains"===t?new Af(e,r):"in"===t?new Pf(e,r):"not-in"===t?new Df(e,r):"array-contains-any"===t?new Rf(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Tf(e,n):new If(e,n)}}]),n}(function(){return a((function e(){r(this,e)}))}()),Cf=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).key=Mc.fromName(a.referenceValue),o}return a(n,[{key:"matches",value:function(e){var t=Mc.comparator(e.key,this.key);return this.v(t)}}]),n}(Ef),Tf=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"in",i)).keys=Nf("in",i),a}return a(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ef),If=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"not-in",i)).keys=Nf("not-in",i),a}return a(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ef);function Nf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Mc.fromName(e.referenceValue)}))}var Af=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qc(t)&&Bc(t.arrayValue,this.value)}}]),n}(Ef),Pf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"in",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Bc(this.value.arrayValue,t)}}]),n}(Ef),Df=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"not-in",i)}return a(n,[{key:"matches",value:function(e){if(Bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Bc(this.value.arrayValue,t)}}]),n}(Ef),Rf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains-any",i)}return a(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Bc(t.value.arrayValue,e)}))}}]),n}(Ef),Of=a((function e(t,n){r(this,e),this.position=t,this.inclusive=n})),Lf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";r(this,e),this.field=t,this.dir=n}));function Mf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ff(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Mc.comparator(Mc.fromName(o.referenceValue),n.key):Uc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qc(e.position[n],t.position[n]))return!1;return!0}var Vf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;r(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=s,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}));function qf(e,t,n,r,i,a,o,u){return new Vf(e,t,n,r,i,a,o,u)}function Bf(e){return new Vf(e)}function Uf(e){return!Rc(e.limit)&&"F"===e.limitType}function zf(e){return!Rc(e.limit)&&"L"===e.limitType}function Wf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kf(e){var t,n=vr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Hf(e){return null!==e.collectionGroup}function Gf(e){var t=$l(e);if(null===t.D){t.D=[];var n=Kf(t),r=Wf(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Lf(n)),t.D.push(new Lf(wc.keyField(),"asc"));else{var i,a=!1,o=vr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Lf(wc.keyField(),s))}}}return t.D}function Qf(e){var t=$l(e);if(!t.C)if("F"===t.limitType)t.C=gf(t.path,t.collectionGroup,Gf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=vr(Gf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Lf(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new Of(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Of(t.startAt.position,!t.startAt.inclusive):null;t.C=gf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function $f(e,t,n){return new Vf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yf(e,t){return bf(Qf(e),Qf(t))&&e.limitType===t.limitType}function Zf(e){return"".concat(kf(Qf(e)),"|lt:").concat(e.limitType)}function Xf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wc(t.value));var t})).join(", "),"]")),Rc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Wc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Wc(e)})).join(",")),"Target(".concat(t,")")}(Qf(e)),"; limitType=").concat(e.limitType,")")}function Jf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=vr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=vr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ff(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ff(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gf(e),t))}(e,t)}function eh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function th(e){return function(t,n){var r,i=!1,a=vr(Gf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=nh(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function nh(e,t,n){var r=e.field.isKeyField()?Mc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Uc(r,i):Gl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gl()}}function rh(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(t)?"-0":t}}function ih(e){return{integerValue:""+e}}function ah(e,t){return Lc(t)?ih(t):rh(e,t)}var oh=a((function e(){r(this,e),this._=void 0}));function uh(e,t,n){return e instanceof ch?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fh?hh(e,t):e instanceof dh?ph(e,t):function(e,t){var n=lh(e,t),r=yh(n)+yh(e.k);return Gc(n)&&Gc(e.k)?ih(r):rh(e.M,r)}(e,t)}function sh(e,t,n){return e instanceof fh?hh(e,t):e instanceof dh?ph(e,t):n}function lh(e,t){return e instanceof vh?Gc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ch=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n)}(oh),fh=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(oh);function hh(e,t){var n,r=mh(t),i=vr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return qc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dh=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(oh);function ph(e,t){var n,r=mh(t),i=vr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!qc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).M=e,a.k=i,a}return a(n)}(oh);function yh(e){return Cc(e.integerValue||e.doubleValue)}function mh(e){return Qc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var gh=a((function e(t,n){r(this,e),this.field=t,this.transform=n}));var kh=a((function e(t,n){r(this,e),this.version=t,this.transformResults=n})),bh=function(){function e(t,n){r(this,e),this.updateTime=t,this.exists=n}return a(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function wh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var _h=a((function e(){r(this,e)}));function xh(e,t,n){e instanceof Ih?function(e,t,n){var r=e.value.clone(),i=Ph(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Nh?function(e,t,n){if(wh(e.precondition,t)){var r=Ph(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ah(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sh(e,t,n){e instanceof Ih?function(e,t,n){if(wh(e.precondition,t)){var r=e.value.clone(),i=Dh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Th(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Nh?function(e,t,n){if(wh(e.precondition,t)){var r=Dh(e.fieldTransforms,n,t),i=t.data;i.setAll(Ah(e)),i.setAll(r),t.convertToFoundDocument(Th(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){wh(e.precondition,t)&&t.convertToNoDocument(pc.min())}(e,t)}function Eh(e,t){var n,r=null,i=vr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=lh(a.transform,o||null);null!=u&&(null==r&&(r=af.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ch(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fh&&t instanceof fh||e instanceof dh&&t instanceof dh?fc(e.elements,t.elements,qc):e instanceof vh&&t instanceof vh?qc(e.k,t.k):e instanceof ch&&t instanceof ch}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Th(e){return e.isFoundDocument()?e.version:pc.min()}var Ih=function(e){u(n,e);var t=d(n);function n(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return r(this,n),(o=t.call(this)).key=e,o.value=i,o.precondition=a,o.fieldTransforms=u,o.type=0,o}return a(n)}(_h),Nh=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return r(this,n),(u=t.call(this)).key=e,u.data=i,u.fieldMask=a,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return a(n)}(_h);function Ah(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ph(e,t,n){var r=new Map;Ql(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,sh(o,u,n[i]))}return r}function Dh(e,t,n){var r,i=new Map,a=vr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,uh(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Rh,Oh,Lh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=2,a.fieldTransforms=[],a}return a(n)}(_h),Mh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=3,a.fieldTransforms=[],a}return a(n)}(_h),Fh=a((function e(t){r(this,e),this.count=t}));function jh(e){switch(e){default:return Gl();case Yl.CANCELLED:case Yl.UNKNOWN:case Yl.DEADLINE_EXCEEDED:case Yl.RESOURCE_EXHAUSTED:case Yl.INTERNAL:case Yl.UNAVAILABLE:case Yl.UNAUTHENTICATED:return!1;case Yl.INVALID_ARGUMENT:case Yl.NOT_FOUND:case Yl.ALREADY_EXISTS:case Yl.PERMISSION_DENIED:case Yl.FAILED_PRECONDITION:case Yl.ABORTED:case Yl.OUT_OF_RANGE:case Yl.UNIMPLEMENTED:case Yl.DATA_LOSS:return!0}}function Vh(e){if(void 0===e)return Wl("GRPC error has no .code"),Yl.UNKNOWN;switch(e){case Rh.OK:return Yl.OK;case Rh.CANCELLED:return Yl.CANCELLED;case Rh.UNKNOWN:return Yl.UNKNOWN;case Rh.DEADLINE_EXCEEDED:return Yl.DEADLINE_EXCEEDED;case Rh.RESOURCE_EXHAUSTED:return Yl.RESOURCE_EXHAUSTED;case Rh.INTERNAL:return Yl.INTERNAL;case Rh.UNAVAILABLE:return Yl.UNAVAILABLE;case Rh.UNAUTHENTICATED:return Yl.UNAUTHENTICATED;case Rh.INVALID_ARGUMENT:return Yl.INVALID_ARGUMENT;case Rh.NOT_FOUND:return Yl.NOT_FOUND;case Rh.ALREADY_EXISTS:return Yl.ALREADY_EXISTS;case Rh.PERMISSION_DENIED:return Yl.PERMISSION_DENIED;case Rh.FAILED_PRECONDITION:return Yl.FAILED_PRECONDITION;case Rh.ABORTED:return Yl.ABORTED;case Rh.OUT_OF_RANGE:return Yl.OUT_OF_RANGE;case Rh.UNIMPLEMENTED:return Yl.UNIMPLEMENTED;case Rh.DATA_LOSS:return Yl.DATA_LOSS;default:return Gl()}}(Oh=Rh||(Rh={}))[Oh.OK=0]="OK",Oh[Oh.CANCELLED=1]="CANCELLED",Oh[Oh.UNKNOWN=2]="UNKNOWN",Oh[Oh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oh[Oh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oh[Oh.NOT_FOUND=5]="NOT_FOUND",Oh[Oh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oh[Oh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oh[Oh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oh[Oh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oh[Oh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oh[Oh.ABORTED=10]="ABORTED",Oh[Oh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oh[Oh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oh[Oh.INTERNAL=13]="INTERNAL",Oh[Oh.UNAVAILABLE=14]="UNAVAILABLE",Oh[Oh.DATA_LOSS=15]="DATA_LOSS";var qh=function(){function e(t,n){r(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return a(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=vr(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Fe.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){yc(this.inner,(function(t,n){var r,i=vr(n);try{for(i.s();!(r=i.n()).done;){var a=(0,Fe.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return mc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Bh=function(){function e(t,n){r(this,e),this.comparator=t,this.root=n||zh.EMPTY}return a(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Uh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Uh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Uh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Uh(this.root,e,this.comparator,!0)}}]),e}(),Uh=function(){function e(t,n,i,a){r(this,e),this.isReverse=a,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return a(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),zh=function(){function e(t,n,i,a,o){r(this,e),this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return a(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Gl();if(this.right.isRed())throw Gl();var e=this.left.check();if(e!==this.right.check())throw Gl();return e+(this.isRed()?0:1)}}]),e}();zh.EMPTY=null,zh.RED=!0,zh.BLACK=!1,zh.EMPTY=new(function(){function e(){r(this,e),this.size=0}return a(e,[{key:"key",get:function(){throw Gl()}},{key:"value",get:function(){throw Gl()}},{key:"color",get:function(){throw Gl()}},{key:"left",get:function(){throw Gl()}},{key:"right",get:function(){throw Gl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new zh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Wh=function(){function e(t){r(this,e),this.comparator=t,this.data=new Bh(this.comparator)}return a(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Kh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Kh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Kh=function(){function e(t){r(this,e),this.iter=t}return a(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Hh(e){return e.hasNext()?e.getNext():void 0}var Gh=new Bh(Mc.comparator);function Qh(){return Gh}var $h=new Bh(Mc.comparator);function Yh(){return $h}function Zh(){return new qh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Xh=new Bh(Mc.comparator),Jh=new Wh(Mc.comparator);function ed(){for(var e=Jh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var td=new Wh(cc);function nd(){return td}var rd=function(){function e(t,n,i,a,o){r(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}return a(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,id.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(pc.min(),r,nd(),Qh(),ed())}}]),e}(),id=function(){function e(t,n,i,a,o){r(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}return a(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(xc.EMPTY_BYTE_STRING,n,ed(),ed(),ed())}}]),e}(),ad=a((function e(t,n,i,a){r(this,e),this.O=t,this.removedTargetIds=n,this.key=i,this.F=a})),od=a((function e(t,n){r(this,e),this.targetId=t,this.$=n})),ud=a((function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xc.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a})),sd=function(){function e(){r(this,e),this.B=0,this.L=fd(),this.U=xc.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return a(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=ed(),t=ed(),n=ed();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Gl()}})),new id(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=fd()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),ld=function(){function e(t){r(this,e),this.nt=t,this.st=new Map,this.it=Qh(),this.rt=cd(),this.ot=new Wh(cc)}return a(e,[{key:"ut",value:function(e){var t,n=vr(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=vr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Gl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(wf(i))if(0===n){var a=new Mc(i.path);this.ct(t,a,uf.newNoDocument(a,pc.min()))}else Ql(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&wf(a.target)){var o=new Mc(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,uf.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=ed();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new rd(e,n,this.ot,this.it,r);return this.it=Qh(),this.rt=cd(),this.ot=new Wh(cc),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new sd,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Wh(cc),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||zl("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new sd),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function cd(){return new Bh(Mc.comparator)}function fd(){return new Bh(Mc.comparator)}var hd={asc:"ASCENDING",desc:"DESCENDING"},dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pd=a((function e(t,n){r(this,e),this.databaseId=t,this.N=n}));function vd(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yd(e,t){return e.N?t.toBase64():t.toUint8Array()}function md(e,t){return vd(e,t.toTimestamp())}function gd(e){return Ql(!!e),pc.fromTimestamp(function(e){var t=Ec(e);return new dc(t.seconds,t.nanos)}(e))}function kd(e,t){return function(e){return new kc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function bd(e){var t=kc.fromString(e);return Ql(zd(t)),t}function wd(e,t){return kd(e.databaseId,t.path)}function _d(e,t){var n=bd(t);if(n.get(1)!==e.databaseId.projectId)throw new Zl(Yl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zl(Yl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mc(Cd(n))}function xd(e,t){return kd(e.databaseId,t)}function Sd(e){var t=bd(e);return 4===t.length?kc.emptyPath():Cd(t)}function Ed(e){return new kc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cd(e){return Ql(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Td(e,t,n){return{name:wd(e,t),fields:n.value.mapValue.fields}}function Id(e,t,n){var r=_d(e,t.name),i=gd(t.updateTime),a=new af({mapValue:{fields:t.fields}}),o=uf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Nd(e,t){return"found"in t?function(e,t){Ql(!!t.found),t.found.name,t.found.updateTime;var n=_d(e,t.found.name),r=gd(t.found.updateTime),i=new af({mapValue:{fields:t.found.fields}});return uf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ql(!!t.missing),Ql(!!t.readTime);var n=_d(e,t.missing),r=gd(t.readTime);return uf.newNoDocument(n,r)}(e,t):Gl()}function Ad(e,t){var n;if(t instanceof Ih)n={update:Td(e,t.key,t.value)};else if(t instanceof Lh)n={delete:wd(e,t.key)};else if(t instanceof Nh)n={update:Td(e,t.key,t.data),updateMask:Ud(t.fieldMask)};else{if(!(t instanceof Mh))return Gl();n={verify:wd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ch)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Gl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:md(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gl()}(e,t.precondition)),n}function Pd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?bh.updateTime(gd(e.updateTime)):void 0!==e.exists?bh.exists(e.exists):bh.none()}(t.currentDocument):bh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ql("REQUEST_TIME"===t.setToServerValue),n=new ch;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new fh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new dh(i)}else"increment"in t?n=new vh(e,t.increment):Gl();var a=wc.fromServerFormat(t.fieldPath);return new gh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=_d(e,t.update.name),a=new af({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new _c(t.map((function(e){return wc.fromServerFormat(e)})))}(t.updateMask);return new Nh(i,a,o,n,r)}return new Ih(i,a,n,r)}if(t.delete){var u=_d(e,t.delete);return new Lh(u,n)}if(t.verify){var s=_d(e,t.verify);return new Mh(s,n)}return Gl()}function Dd(e,t){return{documents:[xd(e,t.path)]}}function Rd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=xd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=xd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yc(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NAN"}};if($c(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yc(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NOT_NAN"}};if($c(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jd(e.field),op:Fd(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:jd(e.field),direction:Md(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Rc(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Od(e){var t=Sd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ql(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ld(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Lf(Vd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Rc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Of(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Of(n,t)}(n.endAt)),qf(t,i,u,o,s,"F",l,c)}function Ld(e){return e?void 0!==e.unaryFilter?[Bd(e)]:void 0!==e.fieldFilter?[qd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ld(e)})).reduce((function(e,t){return e.concat(t)})):Gl():[]}function Md(e){return hd[e]}function Fd(e){return dd[e]}function jd(e){return{fieldPath:e.canonicalString()}}function Vd(e){return wc.fromServerFormat(e.fieldPath)}function qd(e){return Ef.create(Vd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gl()}}(e.fieldFilter.op),e.fieldFilter.value)}function Bd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Vd(e.unaryFilter.field);return Ef.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Vd(e.unaryFilter.field);return Ef.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vd(e.unaryFilter.field);return Ef.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vd(e.unaryFilter.field);return Ef.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Gl()}}function Ud(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function zd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Hd(t)),t=Kd(e.get(n),t);return Hd(t)}function Kd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Hd(e){return e+"\x01\x01"}function Gd(e){var t=e.length;if(Ql(t>=2),2===t)return Ql("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),kc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Gl(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Gl()}a=o+2}return new kc(r)}var Qd=["userId","batchId"];function $d(e,t){return[e,Wd(t)]}function Yd(e,t,n){return[e,Wd(t),n]}var Zd={},Xd=["prefixPath","collectionGroup","readTime","documentId"],Jd=["prefixPath","collectionGroup","documentId"],ep=["collectionGroup","readTime","prefixPath","documentId"],tp=["canonicalId","targetId"],np=["targetId","path"],rp=["path","targetId"],ip=["collectionId","parent"],ap=["indexId","uid"],op=["uid","sequenceNumber"],up=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sp=["indexId","uid","orderedDocumentKey"],lp=["userId","collectionPath","documentId"],cp=["userId","collectionPath","largestBatchId"],fp=["userId","collectionGroup","largestBatchId"],hp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),dp=[].concat((0,di.Z)(hp),["documentOverlays"]),pp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vp=[].concat(pp,["indexConfiguration","indexState","indexEntries"]),yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mp=function(){function e(){r(this,e),this.onCommittedListeners=[]}return a(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),gp=function(){function e(t){var n=this;r(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return a(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Gl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=vr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),kp=function(){function e(t,n){var i=this;r(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Xl,this.transaction.oncomplete=function(){i.At.resolve()},this.transaction.onabort=function(){n.error?i.At.reject(new _p(t,n.error)):i.At.resolve()},this.transaction.onerror=function(e){var n=Tp(e.target.error);i.At.reject(new _p(t,n))}}return a(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(zl("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Sp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new _p(n,t)}}}]),e}(),bp=function(){function e(t,n,i){r(this,e),this.name=t,this.version=n,this.bt=i,12.2===e.Vt(Dr())&&Wl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a(e,[{key:"Nt",value:function(){var e=Jt(tn().mark((function e(t){var n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return zl("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new _p(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Zl(Yl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Zl(Yl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new _p(t,n))},i.onupgradeneeded=function(e){zl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){zl("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Jt(tn().mark((function e(t,n,r,i){var a,o,u,s,l=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(tn().mark((function e(){var n,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Nt(t);case 2:return l.db=e.sent,n=kp.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),gp.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,zl("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return zl("SimpleDb","Removing database:",e),Ep(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Fr())return!1;if(e.St())return!0;var t=Dr(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),wp=function(){function e(t){r(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return a(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Ep(this.Ft.delete())}}]),e}(),_p=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,Yl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(i))).name="IndexedDbTransactionError",a}return a(n)}(Zl);function xp(e){return"IndexedDbTransactionError"===e.name}var Sp=function(){function e(t){r(this,e),this.store=t}return a(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(zl("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(zl("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ep(n)}},{key:"add",value:function(e){return zl("SimpleDb","ADD",this.store.name,e,e),Ep(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ep(this.store.get(e)).next((function(n){return void 0===n&&(n=null),zl("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return zl("SimpleDb","DELETE",this.store.name,e),Ep(this.store.delete(e))}},{key:"count",value:function(){return zl("SimpleDb","COUNT",this.store.name),Ep(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new gp((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new gp((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){zl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new gp((function(n,r){t.onerror=function(e){var t=Tp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new gp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new wp(i),o=t(i.primaryKey,i.value,a);if(o instanceof gp){var u=o.catch((function(e){return a.done(),gp.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return gp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ep(e){return new gp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Tp(e.target.error);n(t)}}))}var Cp=!1;function Tp(e){var t=bp.Vt(Dr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Zl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Cp||(Cp=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ip=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).Ht=e,a.currentSequenceNumber=i,a}return a(n)}(mp);function Np(e,t){var n=$l(e);return bp.xt(n.Ht,t)}var Ap=function(){function e(t,n,i,a){r(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}return a(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&xh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=vr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Sh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=vr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Sh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(pc.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ed())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(function(e,t){return Ch(e,t)}))&&fc(this.baseMutations,e.baseMutations,(function(e,t){return Ch(e,t)}))}}]),e}(),Pp=function(){function e(t,n,i,a){r(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}return a(e,null,[{key:"from",value:function(t,n,r){Ql(t.mutations.length===r.length);for(var i=Xh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Dp=function(){function e(t,n){r(this,e),this.largestBatchId=t,this.mutation=n}return a(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Rp=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pc.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xc.EMPTY_BYTE_STRING;r(this,e),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return a(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Op=a((function e(t){r(this,e),this.Jt=t}));function Lp(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:wd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:vd(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fp(t.version)};else{if(!t.isUnknownDocument())return Gl();r.unknownDocument={path:n.path.toArray(),version:Fp(t.version)}}return r}function Mp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jp(e){var t=new dc(e.seconds,e.nanoseconds);return pc.fromTimestamp(t)}function Vp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Pd(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Pd(e.Jt,t)})),u=dc.fromMillis(t.localWriteTimeMs);return new Ap(t.batchId,u,n,o)}function qp(e){var t,n,r=jp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?jp(e.lastLimboFreeSnapshotVersion):pc.min();return void 0!==e.query.documents?(Ql(1===(n=e.query).documents.length),t=Qf(Bf(Sd(n.documents[0])))):t=function(e){return Qf(Od(e))}(e.query),new Rp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xc.fromBase64String(e.resumeToken))}function Bp(e,t){var n,r=Fp(t.snapshotVersion),i=Fp(t.lastLimboFreeSnapshotVersion);n=wf(t.target)?Dd(e.Jt,t.target):Rd(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:kf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Up(e){var t=Od({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$f(t,t.limit,"L"):t}function zp(e,t){return new Dp(t.largestBatchId,Pd(e.Jt,t.overlayMutation))}function Wp(e,t){var n=t.path.lastSegment();return[e,Wd(t.path.popLast()),n]}var Kp=function(){function e(){r(this,e)}return a(e,[{key:"getBundleMetadata",value:function(e,t){return Hp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:jp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Hp(e).put({bundleId:(n=t).id,createTime:Fp(gd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Gp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Up(t.bundledQuery),readTime:jp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Gp(e).put(function(e){return{name:e.name,readTime:Fp(gd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Hp(e){return Np(e,"bundles")}function Gp(e){return Np(e,"namedQueries")}var Qp=function(){function e(t,n){r(this,e),this.M=t,this.userId=n}return a(e,[{key:"getOverlay",value:function(e,t){var n=this;return $p(e).get(Wp(this.userId,t)).next((function(e){return e?zp(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Dp(t,a);i.push(r.Xt(e,o))})),gp.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Wd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($p(e).Qt("collectionPathOverlayIndex",i))})),gp.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Zh(),a=Wd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $p(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=vr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=zp(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Zh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $p(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=zp(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return $p(e).put(function(e,t,n){var r=Wp(t,n.mutation.key),i=(0,Fe.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ad(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $p(e){return Np(e,"documentOverlays")}var Yp=function(){function e(){r(this,e)}return a(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Cc(e.integerValue));else if("doubleValue"in e){var n=Cc(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Oc(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Tc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Jc(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Gl()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Mc.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Zp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Xp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Zp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Yp.fe=new Yp;var Jp=function(){function e(){r(this,e),this.buffer=new Uint8Array(1024),this.position=0}return a(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=vr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=vr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Xp(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Xp(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ev=function(){function e(t){r(this,e),this.De=t}return a(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),tv=function(){function e(t){r(this,e),this.De=t}return a(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),nv=function(){function e(){r(this,e),this.De=new Jp,this.Ce=new ev(this.De),this.xe=new tv(this.De)}return a(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),rv=function(){function e(t,n,i,a){r(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=i,this.directionalValue=a}return a(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function iv(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=av(e.arrayValue,t.arrayValue))?n:0!==(n=av(e.directionalValue,t.directionalValue))?n:Mc.comparator(e.documentKey,t.documentKey)}function av(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ov=function(){function e(t){r(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,i=vr(t.filters);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.S()?this.Fe=a:this.Oe.push(a)}}catch(o){i.e(o)}finally{i.f()}}return a(e,[{key:"$e",value:function(e){var t=lf(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=cf(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=vr(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),uv=function(){function e(){r(this,e),this.qe=new sv}return a(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),gp.resolve()}},{key:"getCollectionParents",value:function(e,t){return gp.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return gp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return gp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return gp.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return gp.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return gp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return gp.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return gp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return gp.resolve()}}]),e}(),sv=function(){function e(){r(this,e),this.index={}}return a(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wh(kc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Wh(kc.comparator)).toArray()}}]),e}(),lv=new Uint8Array(0),cv=function(){function e(t,n){r(this,e),this.user=t,this.databaseId=n,this.Ke=new sv,this.Ge=new qh((function(e){return kf(e)}),(function(e,t){return bf(e,t)})),this.uid=t.uid||""}return a(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Wd(i)};return fv(e).put(a)}return gp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[hc(t),""],!1,!0);return fv(e).qt(r).next((function(e){var r,i=vr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Gd(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=dv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=dv(e),r=pv(e),i=hv(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hv(e),i=!0,a=new Map;return gp.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ed(),o=[];return gp.forEach(a,(function(i,a){var u;zl("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(kf(t)));var s=function(e,t){var n=lf(t);if(void 0===n)return null;var r,i=vr(_f(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=vr(cf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=vr(_f(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(l){u.e(l)}finally{u.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=vr(cf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?xf(e,o.fieldPath,e.startAt):Sf(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Of(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=vr(cf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Sf(e,o.fieldPath,e.endAt):xf(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Of(r,i)}(a,i),h=n.je(i,a,c),d=n.je(i,a,f),p=n.We(i,a,l),v=n.ze(i.indexId,s,h,!!c&&c.inclusive,d,!!f&&f.inclusive,p);return gp.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Mc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return gp.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),l=s/(null!=t?t.length:1),c=[],f=function(s){var f=t?u.He(t[s/l]):lv,h=n?u.Je(e,f,n[s%l],r):u.Ye(e),d=i?u.Xe(e,f,i[s%l],a):u.Ye(e+1);c.push.apply(c,(0,di.Z)(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return c}},{key:"Je",value:function(e,t,n,r){var i=new rv(e,Mc.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new rv(e,Mc.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new rv(e,Mc.empty(),lv,lv)}},{key:"getFieldIndex",value:function(e,t){var n=new ov(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new nv,i=vr(cf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Yp.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new nv;return Yp.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new nv;return Yp.fe.Zt(Hc(this.databaseId,t),n.Ne(function(e){var t=cf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new nv);var i,a=0,o=vr(cf(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,l=n[a++],c=vr(r);try{for(c.s();!(u=c.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Qc(l))r=this.nn(r,s,l);else{var h=f.Ne(s.kind);Yp.fe.Zt(l,h)}}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=(0,di.Z)(e),a=[],o=vr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,l=vr(i);try{for(l.s();!(u=l.n()).done;){var c=u.value,f=new nv;f.seed(c.Se()),Yp.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ef&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=dv(e),i=pv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return gp.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new hf(t.sequenceNumber,new vf(jp(t.readTime),new Mc(Gd(t.documentKey)),t.largestBatchId)):hf.empty(),r=e.fields.map((function(e){var t=(0,Fe.Z)(e,2),n=t[0],r=t[1];return new ff(wc.fromServerFormat(n),r)}));return new sf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:cc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=dv(e),a=pv(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return gp.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fp(r.readTime),documentKey:Wd(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return gp.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?gp.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),gp.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?gp.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return hv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return hv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=hv(e),i=new Wh(iv);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new rv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Wh(iv),r=this.Ze(t,e);if(null==r)return n;var i=lf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Qc(a)){var o,u=vr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new rv(t.indexId,e.key,this.He(s),r))}}catch(l){u.e(l)}finally{u.f()}}}else n=n.add(new rv(t.indexId,e.key,lv,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;zl("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Hh(a),s=Hh(o);u||s;){var l=!1,c=!1;if(u&&s){var f=n(u,s);f<0?c=!0:f>0&&(l=!0)}else null!=u?c=!0:l=!0;l?(r(s),s=Hh(o)):c?(i(u),u=Hh(a)):(u=Hh(a),s=Hh(o))}}(r,i,iv,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),gp.waitFor(o)}},{key:"rn",value:function(e){var t=1;return pv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return iv(e,t)})).filter((function(e,t,n){return!t||0!==iv(e,n[t-1])}));var r=[];r.push(e);var i,a=vr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=iv(o,e),s=iv(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var l=[],c=0;c<r.length;c+=2)l.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,lv,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,lv,[]]));return l}}]),e}();function fv(e){return Np(e,"collectionParents")}function hv(e){return Np(e,"indexEntries")}function dv(e){return Np(e,"indexConfiguration")}function pv(e){return Np(e,"indexState")}var vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yv=function(){function e(t,n,i){r(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return a(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function mv(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ql(1===u)})));var l,c=[],f=vr(n.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=Yd(t,h.key.path,n.batchId);a.push(i.delete(d)),c.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return gp.waitFor(a).next((function(){return c}))}function gv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Gl();t=e.noDocument}return JSON.stringify(t).length}yv.DEFAULT_COLLECTION_PERCENTILE=10,yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yv.DEFAULT=new yv(41943040,yv.DEFAULT_COLLECTION_PERCENTILE,yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yv.DISABLED=new yv(-1,0,0);var kv=function(){function e(t,n,i,a){r(this,e),this.userId=t,this.M=n,this.indexManager=i,this.referenceDelegate=a,this.ln={}}return a(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wv(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=_v(e),o=wv(e);return o.add({}).next((function(u){Ql("number"==typeof u);var s,l=new Ap(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ad(e.Jt,t)})),i=n.mutations.map((function(t){return Ad(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,l),f=[],h=new Wh((function(e,t){return cc(e.canonicalString(),t.canonicalString())})),d=vr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Yd(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(c)),f.push(a.put(v,Zd))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=l.keys()})),gp.waitFor(f).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return wv(e).get(t).next((function(e){return e?(Ql(e.userId===n.userId),Vp(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?gp.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return wv(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ql(t.batchId>=r),a=Vp(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wv(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wv(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Vp(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$d(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return _v(e).Wt({range:i},(function(r,i,o){var u=(0,Fe.Z)(r,3),s=u[0],l=u[1],c=u[2],f=Gd(l);if(s===n.userId&&t.path.isEqual(f))return wv(e).get(c).next((function(e){if(!e)throw Gl();Ql(e.userId===n.userId),a.push(Vp(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wh(cc),i=[];return t.forEach((function(t){var a=$d(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=_v(e).Wt({range:o},(function(e,i,a){var o=(0,Fe.Z)(e,3),u=o[0],s=o[1],l=o[2],c=Gd(s);u===n.userId&&t.path.isEqual(c)?r=r.add(l):a.done()}));i.push(u)})),gp.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$d(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Wh(cc);return _v(e).Wt({range:o},(function(e,t,a){var o=(0,Fe.Z)(e,3),s=o[0],l=o[1],c=o[2],f=Gd(l);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(c)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(wv(e).get(t).next((function(e){if(null===e)throw Gl();Ql(e.userId===n.userId),r.push(Vp(n.M,e))})))})),gp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return mv(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),gp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return gp.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return _v(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Gd(e[1]);i.push(a)}else r.done()})).next((function(){Ql(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bv(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return xv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Ql(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bv(e,t,n){var r=$d(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return _v(e).Wt({range:a,jt:!0},(function(e,n,r){var a=(0,Fe.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function wv(e){return Np(e,"mutations")}function _v(e){return Np(e,"documentMutations")}function xv(e){return Np(e,"mutationQueues")}var Sv=function(){function e(t){r(this,e),this.mn=t}return a(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Ev=function(){function e(t,n){r(this,e),this.referenceDelegate=t,this.M=n}return a(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Sv(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return pc.fromTimestamp(new dc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Cv(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Ql(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Cv(e).Wt((function(o,u){var s=qp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return gp.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Cv(e).Wt((function(e,n){var r=qp(n);t(r)}))}},{key:"pn",value:function(e){return Tv(e).get("targetGlobalKey").next((function(e){return Ql(null!==e),e}))}},{key:"In",value:function(e,t){return Tv(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Cv(e).put(Bp(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=kf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Cv(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=qp(n);bf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Iv(e);return t.forEach((function(t){var o=Wd(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),gp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Iv(e);return gp.forEach(t,(function(t){var a=Wd(t.path);return gp.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Iv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Iv(e),i=ed();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Gd(e[1]),a=new Mc(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Wd(t.path),r=IDBKeyRange.bound([n],[hc(n)],!1,!0),i=0;return Iv(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=(0,Fe.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Cv(e).get(t).next((function(e){return e?qp(e):null}))}}]),e}();function Cv(e){return Np(e,"targets")}function Tv(e){return Np(e,"targetGlobal")}function Iv(e){return Np(e,"targetDocuments")}function Nv(e){return Av.apply(this,arguments)}function Av(){return Av=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Yl.FAILED_PRECONDITION&&t.message===yp){e.next=2;break}throw t;case 2:zl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Av.apply(this,arguments)}function Pv(e,t){var n=(0,Fe.Z)(e,2),r=n[0],i=n[1],a=(0,Fe.Z)(t,2),o=a[0],u=a[1],s=cc(r,o);return 0===s?cc(i,u):s}var Dv=function(){function e(t){r(this,e),this.An=t,this.buffer=new Wh(Pv),this.Rn=0}return a(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Pv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Rv=function(){function e(t,n){r(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return a(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;zl("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Jt(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!xp(n.t0)){n.next=12;break}zl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Nv(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ov=function(){function e(t,n){r(this,e),this.Dn=t,this.params=n}return a(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return gp.resolve(uc.A);var r=new Dv(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(zl("LruGarbageCollector","Garbage collection skipped; disabled"),gp.resolve(vv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(zl("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vv):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(zl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ul()<=gi.DEBUG&&zl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-c,"ms")),gp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Lv=function(){function e(t,n){r(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ov(e,t)}(this,n)}return a(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Mv(e,n)}},{key:"removeReference",value:function(e,t,n){return Mv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Mv(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return xv(e).zt((function(r){return bv(e,r,t).next((function(e){return e&&(n=!0),gp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,pc.min()),Iv(e).delete([0,Wd(o.path)])}))}));i.push(s)}})).next((function(){return gp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Mv(e,t)}},{key:"Mn",value:function(e,t){var n,r=Iv(e),i=uc.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=(0,Fe.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==uc.A&&t(new Mc(Gd(n)),i),i=s,n=u):i=uc.A})).next((function(){i!==uc.A&&t(new Mc(Gd(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Mv(e,t){return Iv(e).put(function(e,t){return{targetId:0,path:Wd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Fv=function(){function e(){r(this,e),this.changes=new qh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return a(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,uf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?gp.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jv=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Bv(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Bv(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Mp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=uf.newInvalidDocument(t);return Bv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Uv(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:uf.newInvalidDocument(t)};return Bv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Uv(t))},(function(e,i){r={document:n.$n(t,i),size:gv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qh();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Qh(),i=new Bh(Mc.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,gv(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return gp.resolve();var r=new Wh(Wv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Uv(r.first()),Uv(r.last())),a=r.getIterator(),o=a.getNext();return Bv(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Mc.fromSegments([].concat((0,di.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Wv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Uv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Mp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bv(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Qh(),i=vr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Mc.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Qh(),o=zv(t,n),u=zv(t,vf.max());return Bv(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(Mc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Vv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return qv(e).get("remoteDocumentGlobalKey").next((function(e){return Ql(!!e),e}))}},{key:"Fn",value:function(e,t){return qv(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Id(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Mc.fromSegments(t.noDocument.path),i=jp(t.noDocument.readTime);n=uf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Gl();var a=Mc.fromSegments(t.unknownDocument.path),o=jp(t.unknownDocument.version);n=uf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new dc(e[0],e[1]);return pc.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(pc.min()))return n}return uf.newInvalidDocument(e)}}]),e}(),Vv=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).Kn=e,a.trackRemovals=i,a.Gn=new qh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),a}return a(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Wh((function(e,t){return cc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Lp(t.Kn.M,o);i=i.add(a.path.popLast());var l=gv(s);r+=l-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var c=Lp(t.Kn.M,o.convertToNoDocument(pc.min()));n.push(t.Kn.addEntry(e,a,c))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),gp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Fv);function qv(e){return Np(e,"remoteDocumentGlobal")}function Bv(e){return Np(e,"remoteDocumentsV14")}function Uv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zv(e,t){var n=t.documentKey.path.toArray();return[e,Mp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Wv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=cc(n[a],r[a]))return i;return(i=cc(n.length,r.length))||((i=cc(n[n.length-2],r[r.length-2]))||cc(n[n.length-1],r[r.length-1]))}var Kv=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new kp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Hv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=gp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Hv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return gp.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:lp});t.createIndex("collectionPathOverlayIndex",cp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",fp,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Xd});t.createIndex("documentKeyIndex",Jd),t.createIndex("collectionGroupIndex",ep)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ap}).createIndex("sequenceNumberIndex",op,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:up}).createIndex("documentKeyIndex",sp,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=gv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return gp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return gp.forEach(r,(function(r){Ql(r.userId===n.userId);var i=Vp(t.M,r);return mv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new kc(n),o=function(e){return[0,Wd(e)]}(a);r.push(t.get(o).next((function(n){return n?gp.resolve():function(n){return t.put({targetId:0,path:Wd(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return gp.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ip});var n=t.store("collectionParents"),r=new sv,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Wd(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new kc(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=(0,Fe.Z)(e,3),r=(n[0],n[1]),a=(n[2],Gd(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=qp(r),a=Bp(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Mc(kc.fromString(i.document.name).popFirst(5)):i.noDocument?Mc.fromSegments(i.noDocument.path):i.unknownDocument?Mc.fromSegments(i.unknownDocument.path):Gl()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return gp.waitFor(r)}))}}]),e}();function Hv(e){e.createObjectStore("targetDocuments",{keyPath:np}).createIndex("documentTargetsIndex",rp,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tp,{unique:!0}),e.createObjectStore("targetGlobal")}var Gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qv=function(){function e(t,n,i,a,o,u,s,l,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(r(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Yn=o,this.window=u,this.document=s,this.Xn=c,this.Zn=f,this.ts=h,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Zl(Yl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lv(this,a),this.hs=n+"main",this.M=new Op(l),this.ls=new bp(this.hs,this.ts,new Kv(this.M)),this.fs=new Ev(this.referenceDelegate,this.M),this.ds=function(e){return new jv(e)}(this.M),this._s=new Kp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===f&&Wl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Zl(Yl.FAILED_PRECONDITION,Gv);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new uc(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Jt(tn().mark((function n(r){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Jt(tn().mark((function t(n){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Yv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(xp(t))return zl("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return zl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return $v(e).get("owner").next((function(e){return gp.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return Yv(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Jt(tn().mark((function e(){var t,n,r,i,a=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Np(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return gp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=vr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?gp.resolve(!0):$v(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Zl(Yl.FAILED_PRECONDITION,Gv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Yv(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&zl("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Jt(tn().mark((function e(){var t=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ip(e,uc.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Yv(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return kv.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new cv(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Qp.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;zl("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?vp:13===i?pp:12===i?dp:11===i?hp:void Gl();return this.ls.runTransaction(e,o,u,(function(i){return a=new Ip(i,r.es?r.es.next():uc.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Wl("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Zl(Yl.FAILED_PRECONDITION,yp);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return $v(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Zl(Yl.FAILED_PRECONDITION,Gv)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $v(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=$v(e);return n.get("owner").next((function(e){return t.bs(e)?(zl("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):gp.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Wl("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),Mr()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return zl("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Wl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(ja){Wl("Failed to set zombie client id.",ja)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(ja){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return bp.vt()}}]),e}();function $v(e){return Np(e,"owner")}function Yv(e){return Np(e,"clientMetadata")}function Zv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Xv=function(){function e(t,n,i){r(this,e),this.ds=t,this.Bs=n,this.indexManager=i}return a(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=vr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=vr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Mc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Hf(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Mc(t)).next((function(e){var t=Yh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yh();return this.indexManager.getCollectionParents(e,i).next((function(o){return gp.forEach(o,(function(o){var u=function(e,t){return new Vf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=vr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=vr(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,l=r.get(s);null==l&&(l=uf.newInvalidDocument(s),r=r.insert(s,l)),Sh(u,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(s))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Jf(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Jv=function(){function e(t,n,i,a){r(this,e),this.targetId=t,this.fromCache=n,this.Hs=i,this.Js=a}return a(e,null,[{key:"Ys",value:function(t,n){var r,i=ed(),a=ed(),o=vr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ey=function(){function e(){r(this,e)}return a(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(pc.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Uf(t)||zf(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Ul()<=gi.DEBUG&&zl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xf(t)),i.Zs.Qs(e,t,df(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Wh(th(e));return t.forEach((function(t,r){Jf(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Ul()<=gi.DEBUG&&zl("QueryEngine","Using full collection scan to execute query:",Xf(t)),this.Zs.Qs(e,t,vf.min())}}]),e}(),ty=function(){function e(t,n,i,a){r(this,e),this.persistence=t,this.si=n,this.M=a,this.ii=new Bh(cc),this.ri=new qh((function(e){return kf(e)}),bf),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(i)}return a(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Xv(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function ny(e,t,n,r){return new ty(e,t,n,r)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=Jt(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ed(),s=vr(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=vr(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=vr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=vr(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e,t){var n=$l(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=gp.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ql(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function oy(e){var t=$l(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function uy(e,t){var n=$l(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(xc.EMPTY_BYTE_STRING,pc.min()).withLastLimboFreeSnapshotVersion(pc.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.fs.updateTargetData(e,l))}}));var u=Qh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sy(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(pc.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return gp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function sy(e,t,n){var r=ed();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(pc.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):zl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ly(e,t){var n=$l(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function cy(e,t){var n=$l(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,gp.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Rp(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function fy(e,t,n){return hy.apply(this,arguments)}function hy(){return hy=Jt(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$l(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),xp(e.t1)){e.next=12;break}throw e.t1;case 12:zl("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),hy.apply(this,arguments)}function dy(e,t,n){var r=$l(e),i=pc.min(),a=ed();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=$l(e),i=r.ri.get(n);return void 0!==i?gp.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Qf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:pc.min(),n?a:ed())})).next((function(e){return yy(r,eh(t),e),{documents:e,li:a}}))}))}function py(e,t){var n=$l(e),r=$l(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function vy(e,t){var n=$l(e),r=n.oi.get(t)||pc.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,df(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return yy(n,t,e),e}))}function yy(e,t,n){var r=pc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function my(e,t,n,r){return gy.apply(this,arguments)}function gy(){return gy=Jt(tn().mark((function e(t,n,r,i){var a,o,u,s,l,c,f,h,d,p;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=$l(t),o=ed(),u=Qh(),s=vr(r);try{for(s.s();!(l=s.n()).done;)c=l.value,f=n.fi(c.metadata.name),c.document&&(o=o.add(f)),(h=n.di(c)).setReadTime(n._i(c.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,cy(a,function(e){return Qf(Bf(kc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return sy(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t){return by.apply(this,arguments)}function by(){return by=Jt(tn().mark((function e(t,n){var r,i,a,o=arguments;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ed(),e.next=3,cy(t,Qf(Up(n.bundledQuery)));case 3:return i=e.sent,a=$l(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=gd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(xc.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}var wy=function(){function e(t){r(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return a(e,[{key:"getBundleMetadata",value:function(e,t){return gp.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:gd(n.createTime)}),gp.resolve()}},{key:"getNamedQuery",value:function(e,t){return gp.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Up(e.bundledQuery),readTime:gd(e.readTime)}}(t)),gp.resolve()}}]),e}(),_y=function(){function e(){r(this,e),this.overlays=new Bh(Mc.comparator),this.gi=new Map}return a(e,[{key:"getOverlay",value:function(e,t){return gp.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),gp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),gp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Zh(),i=t.length+1,a=new Mc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return gp.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Zh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Zh(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return gp.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Dp(t,n));var a=this.gi.get(t);void 0===a&&(a=ed(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),xy=function(){function e(){r(this,e),this.yi=new Wh(Sy.pi),this.Ii=new Wh(Sy.Ti)}return a(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Sy(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Sy(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new Mc(new kc([])),r=new Sy(n,e),i=new Sy(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new Mc(new kc([])),n=new Sy(t,e),r=new Sy(t,e+1),i=ed();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Sy(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Sy=function(){function e(t,n){r(this,e),this.key=t,this.vi=n}return a(e,null,[{key:"pi",value:function(e,t){return Mc.comparator(e.key,t.key)||cc(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return cc(e.vi,t.vi)||Mc.comparator(e.key,t.key)}}]),e}(),Ey=function(){function e(t,n){r(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Wh(Sy.pi)}return a(e,[{key:"checkEmpty",value:function(e){return gp.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Ap(i,t,n,r);this.Bs.push(a);var o,u=vr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new Sy(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return gp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return gp.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return gp.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return gp.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return gp.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Sy(t,0),i=new Sy(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),gp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wh(cc);return t.forEach((function(e){var t=new Sy(e,0),i=new Sy(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),gp.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Mc.isDocumentKey(i)||(i=i.child(""));var a=new Sy(new Mc(i),0),o=new Wh(cc);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),gp.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ql(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return gp.forEach(t.mutations,(function(i){var a=new Sy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Sy(t,0),r=this.Di.firstAfterOrEqual(n);return gp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,gp.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Cy=function(){function e(t){r(this,e),this.Mi=t,this.docs=new Bh(Mc.comparator),this.size=0}return a(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return gp.resolve(n?n.document.mutableCopy():uf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():uf.newInvalidDocument(e))})),gp.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Qh(),i=new Mc(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||yf(pf(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return gp.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Gl()}},{key:"Oi",value:function(e,t){return gp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ty(this)}},{key:"getSize",value:function(e){return gp.resolve(this.size)}}]),e}(),Ty=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).Kn=e,i}return a(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),gp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Fv),Iy=function(){function e(t){r(this,e),this.persistence=t,this.Fi=new qh((function(e){return kf(e)}),bf),this.lastRemoteSnapshotVersion=pc.min(),this.highestTargetId=0,this.$i=0,this.Bi=new xy,this.targetCount=0,this.Li=Sv.gn()}return a(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),gp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return gp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return gp.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),gp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),gp.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new Sv(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,gp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),gp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,gp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),gp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return gp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return gp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),gp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),gp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),gp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return gp.resolve(n)}},{key:"containsKey",value:function(e,t){return gp.resolve(this.Bi.containsKey(t))}}]),e}(),Ny=function(){function e(t,n){var i=this;r(this,e),this.Ui={},this.overlays={},this.es=new uc(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Iy(this),this.indexManager=new uv,this.ds=new Cy((function(e){return i.referenceDelegate.qi(e)})),this.M=new Op(n),this._s=new wy(this.M)}return a(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _y,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new Ey(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;zl("MemoryPersistence","Starting transaction:",e);var i=new Ay(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return gp.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ay=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).currentSequenceNumber=e,i}return a(n)}(mp),Py=function(){function e(t){r(this,e),this.persistence=t,this.ji=new xy,this.Wi=null}return a(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw Gl()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),gp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),gp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),gp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gp.forEach(this.Hi,(function(r){var i=Mc.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,pc.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return gp.or([function(){return gp.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function Dy(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ry(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Oy(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ly=function(){function e(t,n,i,a){r(this,e),this.user=t,this.batchId=n,this.state=i,this.error=a}return a(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Zl(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Wl("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),My=function(){function e(t,n,i){r(this,e),this.targetId=t,this.state=n,this.error=i}return a(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Zl(i.error.code,i.error.message))),a?new e(t,i.state,r):(Wl("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Fy=function(){function e(t,n){r(this,e),this.clientId=t,this.activeTargetIds=n}return a(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=nd(),o=0;i&&o<r.activeTargetIds.length;++o)i=Lc(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Wl("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),jy=function(){function e(t,n){r(this,e),this.clientId=t,this.onlineState=n}return a(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Wl("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Vy=function(){function e(){r(this,e),this.activeTargetIds=nd()}return a(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),qy=function(){function e(t,n,i,a,o){r(this,e),this.window=t,this.Yn=n,this.persistenceKey=i,this.er=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Bh(cc),this.started=!1,this.rr=[];var u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ur=Dy(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new Vy),this.cr=new RegExp("^firestore_clients_".concat(u,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(u,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(u,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return a(e,[{key:"start",value:function(){var e=Jt(tn().mark((function e(){var t,n,r,i,a,o,u,s,l,c,f,h=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=vr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Dy(this.persistenceKey,i)))&&(o=Fy.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),l=vr(this.rr);try{for(l.s();!(c=l.n()).done;)f=c.value,this.sr(f)}catch(d){l.e(d)}finally{l.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Oy(this.persistenceKey,e));if(n){var r=My.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Oy(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return zl("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){zl("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){zl("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(zl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Wl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Jt(tn().mark((function e(){var r,i,a,o,u,s,l;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=uc.A;if(null!=e)try{var n=JSON.parse(e);Ql("number"==typeof n),t=n}catch(e){Wl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==uc.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return l=t.Nr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new Ly(this.currentUser,e,t,n),i=Ry(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=Ry(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=Oy(this.persistenceKey,e),i=new My(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return Fy.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ly.Yi(new Vl(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return My.Yi(r,t)}},{key:"mr",value:function(e){return jy.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:zl("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=nd();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),By=function(){function e(){r(this,e),this.$r=new Vy,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Vy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Uy=function(){function e(){r(this,e)}return a(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zy=function(){function e(){var t=this;r(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return a(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){zl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=vr(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){zl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=vr(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Wy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ky=function(){function e(t){r(this,e),this.Wr=t.Wr,this.zr=t.zr}return a(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),Hy=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).forceLongPolling=e.forceLongPolling,i.autoDetectLongPolling=e.autoDetectLongPolling,i.useFetchStreams=e.useFetchStreams,i}return a(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Fl;o.listenOnce(Dl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Pl.NO_ERROR:var t=o.getResponseJson();zl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Pl.TIMEOUT:zl("Connection",'RPC "'+e+'" timed out'),a(new Zl(Yl.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:var n=o.getStatus();if(zl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yl).indexOf(t)>=0?t:Yl.UNKNOWN}(r.status);a(new Zl(u,r.message))}else a(new Zl(Yl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Zl(Yl.UNAVAILABLE,"Connection failed."));break;default:Gl()}}finally{zl("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Nl(),a=Al(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ll({})),this.ao(o.initMessageHeaders,t,n),Rr()||Or()||Dr().indexOf("Electron/")>=0||function(){var e=Dr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Dr().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");zl("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,f=new Ky({Wr:function(e){c?zl("Connection","Not sending because WebChannel is closed:",e):(l||(zl("Connection","Opening WebChannel transport."),s.open(),l=!0),zl("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ml.EventType.OPEN,(function(){c||zl("Connection","WebChannel transport opened.")})),h(s,Ml.EventType.CLOSE,(function(){c||(c=!0,zl("Connection","WebChannel transport closed"),f.no())})),h(s,Ml.EventType.ERROR,(function(e){c||(c=!0,Kl("Connection","WebChannel transport errored:",e),f.no(new Zl(Yl.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ml.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Ql(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){zl("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Rh[e];if(void 0!==t)return Vh(t)}(a),u=i.message;void 0===o&&(o=Yl.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,f.no(new Zl(o,u)),s.close()}else zl("Connection","WebChannel received:",n),f.so(n)}})),h(a,Rl.STAT_EVENT,(function(e){e.stat===Ol.PROXY?zl("Connection","Detected buffering proxy"):e.stat===Ol.NOPROXY&&zl("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){r(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);zl("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return zl("RestConnection","Received: ",e),e}),(function(t){throw Kl("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ql,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Wy[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Gy(){return"undefined"!=typeof window?window:null}function Qy(){return"undefined"!=typeof document?document:null}function $y(e){return new pd(e,!0)}var Yy=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;r(this,e),this.Yn=t,this.timerId=n,this.fo=i,this._o=a,this.wo=o,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return a(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&zl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),Zy=function(){function e(t,n,i,a,o,u,s,l){r(this,e),this.Yn=t,this.Ro=i,this.Po=a,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Yy(t,n)}return a(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=Jt(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===Yl.RESOURCE_EXHAUSTED?(Wl(n.toString()),Wl("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Yl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,Fe.Z)(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Zl(Yl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(Jt(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return zl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(zl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xy=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var l;return r(this,n),(l=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,s)).M=u,l}return a(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Ql(void 0===t||"string"==typeof t),xc.fromBase64String(t||"")):(Ql(void 0===t||t instanceof Uint8Array),xc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Yl.UNKNOWN:Vh(e.code);return new Zl(t,e.message||"")}(o);n=new ud(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=_d(e,s.document.name),c=gd(s.document.updateTime),f=new af({mapValue:{fields:s.document.fields}}),h=uf.newFoundDocument(l,c,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new ad(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=_d(e,v.document),m=v.readTime?gd(v.readTime):pc.min(),g=uf.newNoDocument(y,m),k=v.removedTargetIds||[];n=new ad([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=_d(e,b.document),_=b.removedTargetIds||[];n=new ad([],_,w,null)}else{if(!("filter"in t))return Gl();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new Fh(S),C=x.targetId;n=new od(C,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return pc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?pc.min():t.readTime?gd(t.readTime):pc.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Ed(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=wf(r)?{documents:Dd(e,r)}:{query:Rd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yd(e,t.resumeToken):t.snapshotVersion.compareTo(pc.min())>0&&(n.readTime=vd(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Ed(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(Zy),Jy=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var l;return r(this,n),(l=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,s)).M=u,l.zo=!1,l}return a(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,xa(s(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Ql(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Ql(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?gd(e.updateTime):gd(t);return n.isEqual(pc.min())&&(n=gd(t)),new kh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=gd(e.commitTime);return this.listener.Yo(n,t)}return Ql(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=Ed(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ad(t.M,e)}))};this.Fo(n)}}]),n}(Zy),em=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u;return r(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=i,u.bo=a,u.M=o,u.tu=!1,u}return a(n,[{key:"eu",value:function(){if(this.tu)throw new Zl(Yl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Fe.Z)(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Yl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Zl(Yl.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,Fe.Z)(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Yl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Zl(Yl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return a((function e(){r(this,e)}))}()),tm=function(){function e(t,n){r(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return a(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Wl(t),this.iu=!1):zl("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),nm=a((function e(t,n,i,a,o){var u=this;r(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=o,this._u.Lr((function(e){i.enqueueAndForget(Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=dm(u),!e.t0){e.next=5;break}return zl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Jt(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$l(t)).fu.add(4),e.next=4,am(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,rm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new tm(i,a)}));function rm(e){return im.apply(this,arguments)}function im(){return im=Jt(tn().mark((function e(t){var n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dm(t)){e.next=18;break}n=vr(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),im.apply(this,arguments)}function am(e){return om.apply(this,arguments)}function om(){return om=Jt(tn().mark((function e(t){var n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vr(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),om.apply(this,arguments)}function um(e,t){var n=$l(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),hm(n)?fm(n):Um(n).xo()&&lm(n,t))}function sm(e,t){var n=$l(e),r=Um(n);n.lu.delete(t),r.xo()&&cm(n,t),0===n.lu.size&&(r.xo()?r.Mo():dm(n)&&n.wu.set("Unknown"))}function lm(e,t){e.mu.Z(t.targetId),Um(e).jo(t)}function cm(e,t){e.mu.Z(t),Um(e).Wo(t)}function fm(e){e.mu=new ld({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),Um(e).start(),e.wu.ru()}function hm(e){return dm(e)&&!Um(e).Co()&&e.lu.size>0}function dm(e){return 0===$l(e).fu.size}function pm(e){e.mu=void 0}function vm(e){return ym.apply(this,arguments)}function ym(){return ym=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){lm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function mm(e,t){return gm.apply(this,arguments)}function gm(){return gm=Jt(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pm(t),hm(t)?(t.wu.au(n),fm(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function km(e,t,n){return bm.apply(this,arguments)}function bm(){return bm=Jt(tn().mark((function e(t,n,r){var i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof ud&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Jt(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=vr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),zl("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,wm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ad?t.mu.ut(n):n instanceof od?t.mu._t(n):t.mu.ht(n),r.isEqual(pc.min())){e.next=29;break}return e.prev=14,e.next=17,oy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(xc.EMPTY_BYTE_STRING,n.snapshotVersion)),cm(e,t);var r=new Rp(n.target,t,1,n.sequenceNumber);lm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),zl("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,wm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),bm.apply(this,arguments)}function wm(e,t,n){return _m.apply(this,arguments)}function _m(){return _m=Jt(tn().mark((function e(t,n,r){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xp(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,am(t);case 5:t.wu.set("Offline"),r||(r=function(){return oy(t.localStore)}),t.asyncQueue.enqueueRetryable(Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zl("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,rm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function xm(e,t){return t().catch((function(n){return wm(e,n,t)}))}function Sm(e){return Em.apply(this,arguments)}function Em(){return Em=Jt(tn().mark((function e(t){var n,r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$l(t),r=zm(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!Cm(n)){e.next=19;break}return e.prev=3,e.next=6,ly(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,Tm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,wm(n,e.t0);case 17:e.next=2;break;case 19:Im(n)&&Nm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Em.apply(this,arguments)}function Cm(e){return dm(e)&&e.hu.length<10}function Tm(e,t){e.hu.push(t);var n=zm(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function Im(e){return dm(e)&&!zm(e).Co()&&e.hu.length>0}function Nm(e){zm(e).start()}function Am(e){return Pm.apply(this,arguments)}function Pm(){return Pm=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zm(t).Zo();case 1:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function Dm(e){return Rm.apply(this,arguments)}function Rm(){return Rm=Jt(tn().mark((function e(t){var n,r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zm(t),r=vr(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Om(e,t,n){return Lm.apply(this,arguments)}function Lm(){return Lm=Jt(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=Pp.from(i,n,r),e.next=3,xm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Sm(t);case 5:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Mm(e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=Jt(tn().mark((function e(t,n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zm(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=Jt(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jh(i=n.code)||i===Yl.ABORTED){e.next=7;break}return r=t.hu.shift(),zm(t).ko(),e.next=5,xm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Sm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Im(t)&&Nm(t);case 5:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function jm(e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=Jt(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=$l(t)).asyncQueue.verifyOperationInProgress(),zl("RemoteStore","RemoteStore received new credentials"),i=dm(r),r.fu.add(3),e.next=6,am(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,rm(r);case 12:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function qm(e,t){return Bm.apply(this,arguments)}function Bm(){return Bm=Jt(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$l(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,rm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,am(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Bm.apply(this,arguments)}function Um(e){return e.gu||(e.gu=function(e,t,n){var r=$l(e);return r.eu(),new Xy(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:vm.bind(null,e),Yr:mm.bind(null,e),Qo:km.bind(null,e)}),e.du.push(function(){var t=Jt(tn().mark((function t(n){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),hm(e)?fm(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:pm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function zm(e){return e.yu||(e.yu=function(e,t,n){var r=$l(e);return r.eu(),new Jy(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Am.bind(null,e),Yr:Mm.bind(null,e),Xo:Dm.bind(null,e),Yo:Om.bind(null,e)}),e.du.push(function(){var t=Jt(tn().mark((function t(n){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,Sm(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(zl("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var Wm=function(){function e(t,n,i,a,o){r(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Xl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return a(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zl(Yl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Km(e,t){if(Wl("AsyncQueue","".concat(t,": ").concat(e)),xp(e))return new Zl(Yl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Hm=function(){function e(t){r(this,e),this.comparator=t?function(e,n){return t(e,n)||Mc.comparator(e.key,n.key)}:function(e,t){return Mc.comparator(e.key,t.key)},this.keyedMap=Yh(),this.sortedSet=new Bh(this.comparator)}return a(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Gm=function(){function e(){r(this,e),this.pu=new Bh(Mc.comparator)}return a(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Gl():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Qm=function(){function e(t,n,i,a,o,u,s,l){r(this,e),this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=l}return a(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Hm.emptySet(n),a,r,i,!0,!1)}}]),e}(),$m=a((function e(){r(this,e),this.Tu=void 0,this.listeners=[]})),Ym=a((function e(){r(this,e),this.queries=new qh((function(e){return Zf(e)}),Yf),this.onlineState="Unknown",this.Eu=new Set}));function Zm(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=Jt(tn().mark((function e(t,n){var r,i,a,o,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$l(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $m),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Km(e.t0,"Initialization of query '".concat(Xf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&rg(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xm.apply(this,arguments)}function Jm(e,t){return eg.apply(this,arguments)}function eg(){return eg=Jt(tn().mark((function e(t,n){var r,i,a,o,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$l(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e,t){var n,r=$l(e),i=!1,a=vr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=vr(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Ru(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&rg(r)}function ng(e,t,n){var r=$l(e),i=r.queries.get(t);if(i){var a,o=vr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function rg(e){e.Eu.forEach((function(e){e.next()}))}var ig=function(){function e(t,n,i){r(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}return a(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=vr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Qm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=Qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),ag=function(){function e(t,n){r(this,e),this.payload=t,this.byteLength=n}return a(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),og=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"fi",value:function(e){return _d(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?Id(this.M,e.document,!1):uf.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return gd(e)}}]),e}(),ug=function(){function e(t,n,i){r(this,e),this.Nu=t,this.localStore=n,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sg(t)}return a(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=kc.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new og(this.M),i=vr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=vr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=(n.get(l)||ed()).add(u);n.set(l,c)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Jt(tn().mark((function e(){var t,n,r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,my(this.localStore,new og(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=vr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ky(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var lg=a((function e(t){r(this,e),this.key=t})),cg=a((function e(t){r(this,e),this.key=t})),fg=function(){function e(t,n){r(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=ed(),this.mutatedKeys=ed(),this.Uu=th(t),this.qu=new Hm(this.Uu)}return a(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new Gm,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Uf(this.query)&&i.size===this.query.limit?i.last():null,l=zf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Jf(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||l&&n.Uu(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Uf(this.query)||zf(this.query))for(;o.size>this.query.limit;){var c=Uf(this.query)?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gl()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new Qm(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Gm,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=ed(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new cg(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new lg(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=ed();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return Qm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),hg=a((function e(t,n,i){r(this,e),this.query=t,this.targetId=n,this.view=i})),dg=a((function e(t){r(this,e),this.key=t,this.Zu=!1})),pg=function(){function e(t,n,i,a,o,u){r(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new qh((function(e){return Zf(e)}),Yf),this.na=new Map,this.sa=new Set,this.ia=new Bh(Mc.comparator),this.ra=new Map,this.oa=new xy,this.ua={},this.aa=new Map,this.ca=Sv.yn(),this.onlineState="Unknown",this.ha=void 0}return a(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function vg(e,t){return yg.apply(this,arguments)}function yg(){return yg=Jt(tn().mark((function e(t,n){var r,i,a,o,u,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sk(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,cy(r.localStore,Qf(n));case 8:return u=e.sent,r.isPrimaryClient&&um(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,mg(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function mg(e,t,n,r){return gg.apply(this,arguments)}function gg(){return gg=Jt(tn().mark((function e(t,n,r,i){var a,o,u,s,l,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=Jt(tn().mark((function e(t,n,r,i){var a,o,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,dy(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(jg(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,dy(t.localStore,n,!0);case 3:return a=e.sent,o=new fg(n,a.li),u=o.Gu(a.documents),s=id.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(u,t.isPrimaryClient,s),jg(t,r,l.Hu),c=new hg(n,r,o),e.abrupt("return",(t.ea.set(n,c),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function kg(e,t){return bg.apply(this,arguments)}function bg(){return bg=Jt(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$l(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Yf(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,fy(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sm(r.remoteStore,i.targetId),Mg(r,i.targetId)})).catch(Nv);case 9:e.next=14;break;case 11:return Mg(r,i.targetId),e.next=14,fy(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function wg(e,t,n){return _g.apply(this,arguments)}function _g(){return _g=Jt(tn().mark((function e(t,n,r){var i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lk(t),e.prev=1,e.next=4,function(e,t){var n,r=$l(e),i=dc.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ed());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=vr(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=Eh(l,n.get(l.key));null!=c&&u.push(new Nh(l.key,c,of(c.value.mapValue),bh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Bh(cc)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Bg(i,a.changes);case 9:return e.next=11,Sm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Km(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),_g.apply(this,arguments)}function xg(e,t){return Sg.apply(this,arguments)}function Sg(){return Sg=Jt(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),e.prev=1,e.next=4,uy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Ql(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Ql(n.Zu):e.removedDocuments.size>0&&(Ql(n.Zu),n.Zu=!1))})),e.next=8,Bg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Nv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Sg.apply(this,arguments)}function Eg(e,t,n){var r=$l(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=$l(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=vr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&rg(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Cg(e,t,n){return Tg.apply(this,arguments)}function Tg(){return Tg=Jt(tn().mark((function e(t,n,r){var i,a,o,u,s,l;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=$l(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Bh(Mc.comparator)).insert(o,uf.newNoDocument(o,pc.min())),s=ed().add(o),l=new rd(pc.min(),new Map,new Wh(cc),u,s),e.next=9,xg(i,l);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),qg(i),e.next=16;break;case 14:return e.next=16,fy(i.localStore,n,!1).then((function(){return Mg(i,n,r)})).catch(Nv);case 16:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Ig(e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=Jt(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),i=n.batch.batchId,e.prev=1,e.next=4,ay(r.localStore,n);case 4:return a=e.sent,Lg(r,i,null),Og(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Bg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Nv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ng.apply(this,arguments)}function Ag(e,t,n){return Pg.apply(this,arguments)}function Pg(){return Pg=Jt(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$l(t),e.prev=1,e.next=4,function(e,t){var n=$l(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Ql(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Lg(i,n,r),Og(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Bg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Nv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Pg.apply(this,arguments)}function Dg(e,t){return Rg.apply(this,arguments)}function Rg(){return Rg=Jt(tn().mark((function e(t,n){var r,i,a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dm((r=$l(t)).remoteStore)||zl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=$l(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Km(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Rg.apply(this,arguments)}function Og(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function Lg(e,t,n){var r=$l(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function Mg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=vr(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||Fg(e,t)}))}function Fg(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(sm(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),qg(e))}function jg(e,t,n){var r,i=vr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof lg?(e.oa.addReference(a.key,t),Vg(e,a)):a instanceof cg?(zl("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||Fg(e,a.key)):Gl()}}catch(o){i.e(o)}finally{i.f()}}function Vg(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(zl("SyncEngine","New document in limbo: "+n),e.sa.add(r),qg(e))}function qg(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new Mc(kc.fromString(t)),r=e.ca.next();e.ra.set(r,new dg(n)),e.ia=e.ia.insert(n,r),um(e.remoteStore,new Rp(Qf(Bf(n.path)),r,2,uc.A))}}function Bg(e,t,n){return Ug.apply(this,arguments)}function Ug(){return Ug=Jt(tn().mark((function e(t,n,r){var i,a,o,u;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=$l(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Jv.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=Jt(tn().mark((function e(t,n){var r,i,a,o,u,s,l,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return gp.forEach(n,(function(t){return gp.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return gp.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),xp(e.t0)){e.next=10;break}throw e.t0;case 10:zl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=vr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.ii=r.ii.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ug.apply(this,arguments)}function zg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=Jt(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=$l(t)).currentUser.isEqual(n)){e.next=11;break}return zl("SyncEngine","User change. New user:",n.toKey()),e.next=5,ry(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Zl(Yl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Bg(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Kg(e,t){var n=$l(e),r=n.ra.get(t);if(r&&r.Zu)return ed().add(r.key);var i=ed(),a=n.na.get(t);if(!a)return i;var o,u=vr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.ea.get(s);i=i.unionWith(l.view.Ku)}}catch(c){u.e(c)}finally{u.f()}return i}function Hg(e,t){return Gg.apply(this,arguments)}function Gg(){return Gg=Jt(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),e.next=3,dy(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&jg(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),Gg.apply(this,arguments)}function Qg(e,t){return $g.apply(this,arguments)}function $g(){return $g=Jt(tn().mark((function e(t,n){var r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),e.abrupt("return",vy(r.localStore,n).then((function(e){return Bg(r,e)})));case 2:case"end":return e.stop()}}),e)}))),$g.apply(this,arguments)}function Yg(e,t,n,r){return Zg.apply(this,arguments)}function Zg(){return Zg=Jt(tn().mark((function e(t,n,r,i){var a,o;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$l(t),e.next=3,function(e,t){var n=$l(e),r=$l(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):gp.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Sm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Lg(a,n,i||null),Og(a,n),function(e,t){$l($l(e).Bs)._n(t)}(a.localStore,n)):Gl();case 11:return e.next=13,Bg(a,o);case 13:e.next=16;break;case 15:zl("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function Xg(e,t){return Jg.apply(this,arguments)}function Jg(){return Jg=Jt(tn().mark((function e(t,n){var r,i,a,o,u,s,l,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sk(r=$l(t)),lk(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ek(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,qm(r.remoteStore,!0);case 9:o=vr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,um(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return l=[],c=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return Mg(r,t),fy(r.localStore,t,!0)})),sm(r.remoteStore,t)})),e.next=19,c;case 19:return e.next=21,ek(r,l);case 21:return function(e){var t=$l(e);t.ra.forEach((function(e,n){sm(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new Bh(Mc.comparator)}(r),r.ha=!1,e.next=25,qm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function ek(e,t,n){return tk.apply(this,arguments)}function tk(){return tk=Jt(tn().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,h,d,p,v,y,m;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$l(t),a=[],o=[],u=vr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(l=s.value,c=void 0,!(f=i.na.get(l))||0===f.length){e.next=34;break}return e.next=11,cy(i.localStore,Qf(f[0]));case 11:c=e.sent,h=vr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,Hg(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,py(i.localStore,l);case 36:return m=e.sent,e.next=39,cy(i.localStore,m);case 39:return c=e.sent,e.next=42,mg(i,nk(m),l,!1);case 42:a.push(c);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),tk.apply(this,arguments)}function nk(e){return qf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rk(e){var t=$l(e);return $l($l(t.localStore).persistence).Fs()}function ik(e,t,n,r){return ak.apply(this,arguments)}function ak(){return ak=Jt(tn().mark((function e(t,n,r,i){var a,o,u,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=$l(t)).ha){e.next=3;break}return e.abrupt("return",void zl("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,vy(a.localStore,eh(o[0]));case 10:return u=e.sent,s=rd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Bg(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,fy(a.localStore,n,!0);case 17:return Mg(a,n,i),e.abrupt("break",20);case 19:Gl();case 20:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(e,t,n){return uk.apply(this,arguments)}function uk(){return uk=Jt(tn().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,h;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=sk(t)).ha){e.next=45;break}a=vr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return zl("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,py(i.localStore,u);case 12:return s=e.sent,e.next=15,cy(i.localStore,s);case 15:return l=e.sent,e.next=18,mg(i,nk(s),l.targetId,!1);case 18:um(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:c=vr(r),e.prev=30,h=tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,fy(i.localStore,t,!1).then((function(){sm(i.remoteStore,t),Mg(i,t)})).catch(Nv);case 5:case"end":return e.stop()}}),e)})),c.s();case 33:if((f=c.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),c.e(e.t2);case 42:return e.prev=42,c.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),uk.apply(this,arguments)}function sk(e){var t=$l(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cg.bind(null,t),t.ta.Qo=tg.bind(null,t.eventManager),t.ta.fa=ng.bind(null,t.eventManager),t}function lk(e){var t=$l(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ig.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ag.bind(null,t),t}function ck(e,t,n){var r=$l(e);(function(){var e=Jt(tn().mark((function e(t,n,r){var i,a,o,u,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=$l(e),r=gd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(sg(i)),a=new ug(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Bg(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=$l(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Kl("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var fk=function(){function e(){r(this,e),this.synchronizeTabs=!1}return a(e,[{key:"initialize",value:function(){var e=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=$y(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return ny(this.persistence,new ey,e.initialUser,this.M)}},{key:"wa",value:function(e){return new Ny(Py.zi,this.M)}},{key:"_a",value:function(e){return new By}},{key:"terminate",value:function(){var e=Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hk=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).ya=e,o.cacheSizeBytes=i,o.forceOwnership=a,o.synchronizeTabs=!1,o}return a(n,[{key:"initialize",value:function(){var e=Jt(tn().mark((function e(t){var r=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(s(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,lk(this.ya.syncEngine);case 6:return e.next=8,Sm(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return ny(this.persistence,new ey,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Rv(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=Zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yv.withCacheSize(this.cacheSizeBytes):yv.DEFAULT;return new Qv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gy(),Qy(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new By}}]),n}(fk),dk=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i,!1)).ya=e,a.cacheSizeBytes=i,a.synchronizeTabs=!0,a}return a(n,[{key:"initialize",value:function(){var e=Jt(tn().mark((function e(t){var r,i=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(s(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof qy,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:Yg.bind(null,r),Or:ik.bind(null,r),Fr:ok.bind(null,r),Fs:rk.bind(null,r),kr:Qg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xg(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=Gy();if(!qy.vt(t))throw new Zl(Yl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Zv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(hk),pk=function(){function e(){r(this,e)}return a(e,[{key:"initialize",value:function(){var e=Jt(tn().mark((function e(t,n){var r=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Eg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zg.bind(null,this.syncEngine),e.next=12,qm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ym}},{key:"createDatastore",value:function(e){var t,n=$y(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Hy(t));return function(e,t,n,r){return new em(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Eg(o.syncEngine,e,0)},a=zy.vt()?new zy:new Uy,new nm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new pg(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Jt(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$l(t),zl("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,am(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function vk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Jt(tn().mark((function r(){var i;return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var yk=function(){function e(t){r(this,e),this.observer=t,this.muted=!1}return a(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),mk=function(){function e(t,n){var i=this;r(this,e),this.Ta=t,this.M=n,this.metadata=new Xl,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?i.metadata.resolve(e.payload.metadata):i.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return i.metadata.reject(e)}))}return a(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=Jt(tn().mark((function e(){var t,n,r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new ag(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=Jt(tn().mark((function e(){var t,n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Jt(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=Jt(tn().mark((function e(){var t,n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gk=function(){function e(t){r(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return a(e,[{key:"lookup",value:function(){var e=Jt(tn().mark((function e(t){var n,r=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Zl(Yl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Jt(tn().mark((function e(t,n){var r,i,a,o,u,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),i=Ed(r.M)+"/documents",a={documents:n.map((function(e){return wd(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Nd(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ql(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Lh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Jt(tn().mark((function e(){var t,n=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Mc.fromPath(t);n.mutations.push(new Mh(r,n.precondition(r)))})),e.next=7,function(){var e=Jt(tn().mark((function e(t,n){var r,i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$l(t),i=Ed(r.M)+"/documents",a={writes:n.map((function(e){return Ad(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gl();t=pc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Zl(Yl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?bh.updateTime(t):bh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pc.min()))throw new Zl(Yl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bh.updateTime(t)}return bh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),kk=function(){function e(t,n,i,a){r(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=a,this.Sa=5,this.Do=new Yy(this.asyncQueue,"transaction_retry")}return a(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(Jt(tn().mark((function t(){var n,r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gk(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!Rc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!jh(t)}return!1}}]),e}(),bk=function(){function e(t,n,i,a){var o=this;r(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Vl.UNAUTHENTICATED,this.clientId=lc.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,function(){var e=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zl("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(i,(function(e){return zl("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return a(e,[{key:"getConfiguration",value:function(){var e=Jt(tn().mark((function e(){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Zl(Yl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Xl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Jt(tn().mark((function n(){var r;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Km(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wk(e,t){return _k.apply(this,arguments)}function _k(){return _k=Jt(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),zl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ry(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_k.apply(this,arguments)}function xk(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=Jt(tn().mark((function e(t,n){var r,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ek(t);case 3:return r=e.sent,zl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return jm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return jm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}function Ek(e){return Ck.apply(this,arguments)}function Ck(){return Ck=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return zl("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,wk(t,new fk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Tk(e){return Ik.apply(this,arguments)}function Ik(){return Ik=Jt(tn().mark((function e(t){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return zl("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,xk(t,new pk);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Nk(e){return Ek(e).then((function(e){return e.persistence}))}function Ak(e){return Ek(e).then((function(e){return e.localStore}))}function Pk(e){return Tk(e).then((function(e){return e.remoteStore}))}function Dk(e){return Tk(e).then((function(e){return e.syncEngine}))}function Rk(e){return Ok.apply(this,arguments)}function Ok(){return Ok=Jt(tn().mark((function e(t){var n,r;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=vg.bind(null,n.syncEngine),r.onUnlisten=kg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Lk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Xl;return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function i(){return tn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yk({next:function(a){t.enqueueAndForget((function(){return Jm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Zl(Yl.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Zl(Yl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ig(Bf(n.path),a,{includeMetadataChanges:!0,Cu:!0});return Zm(e,o)},i.next=3,Rk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Mk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Xl;return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function i(){return tn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yk({next:function(n){t.enqueueAndForget((function(){return Jm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Zl(Yl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ig(n,a,{includeMetadataChanges:!0,Cu:!0});return Zm(e,o)},i.next=3,Rk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Fk=new Map;function jk(e,t,n){if(!n)throw new Zl(Yl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Vk(e,t,n,r){if(!0===t&&!0===r)throw new Zl(Yl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qk(e){if(!Mc.isDocumentKey(e))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bk(e){if(Mc.isDocumentKey(e))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Uk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Gl()}function zk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zl(Yl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Uk(e);throw new Zl(Yl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Wk(e,t){if(t<=0)throw new Zl(Yl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Kk=function(){function e(t){var n;if(r(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Zl(Yl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zl(Yl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Vk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return a(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Hk=function(){function e(t,n,i){r(this,e),this._authCredentials=n,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kk({}),this._settingsFrozen=!1,t instanceof Dc?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zl(Yl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(e.options.projectId)}(t))}return a(e,[{key:"app",get:function(){if(!this._app)throw new Zl(Yl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Zl(Yl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ec;switch(e.type){case"gapi":var t=e.client;return Ql(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ic(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Zl(Yl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Fk.get(e);t&&(zl("ComponentProvider","Removing Datastore"),Fk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=zk(e,Hk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Kl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Vl.MOCK_USER;else{o=Pr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Zl(Yl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vl(s)}e._authCredentials=new tc(new Jl(o,u))}}var Qk=function(){function e(t,n,i){r(this,e),this.converter=n,this._key=i,this.type="document",this.firestore=t}return a(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Yk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$k=function(){function e(t,n,i){r(this,e),this.converter=n,this._query=i,this.type="query",this.firestore=t}return a(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Yk=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,Bf(a)))._path=a,o.type="collection",o}return a(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Qk(this.firestore,null,new Mc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($k);function Zk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ui(e),jk("collection","path",t),e instanceof Hk){var a=kc.fromString.apply(kc,[t].concat(r));return Bk(a),new Yk(e,null,a)}if(!(e instanceof Qk||e instanceof Yk))throw new Zl(Yl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kc.fromString.apply(kc,[t].concat(r)));return Bk(o),new Yk(e.firestore,null,o)}function Xk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ui(e),1===arguments.length&&(t=lc.R()),jk("doc","path",t),e instanceof Hk){var a=kc.fromString.apply(kc,[t].concat(r));return qk(a),new Qk(e,null,new Mc(a))}if(!(e instanceof Qk||e instanceof Yk))throw new Zl(Yl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(kc.fromString.apply(kc,[t].concat(r)));return qk(o),new Qk(e.firestore,e instanceof Yk?e.converter:null,new Mc(o))}function Jk(e,t){return e=ui(e),t=ui(t),(e instanceof Qk||e instanceof Yk)&&(t instanceof Qk||t instanceof Yk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eb(e,t){return e=ui(e),t=ui(t),e instanceof $k&&t instanceof $k&&e.firestore===t.firestore&&Yf(e._query,t._query)&&e.converter===t.converter}var tb=function(){function e(){var t=this;r(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Yy(this,"async_queue_retry"),this.qa=function(){var e=Qy();e&&zl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Qy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return a(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Qy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Xl;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=Jt(tn().mark((function e(){var t=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),xp(e.t0)){e.next=12;break}throw e.t0;case 12:zl("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Wl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=Wm.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&Gl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=Jt(tn().mark((function e(){var t;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=vr(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=vr(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function nb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=vr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var rb=function(){function e(){r(this,e),this._progressObserver={},this._taskCompletionResolver=new Xl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return a(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ib=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).type="firestore",o._queue=new tb,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return a(n,[{key:"_terminate",value:function(){return this._firestoreClient||ob(this),this._firestoreClient.terminate()}}]),n}(Hk);function ab(e){return e._firestoreClient||ob(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ob(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Pc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ub(e,t,n){var r=new Xl;return e.asyncQueue.enqueue(Jt(tn().mark((function i(){return tn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wk(e,n);case 3:return i.next=5,xk(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Yl.FAILED_PRECONDITION||e.code===Yl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sb(e){return function(e){return e.asyncQueue.enqueue(Jt(tn().mark((function t(){var n,r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nk(e);case 2:return n=t.sent,t.next=5,Pk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=$l(e);return t.fu.delete(0),rm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ab(e=zk(e,ib)))}function lb(e){return function(e){return e.asyncQueue.enqueue(Jt(tn().mark((function t(){var n,r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nk(e);case 2:return n=t.sent,t.next=5,Pk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Jt(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=$l(t)).fu.add(0),e.next=4,am(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ab(e=zk(e,ib)))}function cb(e,t){var n=ab(e=zk(e,ib)),r=new rb;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new mk(e,t)}(function(e,t){if(e instanceof Uint8Array)return vk(e,t);if(e instanceof ArrayBuffer)return vk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,$y(t));e.asyncQueue.enqueueAndForget(Jt(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ck,t.next=3,Dk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function fb(e,t){return function(e,t){return e.asyncQueue.enqueue(Jt(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=$l(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,Ak(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ab(e=zk(e,ib)),t).then((function(t){return t?new $k(e,null,t.query):null}))}function hb(e){if(e._initialized||e._terminated)throw new Zl(Yl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var db=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wc(n)}return a(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pb=function(){function e(t){r(this,e),this._byteString=t}return a(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(xc.fromBase64String(t))}catch(t){throw new Zl(Yl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(xc.fromUint8Array(t))}}]),e}(),vb=a((function e(t){r(this,e),this._methodName=t})),yb=function(){function e(t,n){if(r(this,e),!isFinite(t)||t<-90||t>90)throw new Zl(Yl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Zl(Yl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return a(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return cc(this._lat,e._lat)||cc(this._long,e._long)}}]),e}(),mb=/^__.*__$/,gb=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Nh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ih(e,this.data,t,this.fieldTransforms)}}]),e}(),kb=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return new Nh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gl()}}var wb=function(){function e(t,n,i,a,o,u){r(this,e),this.settings=t,this.databaseId=n,this.M=i,this.ignoreUndefinedProperties=a,void 0===o&&this.Ya(),this.fieldTransforms=o||[],this.fieldMask=u||[]}return a(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return Bb(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(bb(this.Xa)&&mb.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),_b=function(){function e(t,n,i){r(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=i||$y(t)}return a(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wb({Xa:e,methodName:t,uc:n,path:wc.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function xb(e){var t=e._freezeSettings(),n=$y(e._databaseId);return new _b(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);Fb("Data must be an object, but it was:",o,r);var u,s,l=Lb(r,o);if(a.merge)u=new _c(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=vr(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=jb(t,d,n);if(!o.contains(p))throw new Zl(Yl.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Ub(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new _c(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new gb(new af(l),u,s)}var Eb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vb);function Cb(e,t,n){return new wb({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Tb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_toFieldTransform",value:function(e){return new gh(e.path,new ch)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vb),Ib=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).cc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=Cb(this,e,!0),n=this.cc.map((function(e){return Ob(e,t)})),r=new fh(n);return new gh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vb),Nb=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).cc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=Cb(this,e,!0),n=this.cc.map((function(e){return Ob(e,t)})),r=new dh(n);return new gh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vb),Ab=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).hc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=new vh(e.M,ah(e.M,this.hc));return new gh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vb);function Pb(e,t,n,r){var i=e.ac(1,t,n);Fb("Data must be an object, but it was:",i,r);var a=[],o=af.empty();yc(r,(function(e,r){var u=qb(t,e,n);r=ui(r);var s=i.sc(u);if(r instanceof Eb)a.push(u);else{var l=Ob(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new _c(a);return new kb(o,u,i.fieldTransforms)}function Db(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[jb(t,r,n)],s=[i];if(a.length%2!=0)throw new Zl(Yl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push(jb(t,a[l])),s.push(a[l+1]);for(var c=[],f=af.empty(),h=u.length-1;h>=0;--h)if(!Ub(c,u[h])){var d=u[h],p=s[h];p=ui(p);var v=o.sc(d);if(p instanceof Eb)c.push(d);else{var y=Ob(p,v);null!=y&&(c.push(d),f.set(d,y))}}var m=new _c(c);return new kb(f,m,o.fieldTransforms)}function Rb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ob(n,e.ac(r?4:3,t))}function Ob(e,t){if(Mb(e=ui(e)))return Fb("Unsupported field value:",t,e),Lb(e,t);if(e instanceof vb)return function(e,t){if(!bb(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=vr(e);try{for(a.s();!(n=a.n()).done;){var o=Ob(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ui(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ah(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=dc.fromDate(e);return{timestampValue:vd(t.M,n)}}if(e instanceof dc){var r=new dc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vd(t.M,r)}}if(e instanceof yb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pb)return{bytesValue:yd(t.M,e._byteString)};if(e instanceof Qk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:kd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(Uk(e)))}(e,t)}function Lb(e,t){var n={};return mc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yc(e,(function(e,r){var i=Ob(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof dc||e instanceof yb||e instanceof pb||e instanceof Qk||e instanceof vb)}function Fb(e,t,n){if(!Mb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Uk(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function jb(e,t,n){if((t=ui(t))instanceof db)return t._internalPath;if("string"==typeof t)return qb(e,t);throw Bb("Field path arguments must be of type string or ",e,!1,void 0,n)}var Vb=new RegExp("[~\\*/\\[\\]]");function qb(e,t,n){if(t.search(Vb)>=0)throw Bb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return yr(db,(0,di.Z)(t.split(".")))._internalPath}catch(r){throw Bb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Zl(Yl.INVALID_ARGUMENT,u+e+s)}function Ub(e,t){return e.some((function(e){return e.isEqual(t)}))}var zb=function(){function e(t,n,i,a,o){r(this,e),this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}return a(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Qk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Wb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Kb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Wb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){return xa(s(n.prototype),"data",this).call(this)}}]),n}(zb);function Kb(e,t){return"string"==typeof t?qb(e,t):t instanceof db?t._internalPath:t._delegate._internalPath}var Hb=function(){function e(t,n){r(this,e),this.hasPendingWrites=t,this.fromCache=n}return a(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Gb=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var l;return r(this,n),(l=t.call(this,e,i,a,o,s))._firestore=e,l._firestoreImpl=e,l.metadata=u,l}return a(n,[{key:"exists",value:function(){return xa(s(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Kb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(zb),Qb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xa(s(n.prototype),"data",this).call(this,e)}}]),n}(Gb),$b=function(){function e(t,n,i,a){r(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hb(a.hasPendingWrites,a.fromCache),this.query=i}return a(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Qb(n._firestore,n._userDataWriter,r.key,r,new Hb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zl(Yl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Qb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Qb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Yb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Yb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gl()}}function Zb(e,t){return e instanceof Gb&&t instanceof Gb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $b&&t instanceof $b&&e._firestore===t._firestore&&eb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Xb(e){if(zf(e)&&0===e.explicitOrderBy.length)throw new Zl(Yl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jb=a((function e(){r(this,e)}));function ew(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var tw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).lc=e,o.fc=i,o.dc=a,o.type="where",o}return a(n,[{key:"_apply",value:function(e){var t=xb(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hw(o,a);var s,l=[],c=vr(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(fw(r,e,f))}}catch(d){c.e(d)}finally{c.f()}u={arrayValue:{values:l}}}else u=fw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hw(o,a),u=Rb(n,"where",o,"in"===a||"not-in"===a);var h=Ef.create(i,a,u);return function(e,t){if(t.S()){var n=Kf(e);if(null!==n&&!n.isEqual(t.field))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Wf(e);null!==r&&dw(e,t.field,r)}var i=function(e,t){var n,r=vr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Zl(Yl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Zl(Yl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new $k(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Vf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Jb);var nw=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).lc=e,a._c=i,a.type="orderBy",a}return a(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Lf(t,n);return function(e,t){if(null===Wf(e)){var n=Kf(e);null!==n&&dw(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new $k(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Vf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Jb);var rw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.wc=i,o.mc=a,o}return a(n,[{key:"_apply",value:function(e){return new $k(e.firestore,e.converter,$f(e._query,this.wc,this.mc))}}]),n}(Jb);var iw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.gc=i,o.yc=a,o}return a(n,[{key:"_apply",value:function(e){var t=cw(e,this.type,this.gc,this.yc);return new $k(e.firestore,e.converter,function(e,t){return new Vf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Jb);function aw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iw("startAt",t,!0)}function ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iw("startAfter",t,!1)}var uw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.gc=i,o.yc=a,o}return a(n,[{key:"_apply",value:function(e){var t=cw(e,this.type,this.gc,this.yc);return new $k(e.firestore,e.converter,function(e,t){return new Vf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Jb);function sw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uw("endBefore",t,!1)}function lw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uw("endAt",t,!0)}function cw(e,t,n,r){if(n[0]=ui(n[0]),n[0]instanceof zb)return function(e,t,n,r,i){if(!r)throw new Zl(Yl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=vr(Gf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Hc(t,r.key));else{var l=r.data.field(s.field);if(Ic(l))throw new Zl(Yl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=s.field.canonicalString();throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(f){u.e(f)}finally{u.f()}return new Of(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Zl(Yl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof l));if(!Hf(e)&&-1!==l.indexOf("/"))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=e.path.child(kc.fromString(l));if(!Mc.isDocumentKey(c))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var f=new Mc(c);u.push(Hc(t,f))}else{var h=Rb(n,r,l);u.push(h)}}return new Of(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fw(e,t,n){if("string"==typeof(n=ui(n))){if(""===n)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hf(t)&&-1!==n.indexOf("/"))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(kc.fromString(n));if(!Mc.isDocumentKey(r))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hc(e,new Mc(r))}if(n instanceof Qk)return Hc(e,n._key);throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Uk(n),"."))}function hw(e,t){if(!Array.isArray(e)||0===e.length)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function dw(e,t,n){if(!n.isEqual(t))throw new Zl(Yl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var pw=function(){function e(){r(this,e)}return a(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gl()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return yc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new yb(Cc(e.latitude),Cc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Nc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ec(e);return new dc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=kc.fromString(e);Ql(zd(n));var r=new Dc(n.get(1),n.get(3)),i=new Mc(n.popFirst(5));return r.isEqual(t)||Wl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function vw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new pb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qk(this.firestore,null,t)}}]),n}(pw),mw=function(){function e(t,n){r(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xb(t)}return a(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=gw(e,this._firestore),i=vw(r.converter,t,n),a=Sb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,bh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=gw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ui(t))||t instanceof db?Db(this._dataReader,"WriteBatch.update",i._key,t,n,o):Pb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,bh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=gw(e,this._firestore);return this._mutations=this._mutations.concat(new Lh(t._key,bh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Zl(Yl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function gw(e,t){if((e=ui(e)).firestore!==t)throw new Zl(Yl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var kw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new pb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qk(this.firestore,null,t)}}]),n}(pw);function bw(e){e=zk(e,Qk);var t=zk(e.firestore,ib),n=ab(t),r=new kw(t);return function(e,t){var n=new Xl;return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function r(){return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Jt(tn().mark((function e(t,n,r){var i,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=$l(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Zl(Yl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Km(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ak(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Gb(t,r,e._key,n,new Hb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ww(e){e=zk(e,$k);var t=zk(e.firestore,ib),n=ab(t),r=new kw(t);return function(e,t){var n=new Xl;return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function r(){return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Jt(tn().mark((function e(t,n,r){var i,a,o,u,s;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dy(t,n,!0);case 3:i=e.sent,a=new fg(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Km(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ak(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $b(t,r,e,n)}))}function _w(e,t,n){e=zk(e,Qk);var r=zk(e.firestore,ib),i=vw(e.converter,t,n);return Cw(r,[Sb(xb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bh.none())])}function xw(e,t,n){e=zk(e,Qk);for(var r=zk(e.firestore,ib),i=xb(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Cw(r,[("string"==typeof(t=ui(t))||t instanceof db?Db(i,"updateDoc",e._key,t,n,o):Pb(i,"updateDoc",e._key,t)).toMutation(e._key,bh.exists(!0))])}function Sw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ui(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||nb(n[s])||(u=n[s],s++);var l,c,f,h={includeMetadataChanges:u.includeMetadataChanges};if(nb(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Qk)c=zk(e.firestore,ib),f=Bf(e._key.path),l={next:function(t){n[s]&&n[s](Tw(c,e,t))},error:n[s+1],complete:n[s+2]};else{var p=zk(e,$k);c=zk(p.firestore,ib),f=p._query;var v=new kw(c);l={next:function(e){n[s]&&n[s](new $b(c,v,p,e))},error:n[s+1],complete:n[s+2]},Xb(e._query)}return function(e,t,n,r){var i=new yk(r),a=new ig(t,i,n);return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zm,t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(Jt(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Jm,t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ab(c),f,h,l)}function Ew(e,t){return function(e,t){var n=new yk(t);return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$l(e).Eu.add(t),t.next()},t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(Jt(tn().mark((function t(){return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){$l(e).Eu.delete(t)},t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ab(e=zk(e,ib)),nb(t)?t:{next:t})}function Cw(e,t){return function(e,t){var n=new Xl;return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function r(){return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=wg,r.next=3,Dk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ab(e),t)}function Tw(e,t,n){var r=n.docs.get(t._key),i=new kw(e);return new Gb(e,i,t._key,r,new Hb(n.hasPendingWrites,n.fromCache),t.converter)}var Iw=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i))._firestore=e,a}return a(n,[{key:"get",value:function(e){var t=this,r=gw(e,this._firestore),i=new kw(this._firestore);return xa(s(n.prototype),"get",this).call(this,e).then((function(e){return new Gb(t._firestore,i,r._key,e._document,new Hb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){r(this,e),this._firestore=t,this._transaction=n,this._dataReader=xb(t)}return a(e,[{key:"get",value:function(e){var t=this,n=gw(e,this._firestore),r=new yw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Gl();var i=e[0];if(i.isFoundDocument())return new zb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zb(t._firestore,r,n._key,null,n.converter);throw Gl()}))}},{key:"set",value:function(e,t,n){var r=gw(e,this._firestore),i=vw(r.converter,t,n),a=Sb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=gw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ui(t))||t instanceof db?Db(this._dataReader,"Transaction.update",i._key,t,n,o):Pb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=gw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Nw(e,t){return function(e,t){var n=new Xl;return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function r(){var i;return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Tk(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new kk(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(ab(e=zk(e,ib)),(function(n){return t(new Iw(e,n))}))}function Aw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ib("arrayUnion",t)}function Pw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Nb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ql=e}(Ki),ji(new pi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ib(i,new nc(e.getProvider("auth-internal")),new oc(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Zi(jl,"3.4.8",e),Zi(jl,"3.4.8","esm2017")}();function Dw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zl("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Rw(){if("undefined"===typeof Uint8Array)throw new Zl("unimplemented","Uint8Arrays are not available in this environment.")}function Ow(){if("undefined"==typeof atob)throw new Zl("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Lw=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"toBase64",value:function(){return Ow(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Rw(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Ow(),new e(pb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Rw(),new e(pb.fromUint8Array(t))}}]),e}();function Mw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=vr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Fw=function(){function e(){r(this,e)}return a(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){hb(e=zk(e,ib));var n=ab(e),r=e._freezeSettings(),i=new pk;return ub(n,i,new hk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){hb(e=zk(e,ib));var t=ab(e),n=e._freezeSettings(),r=new pk;return ub(t,r,new dk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Zl(Yl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Xl;return e._queue.enqueueAndForgetEvenWhileRestricted(Jt(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Jt(tn().mark((function e(t){var n;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bp.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,bp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Zv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),jw=function(){function e(t,n,i){var a=this;r(this,e),this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:function(){return a.terminate()}},t instanceof Dc||(this._appCompat=t)}return a(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Kl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sb(this._delegate)}},{key:"disableNetwork",value:function(){return lb(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Vk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Xl;return e.asyncQueue.enqueueAndForget(Jt(tn().mark((function n(){return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Dg,n.next=3,Dk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ab(e=zk(e,ib)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ew(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Zl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Xw(this,Zk(this._delegate,e))}catch(t){throw Ww(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new zw(this,Xk(this._delegate,e))}catch(t){throw Ww(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $w(this,function(e,t){if(e=zk(e,Hk),jk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zl(Yl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $k(e,null,function(e){return new Vf(kc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Ww(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Nw(this._delegate,(function(n){return e(new qw(t,n))}))}},{key:"batch",value:function(){var e=this;return ab(this._delegate),new Bw(new mw(this._delegate,(function(t){return Cw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return cb(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return fb(this._delegate,e).then((function(e){return e?new $w(t,e):null}))}}]),e}(),Vw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new Lw(new pb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return zw.forKey(t,this.firestore,null)}}]),n}(pw);var qw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Vw(t)}return a(e,[{key:"get",value:function(e){var t=this,n=Jw(e);return this._delegate.get(n).then((function(e){return new Gw(t._firestore,new Gb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Jw(e);return n?(Dw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Jw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Jw(e);return this._delegate.delete(t),this}}]),e}(),Bw=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"set",value:function(e,t,n){var r=Jw(e);return n?(Dw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Jw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Jw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Uw=function(){function e(t,n,i){r(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=i}return a(e,[{key:"fromFirestore",value:function(e,t){var n=new Qb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Vw(t),n),i.set(n,a)),a}}]),e}();Uw.INSTANCES=new WeakMap;var zw=function(){function e(t,n){r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Vw(t)}return a(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Xw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Xw(this.firestore,Zk(this._delegate,e))}catch(t){throw Ww(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ui(e))instanceof Qk&&Jk(this._delegate,e)}},{key:"set",value:function(e,t){t=Dw("DocumentReference.set",t);try{return t?_w(this._delegate,e,t):_w(this._delegate,e)}catch(n){throw Ww(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xw(this._delegate,e):xw.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Ww(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Cw(zk(e.firestore,ib),[new Lh(e._key,bh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Kw(n),a=Hw(n,(function(t){return new Gw(e.firestore,new Gb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Sw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?bw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zk(e,Qk);var t=zk(e.firestore,ib);return Lk(ab(t),e._key,{source:"server"}).then((function(n){return Tw(t,e,n)}))}(this._delegate):function(e){e=zk(e,Qk);var t=zk(e.firestore,ib);return Lk(ab(t),e._key).then((function(n){return Tw(t,e,n)}))}(this._delegate),t.then((function(e){return new Gw(n.firestore,new Gb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Uw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Zl("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Qk(n._delegate,r,new Mc(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Qk(n._delegate,r,t))}}]),e}();function Ww(e,t,n){return e.message=e.message.replace(t,n),e}function Kw(e){var t,n=vr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Mw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Hw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Mw(e[0])?e[0]:Mw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Gw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"ref",get:function(){return new zw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Zb(this._delegate,e._delegate)}}]),e}(),Qw=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Gl()}(void 0!==t),t}}]),n}(Gw),$w=function(){function e(t,n){r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Vw(t)}return a(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ew(this._delegate,function(e,t,n){var r=t,i=Kb("where",e);return new tw(i,r,n)}(t,n,r)))}catch(i){throw Ww(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ew(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Kb("orderBy",e);return new nw(n,t)}(t,n)))}catch(r){throw Ww(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ew(this._delegate,function(e){return Wk("limit",e),new rw("limit",e,"F")}(t)))}catch(n){throw Ww(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ew(this._delegate,function(e){return Wk("limitToLast",e),new rw("limitToLast",e,"L")}(t)))}catch(n){throw Ww(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ew(this._delegate,aw.apply(void 0,arguments)))}catch(t){throw Ww(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ew(this._delegate,ow.apply(void 0,arguments)))}catch(t){throw Ww(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ew(this._delegate,sw.apply(void 0,arguments)))}catch(t){throw Ww(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ew(this._delegate,lw.apply(void 0,arguments)))}catch(t){throw Ww(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return eb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ww(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zk(e,$k);var t=zk(e.firestore,ib),n=ab(t),r=new kw(t);return Mk(n,e._query,{source:"server"}).then((function(n){return new $b(t,r,e,n)}))}(this._delegate):function(e){e=zk(e,$k);var t=zk(e.firestore,ib),n=ab(t),r=new kw(t);return Xb(e._query),Mk(n,e._query).then((function(n){return new $b(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Zw(n.firestore,new $b(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Kw(n),a=Hw(n,(function(t){return new Zw(e.firestore,new $b(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Sw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Uw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Yw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Qw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Zw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"query",get:function(){return new $w(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Qw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Yw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Qw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Zb(this._delegate,e._delegate)}}]),e}(),Xw=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i)).firestore=e,a._delegate=i,a}return a(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new zw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new zw(this.firestore,void 0===e?Xk(this._delegate):Xk(this._delegate,e))}catch(t){throw Ww(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=zk(e.firestore,ib),r=Xk(e),i=vw(e.converter,t);return Cw(n,[Sb(xb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new zw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Jk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Uw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($w);function Jw(e){return zk(e,Qk)}var e_,t_=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=yr(db,n)}return a(e,[{key:"isEqual",value:function(e){return(e=ui(e))instanceof db&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(wc.keyField().canonicalString())}}]),e}(),n_=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Tb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Eb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Aw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Pw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Ab("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),r_={Firestore:jw,GeoPoint:yb,Timestamp:dc,Blob:Lw,Transaction:qw,WriteBatch:Bw,DocumentReference:zw,DocumentSnapshot:Gw,Query:$w,QueryDocumentSnapshot:Qw,QuerySnapshot:Zw,CollectionReference:Xw,FieldPath:t_,FieldValue:n_,setLogLevel:function(e){!function(e){Bl.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new pi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},r_)))})(e_=wa,(function(e,t){return new jw(e,t,new Fw)})),e_.registerVersion("@firebase/firestore-compat","0.1.17");var i_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return(0,p.jsx)("div",{className:"App",children:(0,p.jsx)(vn,{style:{boxSizing:"border-box",width:"100%",margin:"0",padding:"0",backgroundColor:"#f1f1f1",fontFamily:"lato, sanSerif"},children:(0,p.jsx)(cr,{name:"signin",onSubmit:a_,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,p.jsxs)(dr,{style:{backgroundColor:"white",width:"400px",borderRadius:"8px",padding:"20px 40px",boxShadow:"0 10px 25px rgba(92, 99, 105, .2)"},children:[(0,p.jsx)("h1",{class:"title",children:"SignUp Form"}),(0,p.jsxs)("p",{children:[(0,p.jsx)("label",{children:"First Name"})," "]}),(0,p.jsx)("input",{name:"firstName",type:"text",placeholder:"Enter first name..."}),(0,p.jsxs)("p",{children:[(0,p.jsx)("label",{children:"Last Name"})," "]}),(0,p.jsx)("input",{name:"lastName",type:"text",placeholder:"Enter last name..."}),(0,p.jsx)("p",{children:(0,p.jsx)("label",{children:"Email Address"})}),(0,p.jsx)("input",{name:"emailAddress",type:"text",placeholder:"Enter email address..."}),(0,p.jsxs)("p",{children:[" ",(0,p.jsx)("label",{children:"Address"})]}),(0,p.jsx)("input",{name:"address",type:"text",placeholder:"Enter Address..."}),(0,p.jsx)("p",{children:(0,p.jsx)("label",{children:"City"})}),(0,p.jsx)("input",{name:"city",type:"text",placeholder:"Enter City..."}),(0,p.jsx)("p",{children:(0,p.jsx)("label",{children:"Province"})}),(0,p.jsx)("input",{name:"province",type:"text",placeholder:"Enter Province"}),(0,p.jsx)("br",{}),"\xa0",(0,p.jsx)("br",{}),(0,p.jsx)("button",{type:"submit",style:{display:"block",backgroundColor:"purple",color:"white",borderRadius:"6px",cursor:"pointer"},children:"Sign In"})]})})})})}}]),n}(t.Component);function a_(e){return o_.apply(this,arguments)}function o_(){return(o_=Jt(tn().mark((function e(t){var n,r,i,a,o,u,s,l,c;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target,r=n.firstName.value,i=n.lastName.value,a=n.emailAddress.value,o=n.address.value,u=n.city.value,s=n.province.value,l=wa.firestore(),e.next=11,l.collection("User Details").add({firstName:r,lastName:i,emailAddress:a,address:o,city:u,province:s});case 11:c=e.sent,alert("Added User Information with id ".concat(c.id)),n.reset();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u_=i_;var s_=function(){return(0,p.jsx)("div",{children:(0,p.jsxs)(Te,{children:[(0,p.jsx)(Qt,{}),(0,p.jsxs)(Ce,{children:[(0,p.jsx)(be,{exact:!0,path:"/",render:function(){return(0,p.jsx)(ye,{to:"/Home"})}}),(0,p.jsx)(be,{exact:!0,path:"/Home",component:y}),(0,p.jsx)(be,{exact:!0,path:"/About",component:g}),(0,p.jsx)(be,{exact:!0,path:"/SWK",component:b}),(0,p.jsx)(be,{exact:!0,path:"/SignupForm",component:u_}),(0,p.jsx)(qe,{placeholder:"Search ...",data:Zt})]}),(0,p.jsx)(Yt,{})]})})},l_=n(781),c_="@firebase/database",f_="0.12.8",h_="";function d_(e){h_=e}var p_=function(){function e(t){r(this,e),this.domStorage_=t,this.prefix_="firebase:"}return a(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ur(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),v_=function(){function e(){r(this,e),this.cache_={},this.isInMemoryStorage=!0}return a(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Kr(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),y_=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new p_(t)}}catch(n){}return new v_},m_=y_("localStorage"),g_=y_("sessionStorage"),k_=new Ti("@firebase/database"),b_=function(){var e=1;return function(){return e++}}(),w_=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,wr(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Xr;n.update(t);var r=n.digest();return Sr.encodeByteArray(r)},__=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?zr(r):r,t+=" "}return t},x_=null,S_=!0,E_=function(e,t){wr(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(k_.logLevel=gi.VERBOSE,x_=k_.log.bind(k_),t&&g_.set("logging_enabled",!0)):"function"===typeof e?x_=e:(x_=null,g_.remove("logging_enabled"))},C_=function(){if(!0===S_&&(S_=!1,null===x_&&!0===g_.get("logging_enabled")&&E_(!0)),x_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=__.apply(null,t);x_(r)}},T_=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];C_.apply(void 0,[e].concat(n))}},I_=function(){var e="FIREBASE INTERNAL ERROR: "+__.apply(void 0,arguments);k_.error(e)},N_=function(){var e="FIREBASE FATAL ERROR: ".concat(__.apply(void 0,arguments));throw k_.error(e),new Error(e)},A_=function(){var e="FIREBASE WARNING: "+__.apply(void 0,arguments);k_.warn(e)},P_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},D_="[MIN_NAME]",R_="[MAX_NAME]",O_=function(e,t){if(e===t)return 0;if(e===D_||t===R_)return-1;if(t===D_||e===R_)return 1;var n=W_(e),r=W_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},L_=function(e,t){return e===t?0:e<t?-1:1},M_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+zr(t))},F_=function e(t){if("object"!==typeof t||null===t)return zr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=zr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},j_=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function V_(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var q_=function(e){wr(!P_(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var B_=new RegExp("^-?(0*)\\d{1,10}$"),U_=-2147483648,z_=2147483647,W_=function(e){if(B_.test(e)){var t=Number(e);if(t>=U_&&t<=z_)return t}return null},K_=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw A_("Exception was thrown by user callback.",e),t}),Math.floor(0))}},H_=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},G_=function(){function e(t,n){var i=this;r(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return i.appCheck=e}))}return a(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){A_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Q_=function(){function e(t,n,i){var a=this;r(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit((function(e){return a.auth_=e}))}return a(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(C_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',A_(e)}}]),e}(),$_=function(){function e(t){r(this,e),this.accessToken=t}return a(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();$_.OWNER="owner";var Y_="5",Z_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X_="websocket",J_="long_polling",ex=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];r(this,e),this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=m_.get("host:"+t)||this._host}return a(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&m_.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function tx(e,t,n){var r;if(wr("string"===typeof t,"typeof type must == string"),wr("object"===typeof n,"typeof params must == object"),t===X_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==J_)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return V_(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var nx=function(){function e(){r(this,e),this.counters_={}}return a(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Kr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ir(void 0,this.counters_)}}]),e}(),rx={},ix={};function ax(e){var t=e.toString();return rx[t]||(rx[t]=new nx),rx[t]}var ox=function(){function e(t){r(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return a(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&K_((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ux="start",sx="close",lx=function(){function e(t,n,i,a,o,u,s){var l=this;r(this,e),this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.transportSessionId=u,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T_(t),this.stats_=ax(n),this.urlFn=function(e){return l.appCheckToken&&(e.ac=l.appCheckToken),tx(n,J_,e)}}return a(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ox(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Lr()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new cx((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ux)n.id=a,n.password=o;else{if(i!==sx)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Y_,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Z_.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=zr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Er(t),r=j_(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Lr()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=zr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Lr()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),cx=function(){function e(t,n,i,a){if(r(this,e),this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Lr())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=b_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(s){C_("frame writing exception"),s.stack&&C_(s.stack),C_(s)}}}return a(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Lr()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){C_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),fx=null;"undefined"!==typeof MozWebSocket?fx=MozWebSocket:"undefined"!==typeof WebSocket&&(fx=WebSocket);var hx=function(){function e(t,n,i,a,o,u,s){r(this,e),this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T_(this.connId),this.stats_=ax(n),this.connURL=e.connectionURL_(n,u,s,a),this.nodeAdmin=n.nodeAdmin}return a(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,m_.set("previous_websocket_failure",!0);try{if(Lr()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(Y_,"/").concat(h_,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new fx(this.connURL,[],i)}else{var u={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new fx(this.connURL,[],u)}}catch(l){this.log_("Error instantiating WebSocket.");var s=l.message||l.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){m_.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ur(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(wr(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=zr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=j_(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=Y_,!Lr()&&"undefined"!==typeof location&&location.hostname&&Z_.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),tx(e,X_,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==fx&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return m_.isInMemoryStorage||!0===m_.get("previous_websocket_failure")}}]),e}();hx.responsesRequiredToBeHealthy=2,hx.healthyTimeout=3e4;var dx=function(){function e(t){r(this,e),this.initTransports_(t)}return a(e,[{key:"initTransports_",value:function(t){var n=hx&&hx.isAvailable(),r=n&&!hx.previouslyFailed();if(t.webSocketOnly&&(n||A_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[hx];else{var i,a=this.transports_=[],o=vr(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[lx,hx]}}]),e}(),px=function(){function e(t,n,i,a,o,u,s,l,c,f){r(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=o,this.onMessage_=u,this.onReady_=s,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T_("c:"+this.id+":"),this.transportManager_=new dx(n),this.log_("Connection created"),this.start_()}return a(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=H_((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=M_("t",e),n=M_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=M_("t",e),n=M_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=M_("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I_("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Y_!==n&&A_("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),H_((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):H_((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(m_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),vx=function(){function e(){r(this,e)}return a(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),yx=function(){function e(t){r(this,e),this.allowedEvents_=t,this.listeners_={},wr(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return a(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,di.Z)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){wr(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),mx=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Rr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return a(n,[{key:"getInitialEvent",value:function(e){return wr("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(yx),gx=function(){function e(t,n){if(r(this,e),void 0===n){this.pieces_=t.split("/");for(var i=0,a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return a(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function kx(){return new gx("")}function bx(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function wx(e){return e.pieces_.length-e.pieceNum_}function _x(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new gx(e.pieces_,t)}function xx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Sx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ex(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new gx(t,0)}function Cx(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof gx)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new gx(n,0)}function Tx(e){return e.pieceNum_>=e.pieces_.length}function Ix(e,t){var n=bx(e),r=bx(t);if(null===n)return t;if(n===r)return Ix(_x(e),_x(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Nx(e,t){for(var n=Sx(e,0),r=Sx(t,0),i=0;i<n.length&&i<r.length;i++){var a=O_(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Ax(e,t){if(wx(e)!==wx(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Px(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(wx(e)>wx(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Dx=a((function e(t,n){r(this,e),this.errorPrefix_=n,this.parts_=Sx(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=oi(this.parts_[i]);Rx(this)}));function Rx(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ox(e))}function Ox(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Lx=function(e){u(n,e);var t=d(n);function n(){var e,i,a;return r(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(a="visibilitychange",i="hidden"):"undefined"!==typeof document.mozHidden?(a="mozvisibilitychange",i="mozHidden"):"undefined"!==typeof document.msHidden?(a="msvisibilitychange",i="msHidden"):"undefined"!==typeof document.webkitHidden&&(a="webkitvisibilitychange",i="webkitHidden")),e.visible_=!0,a&&document.addEventListener(a,(function(){var t=!document[i];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return a(n,[{key:"getInitialEvent",value:function(e){return wr("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(yx),Mx=1e3,Fx=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s,l,c){var h;if(r(this,n),(h=t.call(this)).repoInfo_=e,h.applicationId_=i,h.onDataUpdate_=a,h.onConnectStatus_=o,h.onServerInfoUpdate_=u,h.authTokenProvider_=s,h.appCheckTokenProvider_=l,h.authOverride_=c,h.id=n.nextPersistentConnectionId_++,h.log_=T_("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Mx,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!Lr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Lx.getInstance().on("visible",h.onVisible_,f(h)),-1===e.host.indexOf("fblocal")&&mx.getInstance().on("online",h.onOnline_,f(h)),h}return a(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(zr(i)),wr(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Ar,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),wr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),wr(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Wr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Wr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),wr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+zr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I_("Unrecognized action received from server: "+zr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;wr(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mx,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mx),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Jt(tn().mark((function e(){var t,r,i,a,o,u,s,l,c,f,h,d,p,v,y=this;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,l=function(){s?s.close():(u=!0,i())},c=function(e){wr(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:l,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=(0,Fe.Z)(h,2),p=d[0],v=d[1],u?C_("getToken() completed but was canceled"):(C_("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,s=new px(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){A_(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&A_(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){C_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){C_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gr(this.interruptReasons_)&&(this.reconnectDelay_=Mx,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return F_(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new gx(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){C_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){C_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=vr(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=vr(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Lr()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+h_.replace(/\./g,"-")]=1,Rr()?e["framework.cordova"]=1:Or()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=mx.getInstance().currentlyOnline();return Gr(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Kr(e,"w")){var n=Hr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();A_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(vx);Fx.nextPersistentConnectionId_=0,Fx.nextConnectionId_=0;var jx,Vx=function(){function e(t,n){r(this,e),this.name=t,this.node=n}return a(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),qx=function(){function e(){r(this,e)}return a(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Vx(D_,e),r=new Vx(D_,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Vx.MIN}}]),e}(),Bx=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"compare",value:function(e,t){return O_(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw _r("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Vx.MIN}},{key:"maxPost",value:function(){return new Vx(R_,jx)}},{key:"makePost",value:function(e,t){return wr("string"===typeof e,"KeyIndex indexValue must always be a string."),new Vx(e,jx)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return jx},set:function(e){jx=e}}]),n}(qx),Ux=new Bx,zx=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,e),this.isReverse_=a,this.resultGenerator_=o,this.nodeStack_=[];for(var u=1;!t.isEmpty();)if(t=t,u=n?i(t.key,n):1,a&&(u*=-1),u<0)t=this.isReverse_?t.left:t.right;else{if(0===u){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return a(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Wx=function(){function e(t,n,i,a,o){r(this,e),this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=a?a:Gx.EMPTY_NODE,this.right=null!=o?o:Gx.EMPTY_NODE}return a(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Gx.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Gx.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Wx.RED=!0,Wx.BLACK=!1;var Kx,Hx=function(){function e(){r(this,e)}return a(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Wx(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Gx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;r(this,e),this.comparator_=t,this.root_=n}return a(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Wx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wx.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new zx(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new zx(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new zx(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new zx(this.root_,null,this.comparator_,!0,e)}}]),e}();function Qx(e,t){return O_(e.name,t.name)}function $x(e,t){return O_(e,t)}Gx.EMPTY_NODE=new Hx;var Yx,Zx,Xx,Jx=function(e){return"number"===typeof e?"number:"+q_(e):"string:"+e},eS=function(e){if(e.isLeafNode()){var t=e.val();wr("string"===typeof t||"number"===typeof t||"object"===typeof t&&Kr(t,".sv"),"Priority must be a string or number.")}else wr(e===Kx||e.isEmpty(),"priority of unexpected type.");wr(e===Kx||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},tS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;r(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,wr(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),eS(this.priorityNode_)}return a(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Tx(t)?this:".priority"===bx(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=bx(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(wr(".priority"!==r||1===wx(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(_x(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jx(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?q_(this.value_):this.value_,this.lazyHash_=w_(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(wr(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return wr(i>=0,"Unknown leaf type: "+n),wr(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Yx},set:function(e){Yx=e}}]),e}();tS.VALUE_TYPE_ORDER=["object","boolean","number","string"];var nS,rS,iS=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O_(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Vx.MIN}},{key:"maxPost",value:function(){return new Vx(R_,new tS("[PRIORITY-POST]",Xx))}},{key:"makePost",value:function(e,t){var n=Zx(e);return new Vx(t,new tS("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(qx),aS=new iS,oS=Math.log(2),uS=function(){function e(t){r(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/oS,10)),this.current_=this.count-1;var i,a=(i=this.count,parseInt(Array(i+1).join("1"),2));this.bits_=t+1&a}return a(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),sS=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Wx(o,a.node,Wx.BLACK,null,null);var s=parseInt(u/2,10)+r,l=t(r,s),c=t(s+1,i);return a=e[s],o=n?n(a):a,new Wx(o,a.node,Wx.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var l=i(a+1,u),c=e[a],f=n?n(c):c;s(new Wx(f,c.node,r,null,l))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?u(f,Wx.BLACK):(u(f,Wx.BLACK),u(f,Wx.RED))}return a}(new uS(e.length));return new Gx(r||t,a)},lS={},cS=function(){function e(t,n){r(this,e),this.indexes_=t,this.indexSet_=n}return a(e,[{key:"get",value:function(e){var t=Hr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Gx?t:null}},{key:"hasIndex",value:function(e){return Kr(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){wr(t!==Ux,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Vx.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?sS(i,t.getCompare()):lS;var s=t.toString(),l=Object.assign({},this.indexSet_);l[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Qr(this.indexes_,(function(e,i){var a=Hr(r.indexSet_,i);if(wr(a,"Missing index implementation for "+i),e===lS){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Vx.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),sS(o,a.getCompare())}return lS}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Vx(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Qr(this.indexes_,(function(e){if(e===lS)return e;var r=n.get(t.name);return r?e.remove(new Vx(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return wr(lS&&aS,"ChildrenNode.ts has not been loaded"),nS=nS||new e({".priority":lS},{".priority":aS})}}]),e}(),fS=function(){function e(t,n,i){r(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&eS(this.priorityNode_),this.children_.isEmpty()&&wr(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return a(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||rS}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?rS:t}},{key:"getChild",value:function(e){var t=bx(e);return null===t?this:this.getImmediateChild(t).getChild(_x(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(wr(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Vx(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?rS:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=bx(e);if(null===n)return t;wr(".priority"!==bx(e)||1===wx(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(_x(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(aS,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Jx(this.getPriority().val())+":"),this.forEachChild(aS,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":w_(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Vx(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Vx(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Vx(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Vx.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Vx.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hS?-1:0}},{key:"withIndex",value:function(t){if(t===Ux||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ux||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(aS),r=t.getIterator(aS),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ux?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return rS||(rS=new e(new Gx($x),null,cS.Default))}}]),e}();fS.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var hS=new(function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,new Gx($x),fS.EMPTY_NODE,cS.Default)}return a(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return fS.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(fS));Object.defineProperties(Vx,{MIN:{value:new Vx(D_,fS.EMPTY_NODE)},MAX:{value:new Vx(R_,hS)}}),Bx.__EMPTY_NODE=fS.EMPTY_NODE,tS.__childrenNodeConstructor=fS,Kx=hS,function(e){Xx=e}(hS);function dS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return fS.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),wr(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new tS(n,dS(t))}if(e instanceof Array){var r=fS.EMPTY_NODE;return V_(e,(function(t,n){if(Kr(e,t)&&"."!==t.substring(0,1)){var i=dS(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(dS(t))}var i=[],a=!1,o=e;if(V_(o,(function(e,t){if("."!==e.substring(0,1)){var n=dS(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Vx(e,n)))}})),0===i.length)return fS.EMPTY_NODE;var u=sS(i,Qx,(function(e){return e.name}),$x);if(a){var s=sS(i,aS.getCompare());return new fS(u,dS(t),new cS({".priority":s},{".priority":aS}))}return new fS(u,dS(t),cS.Default)}!function(e){Zx=e}(dS);var pS=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).indexPath_=e,wr(!Tx(e)&&".priority"!==bx(e),"Can't create PathIndex with empty path or .priority key"),i}return a(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O_(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=dS(e),r=fS.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vx(t,r)}},{key:"maxPost",value:function(){var e=fS.EMPTY_NODE.updateChild(this.indexPath_,hS);return new Vx(R_,e)}},{key:"toString",value:function(){return Sx(this.indexPath_,0).join("/")}}]),n}(qx),vS=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?O_(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Vx.MIN}},{key:"maxPost",value:function(){return Vx.MAX}},{key:"makePost",value:function(e,t){var n=dS(e);return new Vx(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(qx),yS=new vS,mS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gS=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=mS.charAt(n%64),n=Math.floor(n/64);wr(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=mS.charAt(t[r]);return wr(20===o.length,"nextPushId: Length should be 20."),o}}(),kS=function(e){if("2147483647"===e)return"-";var t=W_(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return R_;var a=n[i],o=mS.charAt(mS.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},bS=function(e){if("-2147483648"===e)return D_;var t=W_(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=mS.charAt(mS.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function wS(e){return{type:"value",snapshotNode:e}}function _S(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function xS(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function SS(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ES=function(){function e(t){r(this,e),this.index_=t}return a(e,[{key:"updateChild",value:function(e,t,n,r,i,a){wr(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(xS(t,o)):wr(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(_S(t,n)):a.trackChildChange(SS(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(aS,(function(e,r){t.hasChild(e)||n.trackChildChange(xS(e,r))})),t.isLeafNode()||t.forEachChild(aS,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(SS(t,r,i))}else n.trackChildChange(_S(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?fS.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),CS=function(){function e(t){r(this,e),this.indexedFilter_=new ES(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return a(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Vx(t,n))||(n=fS.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=fS.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(fS.EMPTY_NODE);var i=this;return t.forEachChild(aS,(function(e,t){i.matches(new Vx(e,t))||(r=r.updateImmediateChild(e,fS.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),TS=function(){function e(t){r(this,e),this.rangedFilter_=new CS(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return a(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Vx(t,n))||(n=fS.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=fS.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=fS.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(fS.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();l=function(e,t){return f(t,e)}}else c=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var h=0,d=!1;c.hasNext();){var p=c.getNext();!d&&l(u,p)<=0&&(d=!0),d&&h<this.limit_&&l(p,s)<=0?h++:r=r.updateImmediateChild(p.name,fS.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;wr(u.numChildren()===this.limit_,"");var s=new Vx(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(SS(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(xS(t,f));var p=u.updateImmediateChild(t,fS.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(_S(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:c&&a(l,s)>=0?(null!=i&&(i.trackChildChange(xS(l.name,l.node)),i.trackChildChange(_S(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,fS.EMPTY_NODE)):e}}]),e}(),IS=function(){function e(){r(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=aS}return a(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return wr(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return wr(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:D_}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return wr(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return wr(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R_}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return wr(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===aS}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function NS(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function AS(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function PS(e,t){var n=e.copy();return n.index_=t,n}function DS(e){var t,n={};return e.isDefault()||(e.index_===aS?t="$priority":e.index_===yS?t="$value":e.index_===Ux?t="$key":(wr(e.index_ instanceof pS,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=zr(t),e.startSet_&&(n.startAt=zr(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+zr(e.indexStartName_))),e.endSet_&&(n.endAt=zr(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+zr(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function RS(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==aS&&(t.i=e.index_.toString()),t}var OS=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u;return r(this,n),(u=t.call(this)).repoInfo_=e,u.onDataUpdate_=i,u.authTokenProvider_=a,u.appCheckTokenProvider_=o,u.log_=T_("p:rest:"),u.listens_={},u}return a(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var l=DS(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Hr(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=DS(e._queryParams),r=e._path.toString(),i=new Ar;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=(0,Fe.Z)(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Zr(n);t.log_("Sending REST request for "+s);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Ur(l.responseText)}catch(n){A_("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&A_("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(wr(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(vx),LS=function(){function e(){r(this,e),this.rootNode_=fS.EMPTY_NODE}return a(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function MS(){return{value:null,children:new Map}}function FS(e,t,n){if(Tx(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=bx(t);e.children.has(r)||e.children.set(r,MS()),FS(e.children.get(r),t=_x(t),n)}}function jS(e,t){if(Tx(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(aS,(function(t,n){FS(e,new gx(t),n)})),jS(e,t)}if(e.children.size>0){var r=bx(t);if(t=_x(t),e.children.has(r))jS(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function VS(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){VS(r,new gx(t.toString()+"/"+e),n)}))}var qS,BS=function(){function e(t){r(this,e),this.collection_=t,this.last_=null}return a(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&V_(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),US=function(){function e(t,n){r(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new BS(t);var i=1e4+2e4*Math.random();H_(this.reportStats_.bind(this),Math.floor(i))}return a(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;V_(t,(function(t,i){i>0&&Kr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),H_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function zS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(qS||(qS={}));var WS,KS=function(){function e(t,n,i){r(this,e),this.path=t,this.affectedTree=n,this.revert=i,this.type=qS.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return a(e,[{key:"operationForChild",value:function(t){if(Tx(this.path)){if(null!=this.affectedTree.value)return wr(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new gx(t));return new e(kx(),n,this.revert)}return wr(bx(this.path)===t,"operationForChild called for unrelated child."),new e(_x(this.path),this.affectedTree,this.revert)}}]),e}(),HS=function(){function e(t,n){r(this,e),this.source=t,this.path=n,this.type=qS.LISTEN_COMPLETE}return a(e,[{key:"operationForChild",value:function(t){return Tx(this.path)?new e(this.source,kx()):new e(this.source,_x(this.path))}}]),e}(),GS=function(){function e(t,n,i){r(this,e),this.source=t,this.path=n,this.snap=i,this.type=qS.OVERWRITE}return a(e,[{key:"operationForChild",value:function(t){return Tx(this.path)?new e(this.source,kx(),this.snap.getImmediateChild(t)):new e(this.source,_x(this.path),this.snap)}}]),e}(),QS=function(){function e(t,n,i){r(this,e),this.source=t,this.path=n,this.children=i,this.type=qS.MERGE}return a(e,[{key:"operationForChild",value:function(t){if(Tx(this.path)){var n=this.children.subtree(new gx(t));return n.isEmpty()?null:n.value?new GS(this.source,kx(),n.value):new e(this.source,kx(),n)}return wr(bx(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,_x(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),$S=function(){function e(t,n,i){r(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=i}return a(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Tx(e))return this.isFullyInitialized()&&!this.filtered_;var t=bx(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),YS=a((function e(t){r(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function ZS(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw _r("Should only compare child_ events.");var r=new Vx(t.childName,t.snapshotNode),i=new Vx(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function XS(e,t){return{eventCache:e,serverCache:t}}function JS(e,t,n,r){return XS(new $S(t,n,r),e.serverCache)}function eE(e,t,n,r){return XS(e.eventCache,new $S(t,n,r))}function tE(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function nE(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var rE=function(){return WS||(WS=new Gx(L_)),WS},iE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rE();r(this,e),this.value=t,this.children=n}return a(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:kx(),value:this.value};if(Tx(e))return null;var n=bx(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(_x(e),t);return null!=i?{path:Cx(new gx(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Tx(t))return this;var n=bx(t),r=this.children.get(n);return null!==r?r.subtree(_x(t)):new e(null)}},{key:"set",value:function(t,n){if(Tx(t))return new e(n,this.children);var r=bx(t),i=(this.children.get(r)||new e(null)).set(_x(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Tx(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=bx(t),r=this.children.get(n);if(r){var i,a=r.remove(_x(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Tx(e))return this.value;var t=bx(e),n=this.children.get(t);return n?n.get(_x(e)):null}},{key:"setTree",value:function(t,n){if(Tx(t))return n;var r,i=bx(t),a=(this.children.get(i)||new e(null)).setTree(_x(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(kx(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Cx(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,kx(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Tx(e))return null;var i=bx(e),a=this.children.get(i);return a?a.findOnPath_(_x(e),Cx(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,kx(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Tx(t))return this;this.value&&r(n,this.value);var i=bx(t),a=this.children.get(i);return a?a.foreachOnPath_(_x(t),Cx(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(kx(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Cx(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return V_(t,(function(e,t){n=n.set(new gx(e),t)})),n}}]),e}(),aE=function(){function e(t){r(this,e),this.writeTree_=t}return a(e,null,[{key:"empty",value:function(){return new e(new iE(null))}}]),e}();function oE(e,t,n){if(Tx(t))return new aE(new iE(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Ix(i,t);return a=a.updateChild(o,n),new aE(e.writeTree_.set(i,a))}var u=new iE(n),s=e.writeTree_.setTree(t,u);return new aE(s)}function uE(e,t,n){var r=e;return V_(n,(function(e,n){r=oE(r,Cx(t,e),n)})),r}function sE(e,t){if(Tx(t))return aE.empty();var n=e.writeTree_.setTree(t,new iE(null));return new aE(n)}function lE(e,t){return null!=cE(e,t)}function cE(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ix(n.path,t)):null}function fE(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(aS,(function(e,n){t.push(new Vx(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Vx(e,n.value))})),t}function hE(e,t){if(Tx(t))return e;var n=cE(e,t);return new aE(null!=n?new iE(n):e.writeTree_.subtree(t))}function dE(e){return e.writeTree_.isEmpty()}function pE(e,t){return vE(kx(),e.writeTree_,t)}function vE(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(wr(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=vE(Cx(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Cx(e,".priority"),r)),n}function yE(e,t){return AE(t,e)}function mE(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function gE(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));wr(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&kE(u,r.path)?i=!1:Px(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=wE(e.allWrites,bE,kx()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=sE(e.visibleWrites,r.path):V_(r.children,(function(t){e.visibleWrites=sE(e.visibleWrites,Cx(r.path,t))}));return!0}return!1}function kE(e,t){if(e.snap)return Px(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Px(Cx(e.path,n),t))return!0;return!1}function bE(e){return e.visible}function wE(e,t,n){for(var r=aE.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Px(n,o)?r=oE(r,u=Ix(n,o),a.snap):Px(o,n)&&(u=Ix(o,n),r=oE(r,kx(),a.snap.getChild(u)));else{if(!a.children)throw _r("WriteRecord should have .snap or .children");if(Px(n,o))r=uE(r,u=Ix(n,o),a.children);else if(Px(o,n))if(Tx(u=Ix(o,n)))r=uE(r,kx(),a.children);else{var s=Hr(a.children,bx(u));if(s){var l=s.getChild(_x(u));r=oE(r,kx(),l)}}}}}return r}function _E(e,t,n,r,i){if(r||i){var a=hE(e.visibleWrites,t);if(!i&&dE(a))return n;if(i||null!=n||lE(a,kx())){return pE(wE(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Px(e.path,t)||Px(t,e.path))}),t),n||fS.EMPTY_NODE)}return null}var o=cE(e.visibleWrites,t);if(null!=o)return o;var u=hE(e.visibleWrites,t);return dE(u)?n:null!=n||lE(u,kx())?pE(u,n||fS.EMPTY_NODE):null}function xE(e,t,n,r){return _E(e.writeTree,e.treePath,t,n,r)}function SE(e,t){return function(e,t,n){var r=fS.EMPTY_NODE,i=cE(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(aS,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=hE(e.visibleWrites,t);return n.forEachChild(aS,(function(e,t){var n=pE(hE(a,new gx(e)),t);r=r.updateImmediateChild(e,n)})),fE(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return fE(hE(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function EE(e,t,n,r){return function(e,t,n,r,i){wr(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Cx(t,n);if(lE(e.visibleWrites,a))return null;var o=hE(e.visibleWrites,a);return dE(o)?i.getChild(n):pE(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function CE(e,t){return function(e,t){return cE(e.visibleWrites,t)}(e.writeTree,Cx(e.treePath,t))}function TE(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=hE(e.visibleWrites,t),l=cE(s,kx());if(null!=l)u=l;else{if(null==n)return[];u=pE(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function IE(e,t,n){return function(e,t,n,r){var i=Cx(t,n),a=cE(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?pE(hE(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function NE(e,t){return AE(Cx(e.treePath,t),e.writeTree)}function AE(e,t){return{treePath:e,writeTree:t}}var PE=function(){function e(){r(this,e),this.changeMap=new Map}return a(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;wr("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),wr(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,SS(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,xS(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,_S(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw _r("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,SS(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),DE=new(function(){function e(){r(this,e)}return a(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),RE=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}return a(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new $S(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IE(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nE(this.viewCache_),i=TE(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function OE(e,t,n,r,i){var a,o,u=new PE;if(n.type===qS.OVERWRITE){var s=n;s.source.fromUser?a=FE(e,t,s.path,s.snap,r,i,u):(wr(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Tx(s.path),a=ME(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===qS.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var l=Cx(n,r);jE(t,bx(l))&&(u=FE(e,u,l,s,i,a,o))})),r.foreach((function(r,s){var l=Cx(n,r);jE(t,bx(l))||(u=FE(e,u,l,s,i,a,o))})),u}(e,t,l.path,l.children,r,i,u):(wr(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=qE(e,t,l.path,l.children,r,i,o,u))}else if(n.type===qS.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=CE(r,n))return t;var u,s=new RE(r,t,i),l=t.eventCache.getNode();if(Tx(n)||".priority"===bx(n)){var c;if(t.serverCache.isFullyInitialized())c=xE(r,nE(t));else{var f=t.serverCache.getNode();wr(f instanceof fS,"serverChildren would be complete if leaf node"),c=SE(r,f)}c=c,u=e.filter.updateFullNode(l,c,a)}else{var h=bx(n),d=IE(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(l,h,d,_x(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,fS.EMPTY_NODE,_x(n),s,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=xE(r,nE(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=CE(r,kx()),JS(t,u,o,e.filter.filtersNodes())}(e,t,c.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=CE(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Tx(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return ME(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Tx(n)){var l=new iE(null);return s.getNode().forEachChild(Ux,(function(e,t){l=l.set(new gx(e),t)})),qE(e,t,n,l,i,a,u,o)}return t}var c=new iE(null);return r.foreach((function(e,t){var r=Cx(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),qE(e,t,n,c,i,a,u,o)}(e,t,c.path,c.affectedTree,r,i,u)}else{if(n.type!==qS.LISTEN_COMPLETE)throw _r("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=eE(t,a.getNode(),a.isFullyInitialized()||Tx(n),a.isFiltered());return LE(e,o,n,r,DE,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=tE(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(wS(tE(t)))}}(t,a,f),{viewCache:a,changes:f}}function LE(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=CE(r,n))return t;if(Tx(n))if(wr(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=nE(t),c=SE(r,l instanceof fS?l:fS.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=xE(r,nE(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=bx(n);if(".priority"===h){wr(1===wx(n),"Can't have a priority with additional path components");var d=s.getNode(),p=EE(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,y=_x(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var m=EE(r,n,s.getNode(),u);v=null!=m?s.getNode().getImmediateChild(h).updateChild(y,m):s.getNode().getImmediateChild(h)}else v=IE(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,y,i,a):s.getNode()}}return JS(t,o,s.isFullyInitialized()||Tx(n),e.filter.filtersNodes())}function ME(e,t,n,r,i,a,o,u){var s,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Tx(n))s=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);s=c.updateFullNode(l.getNode(),f,null)}else{var h=bx(n);if(!l.isCompleteForPath(n)&&wx(n)>1)return t;var d=_x(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,DE,null)}var v=eE(t,s,l.isFullyInitialized()||Tx(n),c.filtersNodes());return LE(e,v,n,i,new RE(i,v,a),u)}function FE(e,t,n,r,i,a,o){var u,s,l=t.eventCache,c=new RE(i,t,a);if(Tx(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=JS(t,s,!0,e.filter.filtersNodes());else{var f=bx(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=JS(t,s,l.isFullyInitialized(),l.isFiltered());else{var h,d=_x(n),p=l.getNode().getImmediateChild(f);if(Tx(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===xx(d)&&v.getChild(Ex(d)).isEmpty()?v:v.updateChild(d,r):fS.EMPTY_NODE}if(p.equals(h))u=t;else u=JS(t,e.filter.updateChild(l.getNode(),f,h,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function jE(e,t){return e.eventCache.isCompleteForChild(t)}function VE(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function qE(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,l=t;s=Tx(n)?r:new iE(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=VE(0,t.serverCache.getNode().getImmediateChild(n),r);l=ME(e,l,new gx(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!s){var f=VE(0,t.serverCache.getNode().getImmediateChild(n),r);l=ME(e,l,new gx(n),f,i,a,o,u)}})),l}var BE,UE=function(){function e(t,n){r(this,e),this.query_=t,this.eventRegistrations_=[];var i,a=this.query_._queryParams,o=new ES(a.getIndex()),u=(i=a).loadsAllData()?new ES(i.getIndex()):i.hasLimit()?new TS(i):new CS(i);this.processor_=function(e){return{filter:e}}(u);var s=n.serverCache,l=n.eventCache,c=o.updateFullNode(fS.EMPTY_NODE,s.getNode(),null),f=u.updateFullNode(fS.EMPTY_NODE,l.getNode(),null),h=new $S(c,s.isFullyInitialized(),o.filtersNodes()),d=new $S(f,l.isFullyInitialized(),u.filtersNodes());this.viewCache_=XS(d,h),this.eventGenerator_=new YS(this.query_)}return a(e,[{key:"query",get:function(){return this.query_}}]),e}();function zE(e,t){var n=nE(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Tx(t)&&!n.getImmediateChild(bx(t)).isEmpty())?n.getChild(t):null}function WE(e){return 0===e.eventRegistrations_.length}function KE(e,t,n){var r=[];if(n){wr(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function HE(e,t,n,r){t.type===qS.MERGE&&null!==t.source.queryId&&(wr(nE(e.viewCache_),"We should always have a full cache before handling merges"),wr(tE(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=OE(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,wr(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),wr(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),wr(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,GE(e,u.changes,u.viewCache.eventCache.getNode(),null)}function GE(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),ZS(e,i,"child_removed",t,r,n),ZS(e,i,"child_added",t,r,n),ZS(e,i,"child_moved",a,r,n),ZS(e,i,"child_changed",t,r,n),ZS(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var QE,$E=a((function e(){r(this,e),this.views=new Map}));function YE(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return wr(null!=a,"SyncTree gave us an op for an invalid query."),HE(a,t,n,r)}var o,u=[],s=vr(e.views.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u=u.concat(HE(l,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return u}function ZE(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=xE(n,i?r:null),s=!1;u?s=!0:r instanceof fS?(u=SE(n,r),s=!1):(u=fS.EMPTY_NODE,s=!1);var l=XS(new $S(u,s,!1),new $S(r,i,!1));return new UE(t,l)}return o}function XE(e,t,n,r,i,a){var o=ZE(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(aS,(function(e,t){r.push(_S(e,t))})),n.isFullyInitialized()&&r.push(wS(n.getNode())),GE(e,r,n.getNode(),t)}(o,n)}function JE(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],u=iC(e);if("default"===i){var s,l=vr(e.views.entries());try{for(l.s();!(s=l.n()).done;){var c=(0,Fe.Z)(s.value,2),f=c[0],h=c[1];o=o.concat(KE(h,n,r)),WE(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(p){l.e(p)}finally{l.f()}}else{var d=e.views.get(i);d&&(o=o.concat(KE(d,n,r)),WE(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return u&&!iC(e)&&a.push(new(wr(BE,"Reference.ts has not been loaded"),BE)(t._repo,t._path)),{removed:a,events:o}}function eC(e){var t,n=[],r=vr(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function tC(e,t){var n,r=null,i=vr(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||zE(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function nC(e,t){if(t._queryParams.loadsAllData())return aC(e);var n=t._queryIdentifier;return e.views.get(n)}function rC(e,t){return null!=nC(e,t)}function iC(e){return null!=aC(e)}function aC(e){var t,n=vr(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var oC=1,uC=a((function e(t){r(this,e),this.listenProvider_=t,this.syncPointTree_=new iE(null),this.pendingWriteTree_={visibleWrites:aE.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function sC(e,t,n,r,i){return function(e,t,n,r,i){wr(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=oE(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?yC(e,new GS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function lC(e,t,n,r){!function(e,t,n,r){wr(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=uE(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=iE.fromObject(n);return yC(e,new QS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function cC(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=mE(e.pendingWriteTree_,t),i=gE(e.pendingWriteTree_,t);if(i){var a=new iE(null);return null!=r.snap?a=a.set(kx(),!0):V_(r.children,(function(e){a=a.set(new gx(e),!0)})),yC(e,new KS(r.path,a,n))}return[]}function fC(e,t,n){return yC(e,new GS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function hC(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||rC(a,t))){var u=JE(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var s=u.removed;o=u.events;var l=-1!==s.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return iC(t)}));if(l&&!c){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&iC(t))return[aC(t)];var r=[];return t&&(r=eC(t)),V_(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,y=kC(e,p);e.listenProvider_.startListening(EC(v),bC(e,v),y.hashFn,y.onComplete)}}if(!c&&s.length>0&&!r)if(l){e.listenProvider_.stopListening(EC(t),null)}else s.forEach((function(t){var n=e.queryToTagMap.get(wC(t));e.listenProvider_.stopListening(EC(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=wC(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,s)}return o}function dC(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ix(e,r);i=i||tC(t,n),a=a||iC(t)}));var o,u=e.syncPointTree_.get(r);(u?(a=a||iC(u),i=i||tC(u,kx())):(u=new $E,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?o=!0:(o=!1,i=fS.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=tC(t,kx());n&&(i=i.updateImmediateChild(e,n))})));var s=rC(u,t);if(!s&&!t._queryParams.loadsAllData()){var l=wC(t);wr(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=oC++;e.queryToTagMap.set(l,c),e.tagToQueryMap.set(c,l)}var f=XE(u,t,n,yE(e.pendingWriteTree_,r),i,o);if(!s&&!a){var h=nC(u,t);f=f.concat(function(e,t,n){var r=t._path,i=bC(e,t),a=kC(e,n),o=e.listenProvider_.startListening(EC(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)wr(!iC(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!Tx(e)&&t&&iC(t))return[aC(t).query];var r=[];return t&&(r=r.concat(eC(t).map((function(e){return e.query})))),V_(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<s.length;++l){var c=s[l];e.listenProvider_.stopListening(EC(c),bC(e,c))}return o}(e,t,h))}return f}function pC(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=tC(n,Ix(e,t));if(r)return r}));return _E(r,t,i,n,!0)}function vC(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ix(e,n);r=r||tC(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||tC(i,kx()):(i=new $E,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new $S(r,!0,!1):null;return function(e){return tE(e.viewCache_)}(ZE(i,t,yE(e.pendingWriteTree_,t._path),a?o.getNode():fS.EMPTY_NODE,a))}function yC(e,t){return mC(t,e.syncPointTree_,null,yE(e.pendingWriteTree_,kx()))}function mC(e,t,n,r){if(Tx(e.path))return gC(e,t,n,r);var i=t.get(kx());null==n&&null!=i&&(n=tC(i,kx()));var a=[],o=bx(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var l=n?n.getImmediateChild(o):null,c=NE(r,o);a=a.concat(mC(u,s,l,c))}return i&&(a=a.concat(YE(i,e,r,n))),a}function gC(e,t,n,r){var i=t.get(kx());null==n&&null!=i&&(n=tC(i,kx()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=NE(r,t),s=e.operationForChild(t);s&&(a=a.concat(gC(s,i,o,u)))})),i&&(a=a.concat(YE(i,e,r,n))),a}function kC(e,t){var n=t.query,r=bC(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||fS.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=_C(e,n);if(r){var i=xC(r),a=i.path,o=i.queryId,u=Ix(a,t);return SC(e,a,new HS(zS(o),u))}return[]}(e,n._path,r):function(e,t){return yC(e,new HS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return hC(e,n,null,i)}}}function bC(e,t){var n=wC(t);return e.queryToTagMap.get(n)}function wC(e){return e._path.toString()+"$"+e._queryIdentifier}function _C(e,t){return e.tagToQueryMap.get(t)}function xC(e){var t=e.indexOf("$");return wr(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new gx(e.substr(0,t))}}function SC(e,t,n){var r=e.syncPointTree_.get(t);return wr(r,"Missing sync point for query tag that we're tracking"),YE(r,n,yE(e.pendingWriteTree_,t),null)}function EC(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(wr(QE,"Reference.ts has not been loaded"),QE)(e._repo,e._path):e}var CC=function(){function e(t){r(this,e),this.node_=t}return a(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),TC=function(){function e(t,n){r(this,e),this.syncTree_=t,this.path_=n}return a(e,[{key:"getImmediateChild",value:function(t){var n=Cx(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return pC(this.syncTree_,this.path_)}}]),e}(),IC=function(e,t,n){return e&&"object"===typeof e?(wr(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?NC(e[".sv"],t,n):"object"===typeof e[".sv"]?AC(e[".sv"],t):void wr(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},NC=function(e,t,n){if("timestamp"===e)return n.timestamp;wr(!1,"Unexpected server value: "+e)},AC=function(e,t,n){e.hasOwnProperty("increment")||wr(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&wr(!1,"Unexpected increment value: "+r);var i=t.node();if(wr(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},PC=function(e,t,n,r){return RC(t,new TC(n,e),r)},DC=function(e,t,n){return RC(e,new CC(t),n)};function RC(e,t,n){var r,i=e.getPriority().val(),a=IC(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=IC(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new tS(u,dS(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new tS(a))),s.forEachChild(aS,(function(e,i){var a=RC(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var OC=a((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};r(this,e),this.name=t,this.parent=n,this.node=i}));function LC(e,t){for(var n=t instanceof gx?t:new gx(t),r=e,i=bx(n);null!==i;){var a=Hr(r.node.children,i)||{children:{},childCount:0};r=new OC(i,r,a),i=bx(n=_x(n))}return r}function MC(e){return e.node.value}function FC(e,t){e.node.value=t,UC(e)}function jC(e){return e.node.childCount>0}function VC(e,t){V_(e.node.children,(function(n,r){t(new OC(n,e,r))}))}function qC(e,t,n,r){n&&!r&&t(e),VC(e,(function(e){qC(e,t,!0,r)})),n&&r&&t(e)}function BC(e){return new gx(null===e.parent?e.name:BC(e.parent)+"/"+e.name)}function UC(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===MC(e)&&!jC(e)}(n),i=Kr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,UC(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,UC(e))}(e.parent,e.name,e)}var zC=/[\[\].#$\/\u0000-\u001F\u007F]/,WC=/[\[\].#$\u0000-\u001F\u007F]/,KC=10485760,HC=function(e){return"string"===typeof e&&0!==e.length&&!zC.test(e)},GC=function(e){return"string"===typeof e&&0!==e.length&&!WC.test(e)},QC=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!P_(e)||e&&"object"===typeof e&&Kr(e,".sv")},$C=function(e,t,n,r){r&&void 0===t||YC(ri(e,"value"),t,n)},YC=function e(t,n,r){var i=r instanceof gx?new Dx(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ox(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ox(i)+" with contents = "+n.toString());if(P_(n))throw new Error(t+"contains "+n.toString()+" "+Ox(i));if("string"===typeof n&&n.length>KC/3&&oi(n)>KC)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Ox(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(V_(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!HC(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ox(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=oi(s),Rx(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=oi(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Ox(i)+" in addition to actual children.")}},ZC=function(e,t,n,r){if(!r||void 0!==t){var i=ri(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];V_(t,(function(e,t){var r=new gx(e);if(YC(i,t,Cx(n,r)),".priority"===xx(r)&&!QC(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Sx(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!HC(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Nx);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Px(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},XC=function(e,t,n){if(!n||void 0!==t){if(P_(t))throw new Error(ri(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!QC(t))throw new Error(ri(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},JC=function(e,t,n,r){if((!r||void 0!==n)&&!HC(n))throw new Error(ri(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},eT=function(e,t,n,r){if((!r||void 0!==n)&&!GC(n))throw new Error(ri(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},tT=function(e,t){if(".info"===bx(t))throw new Error(e+" failed = Can't modify data under /.info/")},nT=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!HC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),GC(e)}(n))throw new Error(ri(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},rT=a((function e(){r(this,e),this.eventLists_=[],this.recursionDepth_=0}));function iT(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Ax(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function aT(e,t,n){iT(e,n),uT(e,(function(e){return Ax(e,t)}))}function oT(e,t,n){iT(e,n),uT(e,(function(e){return Px(e,t)||Px(t,e)}))}function uT(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(sT(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function sT(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();x_&&C_("event: "+n.toString()),K_(r)}}}var lT="repo_interrupt",cT=function(){function e(t,n,i,a){r(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=MS(),this.transactionQueueTree_=new OC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return a(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function fT(e,t,n){if(e.stats_=ax(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new OS(e.repoInfo_,(function(t,n,r,i){pT(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return vT(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Fx(e.repoInfo_,t,(function(t,n,r,i){pT(e,t,n,r,i)}),(function(t){vT(e,t)}),(function(t){!function(e,t){V_(t,(function(t,n){yT(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ix[n]||(ix[n]=t()),ix[n]}(e.repoInfo_,(function(){return new US(e.stats_,e.server_)})),e.infoData_=new LS,e.infoSyncTree_=new uC({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=fC(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),yT(e,"connected",!1),e.serverSyncTree_=new uC({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);oT(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function hT(e){var t=e.infoData_.getNode(new gx(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function dT(e){return(t=(t={timestamp:hT(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function pT(e,t,n,r,i){e.dataUpdateCount++;var a=new gx(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Qr(n,(function(e){return dS(e)}));o=function(e,t,n,r){var i=_C(e,r);if(i){var a=xC(i),o=a.path,u=a.queryId,s=Ix(o,t),l=iE.fromObject(n);return SC(e,o,new QS(zS(u),s,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=dS(n);o=function(e,t,n,r){var i=_C(e,r);if(null!=i){var a=xC(i),o=a.path,u=a.queryId,s=Ix(o,t);return SC(e,o,new GS(zS(u),s,n))}return[]}(e.serverSyncTree_,a,s,i)}else if(r){var l=Qr(n,(function(e){return dS(e)}));o=function(e,t,n){var r=iE.fromObject(n);return yC(e,new QS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=dS(n);o=fC(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=IT(e,a)),oT(e.eventQueue_,f,o)}function vT(e,t){yT(e,"connected",t),!1===t&&function(e){xT(e,"onDisconnectEvents");var t=dT(e),n=MS();VS(e.onDisconnect_,kx(),(function(r,i){var a=PC(r,i,e.serverSyncTree_,t);FS(n,r,a)}));var r=[];VS(n,kx(),(function(t,n){r=r.concat(fC(e.serverSyncTree_,t,n));var i=RT(e,t);IT(e,i)})),e.onDisconnect_=MS(),oT(e.eventQueue_,kx(),r)}(e)}function yT(e,t,n){var r=new gx("/.info/"+t),i=dS(n);e.infoData_.updateSnapshot(r,i);var a=fC(e.infoSyncTree_,r,i);oT(e.eventQueue_,r,a)}function mT(e){return e.nextWriteId_++}function gT(e,t,n,r,i){xT(e,"set",{path:t.toString(),value:n,priority:r});var a=dT(e),o=dS(n,r),u=pC(e.serverSyncTree_,t),s=DC(o,u,a),l=mT(e),c=sC(e.serverSyncTree_,t,s,l,!0);iT(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||A_("set at "+t+" failed: "+n);var o=cC(e.serverSyncTree_,l,!a);oT(e.eventQueue_,t,o),ST(e,i,n,r)}));var f=RT(e,t);IT(e,f),oT(e.eventQueue_,f,[])}function kT(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&jS(e.onDisconnect_,t),ST(e,n,r,i)}))}function bT(e,t,n,r){var i=dS(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&FS(e.onDisconnect_,t,i),ST(e,r,n,a)}))}function wT(e,t,n){var r;r=".info"===bx(t._path)?hC(e.infoSyncTree_,t,n):hC(e.serverSyncTree_,t,n),aT(e.eventQueue_,t._path,r)}function _T(e){e.persistentConnection_&&e.persistentConnection_.interrupt(lT)}function xT(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C_.apply(void 0,[t].concat(r))}function ST(e,t,n,r){t&&K_((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function ET(e,t,n){return pC(e.serverSyncTree_,t,n)||fS.EMPTY_NODE}function CT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||DT(e,t),MC(t)){var n=AT(e,t);wr(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&TT(e,BC(t),n)}else jC(t)&&VC(t,(function(t){CT(e,t)}))}function TT(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ET(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];wr(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var l=Ix(t,s.path);a=a.updateChild(l,s.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){xT(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(cC(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);DT(e,LC(e.transactionQueueTree_,t)),CT(e,e.transactionQueueTree_),oT(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)K_(a[s])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{A_("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}IT(e,t)}}),o)}function IT(e,t){var n=NT(e,t),r=BC(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s=t[a],l=Ix(n,s.path),c=!1,f=void 0;if(wr(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)c=!0,f=s.abortReason,i=i.concat(cC(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)c=!0,f="maxretry",i=i.concat(cC(e.serverSyncTree_,s.currentWriteId,!0));else{var h=ET(e,s.path,o);s.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){YC("transaction failed: Data returned ",d,s.path);var p=dS(d);"object"===typeof d&&null!=d&&Kr(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,y=dT(e),m=DC(p,h,y);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=m,s.currentWriteId=mT(e),o.splice(o.indexOf(v),1),i=(i=i.concat(sC(e.serverSyncTree_,s.path,m,s.currentWriteId,s.applyLocally))).concat(cC(e.serverSyncTree_,v,!0))}else c=!0,f="nodata",i=i.concat(cC(e.serverSyncTree_,s.currentWriteId,!0))}oT(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)u(s);DT(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)K_(r[l]);CT(e,e.transactionQueueTree_)}(e,AT(e,n),r),r}function NT(e,t){var n,r=e.transactionQueueTree_;for(n=bx(t);null!==n&&void 0===MC(r);)r=LC(r,n),n=bx(t=_x(t));return r}function AT(e,t){var n=[];return PT(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function PT(e,t,n){var r=MC(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);VC(t,(function(t){PT(e,t,n)}))}function DT(e,t){var n=MC(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,FC(t,n.length>0?n:void 0)}VC(t,(function(t){DT(e,t)}))}function RT(e,t){var n=BC(NT(e,t)),r=LC(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){OT(e,t)})),OT(e,r),qC(r,(function(t){OT(e,t)})),n}function OT(e,t){var n=MC(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(wr(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(wr(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cC(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?FC(t,void 0):n.length=a+1,oT(e.eventQueue_,BC(t),i);for(var u=0;u<r.length;u++)K_(r[u])}}var LT=function(e,t){var n=MT(e),r=n.namespace;"firebase.com"===n.domain&&N_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||N_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ex(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new gx(n.pathString)}},MT=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=vr(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):A_("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},FT=function(){function e(t,n,i,a){r(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=a}return a(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+zr(this.snapshot.exportVal())}}]),e}(),jT=function(){function e(t,n,i){r(this,e),this.eventRegistration=t,this.error=n,this.path=i}return a(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),VT=function(){function e(t,n){r(this,e),this.snapshotCallback=t,this.cancelCallback=n}return a(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return wr(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),qT=function(){function e(t,n){r(this,e),this._repo=t,this._path=n}return a(e,[{key:"cancel",value:function(){var e=new Ar;return kT(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){tT("OnDisconnect.remove",this._path);var e=new Ar;return bT(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){tT("OnDisconnect.set",this._path),$C("OnDisconnect.set",e,this._path,!1);var t=new Ar;return bT(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){tT("OnDisconnect.setWithPriority",this._path),$C("OnDisconnect.setWithPriority",e,this._path,!1),XC("OnDisconnect.setWithPriority",t,!1);var n=new Ar;return function(e,t,n,r,i){var a=dS(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&FS(e.onDisconnect_,t,a),ST(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){tT("OnDisconnect.update",this._path),ZC("OnDisconnect.update",e,this._path,!1);var t=new Ar;return function(e,t,n,r){if(Gr(n))return C_("onDisconnect().update() called with empty data.  Don't do anything."),void ST(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&V_(n,(function(n,r){var i=dS(r);FS(e.onDisconnect_,Cx(t,n),i)})),ST(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),BT=function(){function e(t,n,i,a){r(this,e),this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=a}return a(e,[{key:"key",get:function(){return Tx(this._path)?null:xx(this._path)}},{key:"ref",get:function(){return new KT(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=RS(this._queryParams),t=F_(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return RS(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ui(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ax(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function UT(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function zT(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ux){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==D_)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==R_)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===aS){if(null!=t&&!QC(t)||null!=n&&!QC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(wr(e.getIndex()instanceof pS||e.getIndex()===yS,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function WT(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var KT=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,i,new IS,!1)}return a(n,[{key:"parent",get:function(){var e=Ex(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(BT),HT=function(){function e(t,n,i){r(this,e),this._node=t,this.ref=n,this._index=i}return a(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new gx(t),r=$T(this.ref,t);return new e(this._node.getChild(n),r,aS)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,$T(n.ref,r),aS))}))}},{key:"hasChild",value:function(e){var t=new gx(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function GT(e,t){return(e=ui(e))._checkNotDeleted("ref"),void 0!==t?$T(e._root,t):e._root}function QT(e,t){(e=ui(e))._checkNotDeleted("refFromURL");var n=LT(t,e._repo.repoInfo_.nodeAdmin);nT("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||N_("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),GT(e,n.path.toString())}function $T(e,t){var n,r,i,a;return null===bx((e=ui(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),eT(n,r,i,a)):eT("child","path",t,!1),new KT(e._repo,Cx(e._path,t))}function YT(e,t){e=ui(e),tT("push",e._path),$C("push",t,e._path,!0);var n,r=hT(e._repo),i=gS(r),a=$T(e,i),o=$T(e,i);return n=null!=t?XT(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function ZT(e){return tT("remove",e._path),XT(e,null)}function XT(e,t){e=ui(e),tT("set",e._path),$C("set",t,e._path,!1);var n=new Ar;return gT(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function JT(e,t){e=ui(e),tT("setPriority",e._path),XC("setPriority",t,!1);var n=new Ar;return gT(e._repo,Cx(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function eI(e,t,n){if(tT("setWithPriority",e._path),$C("setWithPriority",t,e._path,!1),XC("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Ar;return gT(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function tI(e,t){ZC("update",t,e._path,!1);var n=new Ar;return function(e,t,n,r){xT(e,"update",{path:t.toString(),value:n});var i=!0,a=dT(e),o={};if(V_(n,(function(n,r){i=!1,o[n]=PC(Cx(t,n),dS(r),e.serverSyncTree_,a)})),i)C_("update() called with empty data.  Don't do anything."),ST(0,r,"ok",void 0);else{var u=mT(e),s=lC(e.serverSyncTree_,t,o,u);iT(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||A_("update at "+t+" failed: "+n);var o=cC(e.serverSyncTree_,u,!a),s=o.length>0?IT(e,t):t;oT(e.eventQueue_,s,o),ST(0,r,n,i)})),V_(n,(function(n){var r=RT(e,Cx(t,n));IT(e,r)})),oT(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function nI(e){return function(e,t){var n=vC(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=dS(n).withIndex(t._queryParams.getIndex()),i=fC(e.serverSyncTree_,t._path,r);return aT(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return xT(e,"get for query "+zr(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=ui(e))._repo,e).then((function(t){return new HT(t,new KT(e._repo,e._path),e._queryParams.getIndex())}))}var rI=function(){function e(t){r(this,e),this.callbackContext=t}return a(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new FT("value",this,new HT(e.snapshotNode,new KT(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new jT(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),iI=function(){function e(t,n){r(this,e),this.eventType=t,this.callbackContext=n}return a(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new jT(this,e,t):null}},{key:"createEvent",value:function(e,t){wr(null!=e.childName,"Child events should have a childName.");var n=$T(new KT(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new FT(e.type,this,new HT(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function aI(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){wT(e._repo,e,l),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new VT(n,a||void 0),l="value"===t?new rI(s):new iI(t,s);return function(e,t,n){var r;r=".info"===bx(t._path)?dC(e.infoSyncTree_,t,n):dC(e.serverSyncTree_,t,n),aT(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return wT(e._repo,e,l)}}function oI(e,t,n,r){return aI(e,"value",t,n,r)}function uI(e,t,n,r){return aI(e,"child_added",t,n,r)}function sI(e,t,n,r){return aI(e,"child_changed",t,n,r)}function lI(e,t,n,r){return aI(e,"child_moved",t,n,r)}function cI(e,t,n,r){return aI(e,"child_removed",t,n,r)}function fI(e,t,n){var r=null,i=n?new VT(n):null;"value"===t?r=new rI(i):t&&(r=new iI(t,i)),wT(e._repo,e,r)}var hI=a((function e(){r(this,e)})),dI=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._value=e,a._key=i,a}return a(n,[{key:"_apply",value:function(e){$C("endAt",this._value,e._path,!0);var t=AS(e._queryParams,this._value,this._key);if(WT(t),zT(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new BT(e._repo,e._path,t,e._orderByCalled)}}]),n}(hI);function pI(e,t){return JC("endAt","key",t,!0),new dI(e,t)}var vI=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._value=e,a._key=i,a}return a(n,[{key:"_apply",value:function(e){$C("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ux?("string"===typeof t&&(t=bS(t)),r=AS(e,t,n)):r=AS(e,t,null==n?D_:bS(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(WT(t),zT(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new BT(e._repo,e._path,t,e._orderByCalled)}}]),n}(hI);function yI(e,t){return JC("endBefore","key",t,!0),new vI(e,t)}var mI=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._value=e,a._key=i,a}return a(n,[{key:"_apply",value:function(e){$C("startAt",this._value,e._path,!0);var t=NS(e._queryParams,this._value,this._key);if(WT(t),zT(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new BT(e._repo,e._path,t,e._orderByCalled)}}]),n}(hI);function gI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return JC("startAt","key",t,!0),new mI(e,t)}var kI=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._value=e,a._key=i,a}return a(n,[{key:"_apply",value:function(e){$C("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ux?("string"===typeof t&&(t=kS(t)),r=NS(e,t,n)):r=NS(e,t,null==n?R_:kS(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(WT(t),zT(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new BT(e._repo,e._path,t,e._orderByCalled)}}]),n}(hI);function bI(e,t){return JC("startAfter","key",t,!0),new kI(e,t)}var wI=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this))._limit=e,i}return a(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new BT(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(hI);function _I(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wI(e)}var xI=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this))._limit=e,i}return a(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new BT(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(hI);function SI(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xI(e)}var EI=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this))._path=e,i}return a(n,[{key:"_apply",value:function(e){UT(e,"orderByChild");var t=new gx(this._path);if(Tx(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new pS(t),r=PS(e._queryParams,n);return zT(r),new BT(e._repo,e._path,r,!0)}}]),n}(hI);function CI(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return eT("orderByChild","path",e,!1),new EI(e)}var TI=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_apply",value:function(e){UT(e,"orderByKey");var t=PS(e._queryParams,Ux);return zT(t),new BT(e._repo,e._path,t,!0)}}]),n}(hI);function II(){return new TI}var NI=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_apply",value:function(e){UT(e,"orderByPriority");var t=PS(e._queryParams,aS);return zT(t),new BT(e._repo,e._path,t,!0)}}]),n}(hI);function AI(){return new NI}var PI=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_apply",value:function(e){UT(e,"orderByValue");var t=PS(e._queryParams,yS);return zT(t),new BT(e._repo,e._path,t,!0)}}]),n}(hI);function DI(){return new PI}var RI=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._value=e,a._key=i,a}return a(n,[{key:"_apply",value:function(e){if($C("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dI(this._value,this._key)._apply(new mI(this._value,this._key)._apply(e))}}]),n}(hI);function OI(e,t){return JC("equalTo","key",t,!0),new RI(e,t)}function LI(e){for(var t=ui(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];t=u._apply(t)}return t}!function(e){wr(!BE,"__referenceConstructor has already been defined"),BE=e}(KT),function(e){wr(!QE,"__referenceConstructor has already been defined"),QE=e}(KT);var MI={},FI=!1;function jI(e,t,n,r){e.repoInfo_=new ex("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function VI(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||N_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C_("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=LT(a,i),s=u.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/Website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(s.namespace),s=(u=LT(a,i)).repoInfo):o=!u.repoInfo.secure;var c=i&&o?new $_($_.OWNER):new Q_(e.name,e.options,t);nT("Invalid Firebase Database URL",u),Tx(u.path)||N_("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=MI[t.name];i||(i={},MI[t.name]=i);var a=i[e.toURLString()];a&&N_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new cT(e,FI,n,r),i[e.toURLString()]=a,a}(s,e,c,new G_(e.name,n));return new qI(f,e)}var qI=function(){function e(t,n){r(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return a(e,[{key:"_repo",get:function(){return this._instanceStarted||(fT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new KT(this._repo,kx())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=MI[t];n&&n[e.key]===e||N_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),_T(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&N_("Cannot call "+e+" on a deleted database.")}}]),e}();function BI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ui(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&N_("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&N_('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new $_($_.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Pr(r.mockUserToken,e.app.options.projectId);a=new $_(o)}jI(i,t,n,a)}function UI(e){(e=ui(e))._checkNotDeleted("goOffline"),_T(e._repo)}function zI(e){var t;(e=ui(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(lT)}function WI(e,t){E_(e,t)}var KI={".sv":"timestamp"};var HI=function(){function e(t,n){r(this,e),this.committed=t,this.snapshot=n}return a(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function GI(e,t,n){var r;if(e=ui(e),tT("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Ar,o=oI(e,(function(){}));return function(e,t,n,r,i,a){xT(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:b_(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ET(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{YC("transaction failed: Data returned ",s,o.path),o.status=0;var l,c=LC(e.transactionQueueTree_,t),f=MC(c)||[];f.push(o),FC(c,f),"object"===typeof s&&null!==s&&Kr(s,".priority")?(l=Hr(s,".priority"),wr(QC(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(pC(e.serverSyncTree_,t)||fS.EMPTY_NODE).getPriority().val();var h=dT(e),d=dS(s,l),p=DC(d,u,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=mT(e);var v=sC(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);oT(e.eventQueue_,t,v),CT(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new HT(r,new KT(e._repo,e._path),aS),a.resolve(new HI(n,i)))}),o,i),a.promise}Fx.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Fx.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){d_(Ki),ji(new pi("database",(function(e,t){var n=t.instanceIdentifier;return VI(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Zi(c_,f_,e),Zi(c_,f_,"esm2017")}();var QI=new Ti("@firebase/database-compat"),$I=function(e){var t="FIREBASE WARNING: "+e;QI.warn(t)},YI=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(ri(e,t)+"must be a boolean.")},ZI=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ri(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},XI=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"cancel",value:function(e){ni("OnDisconnect.cancel",0,1,arguments.length),ii("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){ni("OnDisconnect.remove",0,1,arguments.length),ii("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){ni("OnDisconnect.set",1,2,arguments.length),ii("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){ni("OnDisconnect.setWithPriority",2,3,arguments.length),ii("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(ni("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,$I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),JI=function(){function e(t,n){r(this,e),this.committed=t,this.snapshot=n}return a(e,[{key:"toJSON",value:function(){return ni("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),eN=function(){function e(t,n){r(this,e),this._database=t,this._delegate=n}return a(e,[{key:"val",value:function(){return ni("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return ni("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return ni("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return ni("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return ni("DataSnapshot.child",0,1,arguments.length),t=String(t),eT("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return ni("DataSnapshot.hasChild",1,1,arguments.length),eT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return ni("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return ni("DataSnapshot.forEach",1,1,arguments.length),ii("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return ni("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return ni("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return ni("DataSnapshot.ref",0,0,arguments.length),new nN(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),tN=function(){function e(t,n){r(this,e),this.database=t,this._delegate=n}return a(e,[{key:"on",value:function(t,n,r,i){var a,o=this;ni("Query.on",2,4,arguments.length),ii("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new eN(o.database,e),t)};s.userCallback=n,s.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return oI(this._delegate,s,l),n;case"child_added":return uI(this._delegate,s,l),n;case"child_removed":return cI(this._delegate,s,l),n;case"child_changed":return sI(this._delegate,s,l),n;case"child_moved":return lI(this._delegate,s,l),n;default:throw new Error(ri("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(ni("Query.off",0,3,arguments.length),ZI("Query.off",e,!0),ii("Query.off","callback",t,!0),ai("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,fI(this._delegate,e,r)}else fI(this._delegate,e)}},{key:"get",value:function(){var e=this;return nI(this._delegate).then((function(t){return new eN(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;ni("Query.once",1,4,arguments.length),ii("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new Ar,s=function(e,t){var r=new eN(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var l=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":oI(this._delegate,s,l,{onlyOnce:!0});break;case"child_added":uI(this._delegate,s,l,{onlyOnce:!0});break;case"child_removed":cI(this._delegate,s,l,{onlyOnce:!0});break;case"child_changed":sI(this._delegate,s,l,{onlyOnce:!0});break;case"child_moved":lI(this._delegate,s,l,{onlyOnce:!0});break;default:throw new Error(ri("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return ni("Query.limitToFirst",1,1,arguments.length),new e(this.database,LI(this._delegate,_I(t)))}},{key:"limitToLast",value:function(t){return ni("Query.limitToLast",1,1,arguments.length),new e(this.database,LI(this._delegate,SI(t)))}},{key:"orderByChild",value:function(t){return ni("Query.orderByChild",1,1,arguments.length),new e(this.database,LI(this._delegate,CI(t)))}},{key:"orderByKey",value:function(){return ni("Query.orderByKey",0,0,arguments.length),new e(this.database,LI(this._delegate,II()))}},{key:"orderByPriority",value:function(){return ni("Query.orderByPriority",0,0,arguments.length),new e(this.database,LI(this._delegate,AI()))}},{key:"orderByValue",value:function(){return ni("Query.orderByValue",0,0,arguments.length),new e(this.database,LI(this._delegate,DI()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.startAt",0,2,arguments.length),new e(this.database,LI(this._delegate,gI(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.startAfter",0,2,arguments.length),new e(this.database,LI(this._delegate,bI(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.endAt",0,2,arguments.length),new e(this.database,LI(this._delegate,pI(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return ni("Query.endBefore",0,2,arguments.length),new e(this.database,LI(this._delegate,yI(t,n)))}},{key:"equalTo",value:function(t,n){return ni("Query.equalTo",1,2,arguments.length),new e(this.database,LI(this._delegate,OI(t,n)))}},{key:"toString",value:function(){return ni("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return ni("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(ni("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new nN(this.database,new KT(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,ii(e,"cancel",r.cancel,!0),r.context=n,ai(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(ri(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),nN=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,new BT(i._repo,i._path,new IS,!1))).database=e,a._delegate=i,a}return a(n,[{key:"getKey",value:function(){return ni("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return ni("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,$T(this._delegate,e))}},{key:"getParent",value:function(){ni("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return ni("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){ni("Reference.set",1,2,arguments.length),ii("Reference.set","onComplete",t,!0);var n=XT(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(ni("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,$I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tT("Reference.update",this._delegate._path),ii("Reference.update","onComplete",t,!0);var i=tI(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){ni("Reference.setWithPriority",2,3,arguments.length),ii("Reference.setWithPriority","onComplete",n,!0);var r=eI(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){ni("Reference.remove",0,1,arguments.length),ii("Reference.remove","onComplete",e,!0);var t=ZT(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;ni("Reference.transaction",1,3,arguments.length),ii("Reference.transaction","transactionUpdate",e,!1),ii("Reference.transaction","onComplete",t,!0),YI("Reference.transaction","applyLocally",n,!0);var i=GI(this._delegate,e,{applyLocally:n}).then((function(e){return new JI(e.committed,new eN(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){ni("Reference.setPriority",1,2,arguments.length),ii("Reference.setPriority","onComplete",t,!0);var n=JT(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;ni("Reference.push",0,2,arguments.length),ii("Reference.push","onComplete",t,!0);var i=YT(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return tT("Reference.onDisconnect",this._delegate._path),new XI(new qT(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(tN),rN=function(){function e(t,n){var i=this;r(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return i._delegate._delete()}}}return a(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};BI(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(ni("database.ref",0,1,arguments.length),e instanceof nN){var t=QT(this._delegate,e.toString());return new nN(this,t)}var n=GT(this._delegate,e);return new nN(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";ni(t,1,1,arguments.length);var n=QT(this._delegate,e);return new nN(this,n)}},{key:"goOffline",value:function(){return ni("database.goOffline",0,0,arguments.length),UI(this._delegate)}},{key:"goOnline",value:function(){return ni("database.goOnline",0,0,arguments.length),zI(this._delegate)}}]),e}();rN.ServerValue={TIMESTAMP:KI,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var iN=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,u=void 0!==o&&o;d_(r);var s=new yi("auth-internal",new ki("database-standalone"));return s.setComponent(new pi("auth-internal",(function(){return i}),"PRIVATE")),{instance:new rN(VI(t,s,void 0,n,u),t),namespace:a}}}),aN=rN.ServerValue;!function(e){e.INTERNAL.registerComponent(new pi("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new rN(i,r)}),"PUBLIC").setServiceProps({Reference:nN,Query:tN,Database:rN,DataSnapshot:eN,enableLogging:WI,INTERNAL:iN,ServerValue:aN}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.1.8")}(wa),wa.initializeApp({apiKey:"AIzaSyB1zWnTfYd2qDElOB2LN6jjWPLsLyyMZlw",projectId:"portfolio-58204"});var oN=document.getElementById("root");(0,l_.s)(oN).render((0,p.jsx)(s_,{}))}()}();
//# sourceMappingURL=main.6148f551.js.map